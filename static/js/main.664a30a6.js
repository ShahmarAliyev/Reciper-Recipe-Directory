/*! For license information please see main.664a30a6.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,o){for(var a,u,s=i(e),c=1;c<arguments.length;c++){for(var l in a=Object(arguments[c]))n.call(a,l)&&(s[l]=a[l]);if(t){u=t(a);for(var f=0;f<u.length;f++)r.call(a,u[f])&&(s[u[f]]=a[u[f]])}}return s}},463:function(e,t,n){"use strict";var r=n(791),i=n(725),o=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var u=new Set,s={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)u.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function y(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new y(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new y(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new y(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new y(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new y(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new y(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new y(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new y(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new y(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,b);m[t]=new y(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,b);m[t]=new y(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,b);m[t]=new y(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new y(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new y(e,1,!1,e.toLowerCase(),null,!0,!0)}));var E=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=60103,S=60106,k=60107,T=60108,I=60114,x=60109,C=60110,N=60112,D=60113,A=60120,O=60115,P=60116,R=60121,L=60128,M=60129,F=60130,j=60131;if("function"===typeof Symbol&&Symbol.for){var U=Symbol.for;_=U("react.element"),S=U("react.portal"),k=U("react.fragment"),T=U("react.strict_mode"),I=U("react.profiler"),x=U("react.provider"),C=U("react.context"),N=U("react.forward_ref"),D=U("react.suspense"),A=U("react.suspense_list"),O=U("react.memo"),P=U("react.lazy"),R=U("react.block"),U("react.scope"),L=U("react.opaque.id"),M=U("react.debug_trace_mode"),F=U("react.offscreen"),j=U("react.legacy_hidden")}var V,q="function"===typeof Symbol&&Symbol.iterator;function B(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=q&&e[q]||e["@@iterator"])?e:null}function z(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var K=!1;function H(e,t){if(!e||K)return"";K=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(s){var r=s}Reflect.construct(e,[],t)}else{try{t.call()}catch(s){r=s}e.call(t.prototype)}else{try{throw Error()}catch(s){r=s}e()}}catch(s){if(s&&r&&"string"===typeof s.stack){for(var i=s.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,u=o.length-1;1<=a&&0<=u&&i[a]!==o[u];)u--;for(;1<=a&&0<=u;a--,u--)if(i[a]!==o[u]){if(1!==a||1!==u)do{if(a--,0>--u||i[a]!==o[u])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=u);break}}}finally{K=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function W(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=H(e.type,!1);case 11:return e=H(e.type.render,!1);case 22:return e=H(e.type._render,!1);case 1:return e=H(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case S:return"Portal";case I:return"Profiler";case T:return"StrictMode";case D:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case x:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case O:return G(e.type);case R:return G(e._render);case P:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function $(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=$(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ue(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ce(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,ye,me=(ye=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ye(e,t)}))}:ye);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var be={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},we=["Webkit","ms","Moz","O"];function Ee(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||be.hasOwnProperty(e)&&be[e]?(""+t).trim():t+"px"}function _e(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=Ee(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(be).forEach((function(e){we.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),be[t]=be[e]}))}));var Se=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ke(e,t){if(t){if(Se[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function Te(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ie(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Ce=null,Ne=null;function De(e){if(e=ri(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=oi(t),xe(e.stateNode,e.type,t))}}function Ae(e){Ce?Ne?Ne.push(e):Ne=[e]:Ce=e}function Oe(){if(Ce){var e=Ce,t=Ne;if(Ne=Ce=null,De(e),t)for(e=0;e<t.length;e++)De(t[e])}}function Pe(e,t){return e(t)}function Re(e,t,n,r,i){return e(t,n,r,i)}function Le(){}var Me=Pe,Fe=!1,je=!1;function Ue(){null===Ce&&null===Ne||(Le(),Oe())}function Ve(e,t){var n=e.stateNode;if(null===n)return null;var r=oi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var qe=!1;if(f)try{var Be={};Object.defineProperty(Be,"passive",{get:function(){qe=!0}}),window.addEventListener("test",Be,Be),window.removeEventListener("test",Be,Be)}catch(ye){qe=!1}function ze(e,t,n,r,i,o,a,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Ke=!1,He=null,We=!1,Ge=null,Qe={onError:function(e){Ke=!0,He=e}};function $e(e,t,n,r,i,o,a,u,s){Ke=!1,He=null,ze.apply(Qe,arguments)}function Ye(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Xe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Je(e){if(Ye(e)!==e)throw Error(a(188))}function Ze(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ye(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Je(i),e;if(o===r)return Je(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,ot=!1,at=[],ut=null,st=null,ct=null,lt=new Map,ft=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":ut=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function yt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=pt(t,n,r,i,o),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function mt(e){var t=ni(e.target);if(null!==t){var n=Ye(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Xe(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function bt(e,t,n){gt(e)&&n.delete(t)}function wt(){for(ot=!1;0<at.length;){var e=at[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&at.shift()}null!==ut&&gt(ut)&&(ut=null),null!==st&&gt(st)&&(st=null),null!==ct&&gt(ct)&&(ct=null),lt.forEach(bt),ft.forEach(bt)}function Et(e,t){e.blockedOn===t&&(e.blockedOn=null,ot||(ot=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,wt)))}function _t(e){function t(t){return Et(t,e)}if(0<at.length){Et(at[0],e);for(var n=1;n<at.length;n++){var r=at[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ut&&Et(ut,e),null!==st&&Et(st,e),null!==ct&&Et(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)mt(n),null===n.blockedOn&&ht.shift()}function St(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kt={animationend:St("Animation","AnimationEnd"),animationiteration:St("Animation","AnimationIteration"),animationstart:St("Animation","AnimationStart"),transitionend:St("Transition","TransitionEnd")},Tt={},It={};function xt(e){if(Tt[e])return Tt[e];if(!kt[e])return e;var t,n=kt[e];for(t in n)if(n.hasOwnProperty(t)&&t in It)return Tt[e]=n[t];return e}f&&(It=document.createElement("div").style,"AnimationEvent"in window||(delete kt.animationend.animation,delete kt.animationiteration.animation,delete kt.animationstart.animation),"TransitionEvent"in window||delete kt.transitionend.transition);var Ct=xt("animationend"),Nt=xt("animationiteration"),Dt=xt("animationstart"),At=xt("transitionend"),Ot=new Map,Pt=new Map,Rt=["abort","abort",Ct,"animationEnd",Nt,"animationIteration",Dt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",At,"transitionEnd","waiting","waiting"];function Lt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Pt.set(r,t),Ot.set(r,i),c(i,[r])}}(0,o.unstable_now)();var Mt=8;function Ft(e){if(0!==(1&e))return Mt=15,1;if(0!==(2&e))return Mt=14,2;if(0!==(4&e))return Mt=13,4;var t=24&e;return 0!==t?(Mt=12,t):0!==(32&e)?(Mt=11,32):0!==(t=192&e)?(Mt=10,t):0!==(256&e)?(Mt=9,256):0!==(t=3584&e)?(Mt=8,t):0!==(4096&e)?(Mt=7,4096):0!==(t=4186112&e)?(Mt=6,t):0!==(t=62914560&e)?(Mt=5,t):67108864&e?(Mt=4,67108864):0!==(134217728&e)?(Mt=3,134217728):0!==(t=805306368&e)?(Mt=2,t):0!==(1073741824&e)?(Mt=1,1073741824):(Mt=8,e)}function jt(e,t){var n=e.pendingLanes;if(0===n)return Mt=0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,u=e.pingedLanes;if(0!==o)r=o,i=Mt=15;else if(0!==(o=134217727&n)){var s=o&~a;0!==s?(r=Ft(s),i=Mt):0!==(u&=o)&&(r=Ft(u),i=Mt)}else 0!==(o=n&~a)?(r=Ft(o),i=Mt):0!==u&&(r=Ft(u),i=Mt);if(0===r)return 0;if(r=n&((0>(r=31-Kt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&a)){if(Ft(t),i<=Mt)return t;Mt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Kt(t)),r|=e[n],t&=~i;return r}function Ut(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Vt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=qt(24&~t))?Vt(10,t):e;case 10:return 0===(e=qt(192&~t))?Vt(8,t):e;case 8:return 0===(e=qt(3584&~t))&&(0===(e=qt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=qt(805306368&~t))&&(t=268435456),t}throw Error(a(358,e))}function qt(e){return e&-e}function Bt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function zt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Kt(t)]=n}var Kt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Ht(e)/Wt|0)|0},Ht=Math.log,Wt=Math.LN2;var Gt=o.unstable_UserBlockingPriority,Qt=o.unstable_runWithPriority,$t=!0;function Yt(e,t,n,r){Fe||Le();var i=Jt,o=Fe;Fe=!0;try{Re(i,e,t,n,r)}finally{(Fe=o)||Ue()}}function Xt(e,t,n,r){Qt(Gt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var i;if($t)if((i=0===(4&t))&&0<at.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),at.push(e);else{var o=Zt(e,t,n,r);if(null===o)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(o,e,t,n,r),void at.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return ut=yt(ut,e,t,n,r,i),!0;case"dragenter":return st=yt(st,e,t,n,r,i),!0;case"mouseover":return ct=yt(ct,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return lt.set(o,yt(lt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ft.set(o,yt(ft.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;vt(e,r)}Lr(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=Ie(r);if(null!==(i=ni(i))){var o=Ye(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=Xe(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Lr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function on(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function an(){return!0}function un(){return!1}function sn(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?an:un,this.isPropagationStopped=un,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an}),t}var cn,ln,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=sn(hn),pn=i({},hn,{view:0,detail:0}),vn=sn(pn),yn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),mn=sn(yn),gn=sn(i({},yn,{dataTransfer:0})),bn=sn(i({},pn,{relatedTarget:0})),wn=sn(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),En=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=sn(En),Sn=sn(i({},hn,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},In={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=In[e])&&!!t[e]}function Cn(){return xn}var Nn=i({},pn,{key:function(e){if(e.key){var t=kn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=on(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Tn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?on(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?on(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Dn=sn(Nn),An=sn(i({},yn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),On=sn(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Pn=sn(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=i({},yn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=sn(Rn),Mn=[9,13,27,32],Fn=f&&"CompositionEvent"in window,jn=null;f&&"documentMode"in document&&(jn=document.documentMode);var Un=f&&"TextEvent"in window&&!jn,Vn=f&&(!Fn||jn&&8<jn&&11>=jn),qn=String.fromCharCode(32),Bn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Qn(e,t,n,r){Ae(r),0<(t=Fr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $n=null,Yn=null;function Xn(e){Nr(e,0)}function Jn(e){if(X(ii(e)))return e}function Zn(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){$n&&($n.detachEvent("onpropertychange",or),Yn=$n=null)}function or(e){if("value"===e.propertyName&&Jn(Yn)){var t=[];if(Qn(t,Yn,e,Ie(e)),e=Xn,Fe)e(t);else{Fe=!0;try{Pe(e,t)}finally{Fe=!1,Ue()}}}}function ar(e,t,n){"focusin"===e?(ir(),Yn=n,($n=t).attachEvent("onpropertychange",or)):"focusout"===e&&ir()}function ur(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Yn)}function sr(e,t){if("click"===e)return Jn(t)}function cr(e,t){if("input"===e||"change"===e)return Jn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function hr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function yr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function mr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=f&&"documentMode"in document&&11>=document.documentMode,br=null,wr=null,Er=null,_r=!1;function Sr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_r||null==br||br!==J(r)||("selectionStart"in(r=br)&&mr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},Er&&hr(Er,r)||(Er=r,0<(r=Fr(wr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=br)))}Lt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Lt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Lt(Rt,2);for(var kr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Tr=0;Tr<kr.length;Tr++)Pt.set(kr[Tr],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ir="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ir));function Cr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if($e.apply(this,arguments),Ke){if(!Ke)throw Error(a(198));var l=He;Ke=!1,He=null,We||(We=!0,Ge=l)}}(r,t,void 0,e),e.currentTarget=null}function Nr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var u=r[a],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==o&&i.isPropagationStopped())break e;Cr(i,u,c),o=s}else for(a=0;a<r.length;a++){if(s=(u=r[a]).instance,c=u.currentTarget,u=u.listener,s!==o&&i.isPropagationStopped())break e;Cr(i,u,c),o=s}}}if(We)throw e=Ge,We=!1,Ge=null,e}function Dr(e,t){var n=ai(t),r=e+"__bubble";n.has(r)||(Rr(t,e,2,!1),n.add(r))}var Ar="_reactListening"+Math.random().toString(36).slice(2);function Or(e){e[Ar]||(e[Ar]=!0,u.forEach((function(t){xr.has(t)||Pr(t,!1,e,null),Pr(t,!0,e,null)})))}function Pr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&xr.has(e)){if("scroll"!==e)return;i|=2,o=r}var a=ai(o),u=e+"__"+(t?"capture":"bubble");a.has(u)||(t&&(i|=4),Rr(o,e,i,t),a.add(u))}function Rr(e,t,n,r){var i=Pt.get(t);switch(void 0===i?2:i){case 0:i=Yt;break;case 1:i=Xt;break;default:i=Jt}n=i.bind(null,t,n,e),i=void 0,!qe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Lr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var s=a.tag;if((3===s||4===s)&&((s=a.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;a=a.return}for(;null!==u;){if(null===(a=ni(u)))return;if(5===(s=a.tag)||6===s){r=o=a;continue e}u=u.parentNode}}r=r.return}!function(e,t,n){if(je)return e(t,n);je=!0;try{Me(e,t,n)}finally{je=!1,Ue()}}((function(){var r=o,i=Ie(n),a=[];e:{var u=Ot.get(e);if(void 0!==u){var s=dn,c=e;switch(e){case"keypress":if(0===on(n))break e;case"keydown":case"keyup":s=Dn;break;case"focusin":c="focus",s=bn;break;case"focusout":c="blur",s=bn;break;case"beforeblur":case"afterblur":s=bn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=On;break;case Ct:case Nt:case Dt:s=wn;break;case At:s=Pn;break;case"scroll":s=vn;break;case"wheel":s=Ln;break;case"copy":case"cut":case"paste":s=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=An}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ve(p,h))&&l.push(Mr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),a.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(f=Ye(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=mn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=An,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:ii(s),d=null==c?u:ii(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,ni(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=jr(d))p++;for(d=0,v=h;v;v=jr(v))d++;for(;0<p-d;)l=jr(l),p--;for(;0<d-p;)h=jr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=jr(l),h=jr(h)}l=null}else l=null;null!==s&&Ur(a,u,s,l,!1),null!==c&&null!==f&&Ur(a,f,c,l,!0)}if("select"===(s=(u=r?ii(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var y=Zn;else if(Gn(u))if(er)y=cr;else{y=ur;var m=ar}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(y=sr);switch(y&&(y=y(e,r))?Qn(a,y,n,i):(m&&m(e,u,r),"focusout"===e&&(m=u._wrapperState)&&m.controlled&&"number"===u.type&&ie(u,"number",u.value)),m=r?ii(r):window,e){case"focusin":(Gn(m)||"true"===m.contentEditable)&&(br=m,wr=r,Er=null);break;case"focusout":Er=wr=br=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,Sr(a,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":Sr(a,n,i)}var g;if(Fn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Hn?zn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Vn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Hn&&(g=rn()):(tn="value"in(en=i)?en.value:en.textContent,Hn=!0)),0<(m=Fr(r,b)).length&&(b=new Sn(b,e,null,n,i),a.push({event:b,listeners:m}),g?b.data=g:null!==(g=Kn(n))&&(b.data=g))),(g=Un?function(e,t){switch(e){case"compositionend":return Kn(t);case"keypress":return 32!==t.which?null:(Bn=!0,qn);case"textInput":return(e=t.data)===qn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!Fn&&zn(e,t)?(e=rn(),nn=tn=en=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Fr(r,"onBeforeInput")).length&&(i=new Sn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=g))}Nr(a,t)}))}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Fr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ve(e,n))&&r.unshift(Mr(e,o,i)),null!=(o=Ve(e,t))&&r.push(Mr(e,o,i))),e=e.return}return r}function jr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ur(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Ve(n,o))&&a.unshift(Mr(n,s,u)):i||null!=(s=Ve(n,o))&&a.push(Mr(n,s,u))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function Vr(){}var qr=null,Br=null;function zr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Kr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Hr="function"===typeof setTimeout?setTimeout:void 0,Wr="function"===typeof clearTimeout?clearTimeout:void 0;function Gr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Qr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function $r(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Yr=0;var Xr=Math.random().toString(36).slice(2),Jr="__reactFiber$"+Xr,Zr="__reactProps$"+Xr,ei="__reactContainer$"+Xr,ti="__reactEvents$"+Xr;function ni(e){var t=e[Jr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Jr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=$r(e);null!==e;){if(n=e[Jr])return n;e=$r(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Jr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function oi(e){return e[Zr]||null}function ai(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var ui=[],si=-1;function ci(e){return{current:e}}function li(e){0>si||(e.current=ui[si],ui[si]=null,si--)}function fi(e,t){si++,ui[si]=e.current,e.current=t}var hi={},di=ci(hi),pi=ci(!1),vi=hi;function yi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function mi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function gi(){li(pi),li(di)}function bi(e,t,n){if(di.current!==hi)throw Error(a(168));fi(di,t),fi(pi,n)}function wi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,G(t)||"Unknown",o));return i({},n,r)}function Ei(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,vi=di.current,fi(di,e),fi(pi,pi.current),!0}function _i(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=wi(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(di),fi(di,e)):li(pi),fi(pi,n)}var Si=null,ki=null,Ti=o.unstable_runWithPriority,Ii=o.unstable_scheduleCallback,xi=o.unstable_cancelCallback,Ci=o.unstable_shouldYield,Ni=o.unstable_requestPaint,Di=o.unstable_now,Ai=o.unstable_getCurrentPriorityLevel,Oi=o.unstable_ImmediatePriority,Pi=o.unstable_UserBlockingPriority,Ri=o.unstable_NormalPriority,Li=o.unstable_LowPriority,Mi=o.unstable_IdlePriority,Fi={},ji=void 0!==Ni?Ni:function(){},Ui=null,Vi=null,qi=!1,Bi=Di(),zi=1e4>Bi?Di:function(){return Di()-Bi};function Ki(){switch(Ai()){case Oi:return 99;case Pi:return 98;case Ri:return 97;case Li:return 96;case Mi:return 95;default:throw Error(a(332))}}function Hi(e){switch(e){case 99:return Oi;case 98:return Pi;case 97:return Ri;case 96:return Li;case 95:return Mi;default:throw Error(a(332))}}function Wi(e,t){return e=Hi(e),Ti(e,t)}function Gi(e,t,n){return e=Hi(e),Ii(e,t,n)}function Qi(){if(null!==Vi){var e=Vi;Vi=null,xi(e)}$i()}function $i(){if(!qi&&null!==Ui){qi=!0;var e=0;try{var t=Ui;Wi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ui=null}catch(n){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ii(Oi,Qi),n}finally{qi=!1}}}var Yi=E.ReactCurrentBatchConfig;function Xi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ji=ci(null),Zi=null,eo=null,to=null;function no(){to=eo=Zi=null}function ro(e){var t=Ji.current;li(Ji),e.type._context._currentValue=t}function io(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function oo(e,t){Zi=e,to=eo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Fa=!0),e.firstContext=null)}function ao(e,t){if(to!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(to=e,t=1073741823),t={context:e,observedBits:t,next:null},null===eo){if(null===Zi)throw Error(a(308));eo=t,Zi.dependencies={lanes:0,firstContext:t,responders:null}}else eo=eo.next=t;return e._currentValue}var uo=!1;function so(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function co(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function lo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fo(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ho(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function po(e,t,n,r){var o=e.updateQueue;uo=!1;var a=o.firstBaseUpdate,u=o.lastBaseUpdate,s=o.shared.pending;if(null!==s){o.shared.pending=null;var c=s,l=c.next;c.next=null,null===u?a=l:u.next=l,u=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==u&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==a){for(h=o.baseState,u=0,f=l=c=null;;){s=a.lane;var d=a.eventTime;if((r&s)===s){null!==f&&(f=f.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,v=a;switch(s=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,s);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(s="function"===typeof(p=v.payload)?p.call(d,h,s):p)||void 0===s)break e;h=i({},h,s);break e;case 2:uo=!0}}null!==a.callback&&(e.flags|=32,null===(s=o.effects)?o.effects=[a]:s.push(a))}else d={eventTime:d,lane:s,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,u|=s;if(null===(a=a.next)){if(null===(s=o.shared.pending))break;a=s.next,s.next=null,o.lastBaseUpdate=s,o.shared.pending=null}}null===f&&(c=h),o.baseState=c,o.firstBaseUpdate=l,o.lastBaseUpdate=f,qu|=u,e.lanes=u,e.memoizedState=h}}function vo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var yo=(new r.Component).refs;function mo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var go={isMounted:function(e){return!!(e=e._reactInternals)&&Ye(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),o=lo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),fo(e,o),ps(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),o=lo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),fo(e,o),ps(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hs(),r=ds(e),i=lo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fo(e,i),ps(e,r,n)}};function bo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,o))}function wo(e,t,n){var r=!1,i=hi,o=t.contextType;return"object"===typeof o&&null!==o?o=ao(o):(i=mi(t)?vi:di.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?yi(e,i):hi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=go,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Eo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&go.enqueueReplaceState(t,t.state,null)}function _o(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=yo,so(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=ao(o):(o=mi(t)?vi:di.current,i.context=yi(e,o)),po(e,n,i,r),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(mo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&go.enqueueReplaceState(i,i.state,null),po(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var So=Array.isArray;function ko(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===yo&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function To(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Io(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ws(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function u(t){return e&&null===t.alternate&&(t.flags=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Ys(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=ko(e,t,n),r.return=e,r):((r=Gs(n.type,n.key,n.props,null,e.mode,r)).ref=ko(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Xs(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,o){return null===t||7!==t.tag?((t=Qs(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Ys(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Gs(t.type,t.key,t.props,null,e.mode,n)).ref=ko(e,null,t),n.return=e,n;case S:return(t=Xs(t,e.mode,n)).return=e,t}if(So(t)||B(t))return(t=Qs(t,e.mode,n,null)).return=e,t;To(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?n.type===k?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case S:return n.key===i?l(e,t,n,r):null}if(So(n)||B(n))return null!==i?null:f(e,t,n,r,null);To(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return e=e.get(null===r.key?n:r.key)||null,r.type===k?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case S:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(So(r)||B(r))return f(t,e=e.get(n)||null,r,i,null);To(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,y=null;null!==f&&v<u.length;v++){f.index>v?(y=f,f=null):y=f.sibling;var m=d(i,f,u[v],s);if(null===m){null===f&&(f=y);break}e&&f&&null===m.alternate&&t(i,f),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m,f=y}if(v===u.length)return n(i,f),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<u.length;v++)null!==(y=p(f,i,v,u[v],s))&&(e&&null!==y.alternate&&f.delete(null===y.key?v:y.key),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y);return e&&f.forEach((function(e){return t(i,e)})),c}function y(i,u,s,c){var l=B(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,y=u=0,m=null,g=s.next();null!==v&&!g.done;y++,g=s.next()){v.index>y?(m=v,v=null):m=v.sibling;var b=d(i,v,g.value,c);if(null===b){null===v&&(v=m);break}e&&v&&null===b.alternate&&t(i,v),u=o(b,u,y),null===f?l=b:f.sibling=b,f=b,v=m}if(g.done)return n(i,v),l;if(null===v){for(;!g.done;y++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,y),null===f?l=g:f.sibling=g,f=g);return l}for(v=r(i,v);!g.done;y++,g=s.next())null!==(g=p(v,i,y,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?y:g.key),u=o(g,u,y),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,o,s){var c="object"===typeof o&&null!==o&&o.type===k&&null===o.key;c&&(o=o.props.children);var l="object"===typeof o&&null!==o;if(l)switch(o.$$typeof){case _:e:{for(l=o.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(o.type===k){n(e,c.sibling),(r=i(c,o.props.children)).return=e,e=r;break e}}else if(c.elementType===o.type){n(e,c.sibling),(r=i(c,o.props)).ref=ko(e,c,o),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}o.type===k?((r=Qs(o.props.children,e.mode,s,o.key)).return=e,e=r):((s=Gs(o.type,o.key,o.props,null,e.mode,s)).ref=ko(e,r,o),s.return=e,e=s)}return u(e);case S:e:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Xs(o,e.mode,s)).return=e,e=r}return u(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Ys(o,e.mode,s)).return=e,e=r),u(e);if(So(o))return v(e,r,o,s);if(B(o))return y(e,r,o,s);if(l&&To(e,o),"undefined"===typeof o&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,G(e.type)||"Component"))}return n(e,r)}}var xo=Io(!0),Co=Io(!1),No={},Do=ci(No),Ao=ci(No),Oo=ci(No);function Po(e){if(e===No)throw Error(a(174));return e}function Ro(e,t){switch(fi(Oo,t),fi(Ao,e),fi(Do,No),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Do),fi(Do,t)}function Lo(){li(Do),li(Ao),li(Oo)}function Mo(e){Po(Oo.current);var t=Po(Do.current),n=pe(t,e.type);t!==n&&(fi(Ao,e),fi(Do,n))}function Fo(e){Ao.current===e&&(li(Do),li(Ao))}var jo=ci(0);function Uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Vo=null,qo=null,Bo=!1;function zo(e,t){var n=Ks(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Ko(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Ho(e){if(Bo){var t=qo;if(t){var n=t;if(!Ko(e,t)){if(!(t=Qr(n.nextSibling))||!Ko(e,t))return e.flags=-1025&e.flags|2,Bo=!1,void(Vo=e);zo(Vo,n)}Vo=e,qo=Qr(t.firstChild)}else e.flags=-1025&e.flags|2,Bo=!1,Vo=e}}function Wo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Vo=e}function Go(e){if(e!==Vo)return!1;if(!Bo)return Wo(e),Bo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Kr(t,e.memoizedProps))for(t=qo;t;)zo(e,t),t=Qr(t.nextSibling);if(Wo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){qo=Qr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}qo=null}}else qo=Vo?Qr(e.stateNode.nextSibling):null;return!0}function Qo(){qo=Vo=null,Bo=!1}var $o=[];function Yo(){for(var e=0;e<$o.length;e++)$o[e]._workInProgressVersionPrimary=null;$o.length=0}var Xo=E.ReactCurrentDispatcher,Jo=E.ReactCurrentBatchConfig,Zo=0,ea=null,ta=null,na=null,ra=!1,ia=!1;function oa(){throw Error(a(321))}function aa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function ua(e,t,n,r,i,o){if(Zo=o,ea=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xo.current=null===e||null===e.memoizedState?Pa:Ra,e=n(r,i),ia){o=0;do{if(ia=!1,!(25>o))throw Error(a(301));o+=1,na=ta=null,t.updateQueue=null,Xo.current=La,e=n(r,i)}while(ia)}if(Xo.current=Oa,t=null!==ta&&null!==ta.next,Zo=0,na=ta=ea=null,ra=!1,t)throw Error(a(300));return e}function sa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===na?ea.memoizedState=na=e:na=na.next=e,na}function ca(){if(null===ta){var e=ea.alternate;e=null!==e?e.memoizedState:null}else e=ta.next;var t=null===na?ea.memoizedState:na.next;if(null!==t)na=t,ta=e;else{if(null===e)throw Error(a(310));e={memoizedState:(ta=e).memoizedState,baseState:ta.baseState,baseQueue:ta.baseQueue,queue:ta.queue,next:null},null===na?ea.memoizedState=na=e:na=na.next=e}return na}function la(e,t){return"function"===typeof t?t(e):t}function fa(e){var t=ca(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=ta,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var s=u=o=null,c=i;do{var l=c.lane;if((Zo&l)===l)null!==s&&(s=s.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===s?(u=s=f,o=r):s=s.next=f,ea.lanes|=l,qu|=l}c=c.next}while(null!==c&&c!==i);null===s?o=r:s.next=u,lr(r,t.memoizedState)||(Fa=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function ha(e){var t=ca(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);lr(o,t.memoizedState)||(Fa=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function da(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Zo&e)===e)&&(t._workInProgressVersionPrimary=r,$o.push(t))),e)return n(t._source);throw $o.push(t),Error(a(350))}function pa(e,t,n,r){var i=Pu;if(null===i)throw Error(a(349));var o=t._getVersion,u=o(t._source),s=Xo.current,c=s.useState((function(){return da(i,t,n)})),l=c[1],f=c[0];c=na;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var y=ea;return e.memoizedState={refs:d,source:t,subscribe:r},s.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=o(t._source);if(!lr(u,e)){e=n(t._source),lr(f,e)||(l(e),e=ds(y),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,a=e;0<a;){var s=31-Kt(a),c=1<<s;r[s]|=e,a&=~c}}}),[n,t,r]),s.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=ds(y);i.mutableReadLanes|=r&i.pendingLanes}catch(o){n((function(){throw o}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:la,lastRenderedState:f}).dispatch=l=Aa.bind(null,ea,e),c.queue=e,c.baseQueue=null,f=da(i,t,n),c.memoizedState=c.baseState=f),f}function va(e,t,n){return pa(ca(),e,t,n)}function ya(e){var t=sa();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:la,lastRenderedState:e}).dispatch=Aa.bind(null,ea,e),[t.memoizedState,e]}function ma(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ea.updateQueue)?(t={lastEffect:null},ea.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ga(e){return e={current:e},sa().memoizedState=e}function ba(){return ca().memoizedState}function wa(e,t,n,r){var i=sa();ea.flags|=e,i.memoizedState=ma(1|t,n,void 0,void 0===r?null:r)}function Ea(e,t,n,r){var i=ca();r=void 0===r?null:r;var o=void 0;if(null!==ta){var a=ta.memoizedState;if(o=a.destroy,null!==r&&aa(r,a.deps))return void ma(t,n,o,r)}ea.flags|=e,i.memoizedState=ma(1|t,n,o,r)}function _a(e,t){return wa(516,4,e,t)}function Sa(e,t){return Ea(516,4,e,t)}function ka(e,t){return Ea(4,2,e,t)}function Ta(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ia(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ea(4,2,Ta.bind(null,t,e),n)}function xa(){}function Ca(e,t){var n=ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&aa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Na(e,t){var n=ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&aa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Da(e,t){var n=Ki();Wi(98>n?98:n,(function(){e(!0)})),Wi(97<n?97:n,(function(){var n=Jo.transition;Jo.transition=1;try{e(!1),t()}finally{Jo.transition=n}}))}function Aa(e,t,n){var r=hs(),i=ds(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===ea||null!==a&&a===ea)ia=ra=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var u=t.lastRenderedState,s=a(u,n);if(o.eagerReducer=a,o.eagerState=s,lr(s,u))return}catch(c){}ps(e,i,r)}}var Oa={readContext:ao,useCallback:oa,useContext:oa,useEffect:oa,useImperativeHandle:oa,useLayoutEffect:oa,useMemo:oa,useReducer:oa,useRef:oa,useState:oa,useDebugValue:oa,useDeferredValue:oa,useTransition:oa,useMutableSource:oa,useOpaqueIdentifier:oa,unstable_isNewReconciler:!1},Pa={readContext:ao,useCallback:function(e,t){return sa().memoizedState=[e,void 0===t?null:t],e},useContext:ao,useEffect:_a,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wa(4,2,Ta.bind(null,t,e),n)},useLayoutEffect:function(e,t){return wa(4,2,e,t)},useMemo:function(e,t){var n=sa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=sa();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Aa.bind(null,ea,e),[r.memoizedState,e]},useRef:ga,useState:ya,useDebugValue:xa,useDeferredValue:function(e){var t=ya(e),n=t[0],r=t[1];return _a((function(){var t=Jo.transition;Jo.transition=1;try{r(e)}finally{Jo.transition=t}}),[e]),n},useTransition:function(){var e=ya(!1),t=e[0];return ga(e=Da.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=sa();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},pa(r,e,t,n)},useOpaqueIdentifier:function(){if(Bo){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Yr++).toString(36))),Error(a(355))})),n=ya(t)[1];return 0===(2&ea.mode)&&(ea.flags|=516,ma(5,(function(){n("r:"+(Yr++).toString(36))}),void 0,null)),t}return ya(t="r:"+(Yr++).toString(36)),t},unstable_isNewReconciler:!1},Ra={readContext:ao,useCallback:Ca,useContext:ao,useEffect:Sa,useImperativeHandle:Ia,useLayoutEffect:ka,useMemo:Na,useReducer:fa,useRef:ba,useState:function(){return fa(la)},useDebugValue:xa,useDeferredValue:function(e){var t=fa(la),n=t[0],r=t[1];return Sa((function(){var t=Jo.transition;Jo.transition=1;try{r(e)}finally{Jo.transition=t}}),[e]),n},useTransition:function(){var e=fa(la)[0];return[ba().current,e]},useMutableSource:va,useOpaqueIdentifier:function(){return fa(la)[0]},unstable_isNewReconciler:!1},La={readContext:ao,useCallback:Ca,useContext:ao,useEffect:Sa,useImperativeHandle:Ia,useLayoutEffect:ka,useMemo:Na,useReducer:ha,useRef:ba,useState:function(){return ha(la)},useDebugValue:xa,useDeferredValue:function(e){var t=ha(la),n=t[0],r=t[1];return Sa((function(){var t=Jo.transition;Jo.transition=1;try{r(e)}finally{Jo.transition=t}}),[e]),n},useTransition:function(){var e=ha(la)[0];return[ba().current,e]},useMutableSource:va,useOpaqueIdentifier:function(){return ha(la)[0]},unstable_isNewReconciler:!1},Ma=E.ReactCurrentOwner,Fa=!1;function ja(e,t,n,r){t.child=null===e?Co(t,null,n,r):xo(t,e.child,n,r)}function Ua(e,t,n,r,i){n=n.render;var o=t.ref;return oo(t,i),r=ua(e,t,n,r,o,i),null===e||Fa?(t.flags|=1,ja(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,ou(e,t,i))}function Va(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!==typeof a||Hs(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gs(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,qa(e,t,a,r,i,o))}return a=e.child,0===(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?ou(e,t,o):(t.flags|=1,(e=Ws(a,r)).ref=t.ref,e.return=t,t.child=e)}function qa(e,t,n,r,i,o){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(Fa=!1,0===(o&i))return t.lanes=e.lanes,ou(e,t,o);0!==(16384&e.flags)&&(Fa=!0)}return Ka(e,t,n,r,o)}function Ba(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},_s(t,n);else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},_s(t,e),null;t.memoizedState={baseLanes:0},_s(t,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,_s(t,r);return ja(e,t,i,n),t.child}function za(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ka(e,t,n,r,i){var o=mi(n)?vi:di.current;return o=yi(t,o),oo(t,i),n=ua(e,t,n,r,o,i),null===e||Fa?(t.flags|=1,ja(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,ou(e,t,i))}function Ha(e,t,n,r,i){if(mi(n)){var o=!0;Ei(t)}else o=!1;if(oo(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),wo(t,n,r),_o(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,u=t.memoizedProps;a.props=u;var s=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=ao(c):c=yi(t,c=mi(n)?vi:di.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(u!==r||s!==c)&&Eo(t,a,r,c),uo=!1;var h=t.memoizedState;a.state=h,po(t,r,a,i),s=t.memoizedState,u!==r||h!==s||pi.current||uo?("function"===typeof l&&(mo(t,n,l,r),s=t.memoizedState),(u=uo||bo(t,n,u,r,h,s,c))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4)):("function"===typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=s),a.props=r,a.state=s,a.context=c,r=u):("function"===typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,co(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:Xi(t.type,u),a.props=c,f=t.pendingProps,h=a.context,"object"===typeof(s=n.contextType)&&null!==s?s=ao(s):s=yi(t,s=mi(n)?vi:di.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(u!==f||h!==s)&&Eo(t,a,r,s),uo=!1,h=t.memoizedState,a.state=h,po(t,r,a,i);var p=t.memoizedState;u!==f||h!==p||pi.current||uo?("function"===typeof d&&(mo(t,n,d,r),p=t.memoizedState),(c=uo||bo(t,n,c,r,h,p,s))?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,s),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof a.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=s,r=c):("function"!==typeof a.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Wa(e,t,n,r,o,i)}function Wa(e,t,n,r,i,o){za(e,t);var a=0!==(64&t.flags);if(!r&&!a)return i&&_i(t,n,!1),ou(e,t,o);r=t.stateNode,Ma.current=t;var u=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=xo(t,e.child,null,o),t.child=xo(t,null,u,o)):ja(e,t,u,o),t.memoizedState=r.state,i&&_i(t,n,!0),t.child}function Ga(e){var t=e.stateNode;t.pendingContext?bi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&bi(0,t.context,!1),Ro(e,t.containerInfo)}var Qa,$a,Ya,Xa={dehydrated:null,retryLane:0};function Ja(e,t,n){var r,i=t.pendingProps,o=jo.current,a=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),fi(jo,1&o),null===e?(void 0!==i.fallback&&Ho(t),e=i.children,o=i.fallback,a?(e=Za(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xa,e):"number"===typeof i.unstable_expectedLoadTime?(e=Za(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xa,t.lanes=33554432,e):((n=$s({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(i=tu(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=Xa,i):(n=eu(e,t,i.children,n),t.memoizedState=null,n))}function Za(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=$s(t,i,0,null),n=Qs(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function eu(e,t,n,r){var i=e.child;return e=i.sibling,n=Ws(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function tu(e,t,n,r,i){var o=t.mode,a=e.child;e=a.sibling;var u={mode:"hidden",children:n};return 0===(2&o)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=u,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Ws(a,u),null!==e?r=Ws(e,r):(r=Qs(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function nu(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),io(e.return,t)}function ru(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function iu(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ja(e,t,r.children,n),0!==(2&(r=jo.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&nu(e,n);else if(19===e.tag)nu(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(jo,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ru(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ru(t,!0,n,null,o,t.lastEffect);break;case"together":ru(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function ou(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),qu|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Ws(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ws(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function au(e,t){if(!Bo)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function uu(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return mi(t.type)&&gi(),null;case 3:return Lo(),li(pi),li(di),Yo(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Go(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Fo(t);var o=Po(Oo.current);if(n=t.type,null!==e&&null!=t.stateNode)$a(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=Po(Do.current),Go(t)){r=t.stateNode,n=t.type;var u=t.memoizedProps;switch(r[Jr]=t,r[Zr]=u,n){case"dialog":Dr("cancel",r),Dr("close",r);break;case"iframe":case"object":case"embed":Dr("load",r);break;case"video":case"audio":for(e=0;e<Ir.length;e++)Dr(Ir[e],r);break;case"source":Dr("error",r);break;case"img":case"image":case"link":Dr("error",r),Dr("load",r);break;case"details":Dr("toggle",r);break;case"input":ee(r,u),Dr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!u.multiple},Dr("invalid",r);break;case"textarea":se(r,u),Dr("invalid",r)}for(var c in ke(n,u),e=null,u)u.hasOwnProperty(c)&&(o=u[c],"children"===c?"string"===typeof o?r.textContent!==o&&(e=["children",o]):"number"===typeof o&&r.textContent!==""+o&&(e=["children",""+o]):s.hasOwnProperty(c)&&null!=o&&"onScroll"===c&&Dr("scroll",r));switch(n){case"input":Y(r),re(r,u,!0);break;case"textarea":Y(r),le(r);break;case"select":case"option":break;default:"function"===typeof u.onClick&&(r.onclick=Vr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===o.nodeType?o:o.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Jr]=t,e[Zr]=r,Qa(e,t),t.stateNode=e,c=Te(n,r),n){case"dialog":Dr("cancel",e),Dr("close",e),o=r;break;case"iframe":case"object":case"embed":Dr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Ir.length;o++)Dr(Ir[o],e);o=r;break;case"source":Dr("error",e),o=r;break;case"img":case"image":case"link":Dr("error",e),Dr("load",e),o=r;break;case"details":Dr("toggle",e),o=r;break;case"input":ee(e,r),o=Z(e,r),Dr("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Dr("invalid",e);break;case"textarea":se(e,r),o=ue(e,r),Dr("invalid",e);break;default:o=r}ke(n,o);var l=o;for(u in l)if(l.hasOwnProperty(u)){var f=l[u];"style"===u?_e(e,f):"dangerouslySetInnerHTML"===u?null!=(f=f?f.__html:void 0)&&me(e,f):"children"===u?"string"===typeof f?("textarea"!==n||""!==f)&&ge(e,f):"number"===typeof f&&ge(e,""+f):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?null!=f&&"onScroll"===u&&Dr("scroll",e):null!=f&&w(e,u,f,c))}switch(n){case"input":Y(e),re(e,r,!1);break;case"textarea":Y(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(u=r.value)?ae(e,!!r.multiple,u,!1):null!=r.defaultValue&&ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Vr)}zr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Ya(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));n=Po(Oo.current),Po(Do.current),Go(t)?(r=t.stateNode,n=t.memoizedProps,r[Jr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Jr]=t,t.stateNode=r)}return null;case 13:return li(jo),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Go(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&jo.current)?0===ju&&(ju=3):(0!==ju&&3!==ju||(ju=4),null===Pu||0===(134217727&qu)&&0===(134217727&Bu)||gs(Pu,Lu))),(r||n)&&(t.flags|=4),null);case 4:return Lo(),null===e&&Or(t.stateNode.containerInfo),null;case 10:return ro(t),null;case 19:if(li(jo),null===(r=t.memoizedState))return null;if(u=0!==(64&t.flags),null===(c=r.rendering))if(u)au(r,!1);else{if(0!==ju||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Uo(e))){for(t.flags|=64,au(r,!1),null!==(u=c.updateQueue)&&(t.updateQueue=u,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(u=n).flags&=2,u.nextEffect=null,u.firstEffect=null,u.lastEffect=null,null===(c=u.alternate)?(u.childLanes=0,u.lanes=e,u.child=null,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=c.childLanes,u.lanes=c.lanes,u.child=c.child,u.memoizedProps=c.memoizedProps,u.memoizedState=c.memoizedState,u.updateQueue=c.updateQueue,u.type=c.type,e=c.dependencies,u.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(jo,1&jo.current|2),t.child}e=e.sibling}null!==r.tail&&zi()>Wu&&(t.flags|=64,u=!0,au(r,!1),t.lanes=33554432)}else{if(!u)if(null!==(e=Uo(c))){if(t.flags|=64,u=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),au(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Bo)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*zi()-r.renderingStartTime>Wu&&1073741824!==n&&(t.flags|=64,u=!0,au(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=zi(),n.sibling=null,t=jo.current,fi(jo,u?1&t|2:1&t),n):null;case 23:case 24:return Ss(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function su(e){switch(e.tag){case 1:mi(e.type)&&gi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Lo(),li(pi),li(di),Yo(),0!==(64&(t=e.flags)))throw Error(a(285));return e.flags=-4097&t|64,e;case 5:return Fo(e),null;case 13:return li(jo),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(jo),null;case 4:return Lo(),null;case 10:return ro(e),null;case 23:case 24:return Ss(),null;default:return null}}function cu(e,t){try{var n="",r=t;do{n+=W(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i}}function lu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Qa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},$a=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Po(Do.current);var a,u=null;switch(n){case"input":o=Z(e,o),r=Z(e,r),u=[];break;case"option":o=oe(e,o),r=oe(e,r),u=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),u=[];break;case"textarea":o=ue(e,o),r=ue(e,r),u=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=Vr)}for(f in ke(n,r),n=null,o)if(!r.hasOwnProperty(f)&&o.hasOwnProperty(f)&&null!=o[f])if("style"===f){var c=o[f];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(s.hasOwnProperty(f)?u||(u=[]):(u=u||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=o?o[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(a in c)!c.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&c[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(u||(u=[]),u.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(u=u||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(u=u||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(s.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Dr("scroll",e),u||c===l||(u=[])):"object"===typeof l&&null!==l&&l.$$typeof===L?l.toString():(u=u||[]).push(f,l))}n&&(u=u||[]).push("style",n);var f=u;(t.updateQueue=f)&&(t.flags|=4)}},Ya=function(e,t,n,r){n!==r&&(t.flags|=4)};var fu="function"===typeof WeakMap?WeakMap:Map;function hu(e,t,n){(n=lo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Yu||(Yu=!0,Xu=r),lu(0,t)},n}function du(e,t,n){(n=lo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return lu(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Ju?Ju=new Set([this]):Ju.add(this),lu(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var pu="function"===typeof WeakSet?WeakSet:Set;function vu(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Vs(e,n)}else t.current=null}function yu(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Xi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Gr(t.stateNode.containerInfo))}throw Error(a(163))}function mu(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Fs(n,e),Ms(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Xi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&vo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}vo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&zr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&_t(n)))))}throw Error(a(163))}function gu(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=Ee("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function bu(e,t){if(ki&&"function"===typeof ki.onCommitFiberUnmount)try{ki.onCommitFiberUnmount(Si,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Fs(t,n);else{r=t;try{i()}catch(o){Vs(r,o)}}n=n.next}while(n!==e)}break;case 1:if(vu(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){Vs(t,o)}break;case 5:vu(t);break;case 4:Tu(e,t)}}function wu(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function Eu(e){return 5===e.tag||3===e.tag||4===e.tag}function _u(e){e:{for(var t=e.return;null!==t;){if(Eu(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||Eu(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Su(e,n,t):ku(e,n,t)}function Su(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Vr));else if(4!==r&&null!==(e=e.child))for(Su(e,t,n),e=e.sibling;null!==e;)Su(e,t,n),e=e.sibling}function ku(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ku(e,t,n),e=e.sibling;null!==e;)ku(e,t,n),e=e.sibling}function Tu(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var u=e,s=i,c=s;;)if(bu(u,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===s)break e;for(;null===c.sibling;){if(null===c.return||c.return===s)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(u=n,s=i.stateNode,8===u.nodeType?u.parentNode.removeChild(s):u.removeChild(s)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(bu(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function Iu(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Zr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Te(e,i),t=Te(e,r),i=0;i<o.length;i+=2){var u=o[i],s=o[i+1];"style"===u?_e(n,s):"dangerouslySetInnerHTML"===u?me(n,s):"children"===u?ge(n,s):w(n,u,s,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ae(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ae(n,!!r.multiple,r.defaultValue,!0):ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,_t(n.containerInfo)));case 13:return null!==t.memoizedState&&(Hu=zi(),gu(t.child,!0)),void xu(t);case 19:return void xu(t);case 23:case 24:return void gu(t,null!==t.memoizedState)}throw Error(a(163))}function xu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new pu),t.forEach((function(t){var r=Bs.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Cu(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Nu=Math.ceil,Du=E.ReactCurrentDispatcher,Au=E.ReactCurrentOwner,Ou=0,Pu=null,Ru=null,Lu=0,Mu=0,Fu=ci(0),ju=0,Uu=null,Vu=0,qu=0,Bu=0,zu=0,Ku=null,Hu=0,Wu=1/0;function Gu(){Wu=zi()+500}var Qu,$u=null,Yu=!1,Xu=null,Ju=null,Zu=!1,es=null,ts=90,ns=[],rs=[],is=null,os=0,as=null,us=-1,ss=0,cs=0,ls=null,fs=!1;function hs(){return 0!==(48&Ou)?zi():-1!==us?us:us=zi()}function ds(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Ki()?1:2;if(0===ss&&(ss=Vu),0!==Yi.transition){0!==cs&&(cs=null!==Ku?Ku.pendingLanes:0),e=ss;var t=4186112&~cs;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Ki(),0!==(4&Ou)&&98===e?e=Vt(12,ss):e=Vt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ss),e}function ps(e,t,n){if(50<os)throw os=0,as=null,Error(a(185));if(null===(e=vs(e,t)))return null;zt(e,t,n),e===Pu&&(Bu|=t,4===ju&&gs(e,Lu));var r=Ki();1===t?0!==(8&Ou)&&0===(48&Ou)?bs(e):(ys(e,n),0===Ou&&(Gu(),Qi())):(0===(4&Ou)||98!==r&&99!==r||(null===is?is=new Set([e]):is.add(e)),ys(e,n)),Ku=e}function vs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function ys(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,u=e.pendingLanes;0<u;){var s=31-Kt(u),c=1<<s,l=o[s];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Ft(c);var f=Mt;o[s]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);u&=~c}if(r=jt(e,e===Pu?Lu:0),t=Mt,0===r)null!==n&&(n!==Fi&&xi(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Fi&&xi(n)}15===t?(n=bs.bind(null,e),null===Ui?(Ui=[n],Vi=Ii(Oi,$i)):Ui.push(n),n=Fi):14===t?n=Gi(99,bs.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}(t),n=Gi(n,ms.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function ms(e){if(us=-1,cs=ss=0,0!==(48&Ou))throw Error(a(327));var t=e.callbackNode;if(Ls()&&e.callbackNode!==t)return null;var n=jt(e,e===Pu?Lu:0);if(0===n)return null;var r=n,i=Ou;Ou|=16;var o=Is();for(Pu===e&&Lu===r||(Gu(),ks(e,r));;)try{Ns();break}catch(s){Ts(e,s)}if(no(),Du.current=o,Ou=i,null!==Ru?r=0:(Pu=null,Lu=0,r=ju),0!==(Vu&Bu))ks(e,0);else if(0!==r){if(2===r&&(Ou|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(n=Ut(e))&&(r=xs(e,n))),1===r)throw t=Uu,ks(e,0),gs(e,n),ys(e,zi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:case 5:Os(e);break;case 3:if(gs(e,n),(62914560&n)===n&&10<(r=Hu+500-zi())){if(0!==jt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Hr(Os.bind(null,e),r);break}Os(e);break;case 4:if(gs(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var u=31-Kt(n);o=1<<u,(u=r[u])>i&&(i=u),n&=~o}if(n=i,10<(n=(120>(n=zi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Nu(n/1960))-n)){e.timeoutHandle=Hr(Os.bind(null,e),n);break}Os(e);break;default:throw Error(a(329))}}return ys(e,zi()),e.callbackNode===t?ms.bind(null,e):null}function gs(e,t){for(t&=~zu,t&=~Bu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Kt(t),r=1<<n;e[n]=-1,t&=~r}}function bs(e){if(0!==(48&Ou))throw Error(a(327));if(Ls(),e===Pu&&0!==(e.expiredLanes&Lu)){var t=Lu,n=xs(e,t);0!==(Vu&Bu)&&(n=xs(e,t=jt(e,t)))}else n=xs(e,t=jt(e,0));if(0!==e.tag&&2===n&&(Ou|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(t=Ut(e))&&(n=xs(e,t))),1===n)throw n=Uu,ks(e,0),gs(e,t),ys(e,zi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Os(e),ys(e,zi()),null}function ws(e,t){var n=Ou;Ou|=1;try{return e(t)}finally{0===(Ou=n)&&(Gu(),Qi())}}function Es(e,t){var n=Ou;Ou&=-2,Ou|=8;try{return e(t)}finally{0===(Ou=n)&&(Gu(),Qi())}}function _s(e,t){fi(Fu,Mu),Mu|=t,Vu|=t}function Ss(){Mu=Fu.current,li(Fu)}function ks(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Wr(n)),null!==Ru)for(n=Ru.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&gi();break;case 3:Lo(),li(pi),li(di),Yo();break;case 5:Fo(r);break;case 4:Lo();break;case 13:case 19:li(jo);break;case 10:ro(r);break;case 23:case 24:Ss()}n=n.return}Pu=e,Ru=Ws(e.current,null),Lu=Mu=Vu=t,ju=0,Uu=null,zu=Bu=qu=0}function Ts(e,t){for(;;){var n=Ru;try{if(no(),Xo.current=Oa,ra){for(var r=ea.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ra=!1}if(Zo=0,na=ta=ea=null,ia=!1,Au.current=null,null===n||null===n.return){ju=1,Uu=t,Ru=null;break}e:{var o=e,a=n.return,u=n,s=t;if(t=Lu,u.flags|=2048,u.firstEffect=u.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var c=s;if(0===(2&u.mode)){var l=u.alternate;l?(u.updateQueue=l.updateQueue,u.memoizedState=l.memoizedState,u.lanes=l.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=0!==(1&jo.current),h=a;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var y=h.updateQueue;if(null===y){var m=new Set;m.add(c),h.updateQueue=m}else y.add(c);if(0===(2&h.mode)){if(h.flags|=64,u.flags|=16384,u.flags&=-2981,1===u.tag)if(null===u.alternate)u.tag=17;else{var g=lo(-1,1);g.tag=2,fo(u,g)}u.lanes|=1;break e}s=void 0,u=t;var b=o.pingCache;if(null===b?(b=o.pingCache=new fu,s=new Set,b.set(c,s)):void 0===(s=b.get(c))&&(s=new Set,b.set(c,s)),!s.has(u)){s.add(u);var w=qs.bind(null,o,c,u);c.then(w,w)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);s=Error((G(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==ju&&(ju=2),s=cu(s,u),h=a;do{switch(h.tag){case 3:o=s,h.flags|=4096,t&=-t,h.lanes|=t,ho(h,hu(0,o,t));break e;case 1:o=s;var E=h.type,_=h.stateNode;if(0===(64&h.flags)&&("function"===typeof E.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===Ju||!Ju.has(_)))){h.flags|=4096,t&=-t,h.lanes|=t,ho(h,du(h,o,t));break e}}h=h.return}while(null!==h)}As(n)}catch(S){t=S,Ru===n&&null!==n&&(Ru=n=n.return);continue}break}}function Is(){var e=Du.current;return Du.current=Oa,null===e?Oa:e}function xs(e,t){var n=Ou;Ou|=16;var r=Is();for(Pu===e&&Lu===t||ks(e,t);;)try{Cs();break}catch(i){Ts(e,i)}if(no(),Ou=n,Du.current=r,null!==Ru)throw Error(a(261));return Pu=null,Lu=0,ju}function Cs(){for(;null!==Ru;)Ds(Ru)}function Ns(){for(;null!==Ru&&!Ci();)Ds(Ru)}function Ds(e){var t=Qu(e.alternate,e,Mu);e.memoizedProps=e.pendingProps,null===t?As(e):Ru=t,Au.current=null}function As(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=uu(n,t,Mu)))return void(Ru=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Mu)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=su(t)))return n.flags&=2047,void(Ru=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ru=t);Ru=t=e}while(null!==t);0===ju&&(ju=5)}function Os(e){var t=Ki();return Wi(99,Ps.bind(null,e,t)),null}function Ps(e,t){do{Ls()}while(null!==es);if(0!==(48&Ou))throw Error(a(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var u=e.eventTimes,s=e.expirationTimes;0<o;){var c=31-Kt(o),l=1<<c;i[c]=0,u[c]=-1,s[c]=-1,o&=~l}if(null!==is&&0===(24&r)&&is.has(e)&&is.delete(e),e===Pu&&(Ru=Pu=null,Lu=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ou,Ou|=32,Au.current=null,qr=$t,mr(u=yr())){if("selectionStart"in u)s={start:u.selectionStart,end:u.selectionEnd};else e:if(s=(s=u.ownerDocument)&&s.defaultView||window,(l=s.getSelection&&s.getSelection())&&0!==l.rangeCount){s=l.anchorNode,o=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{s.nodeType,c.nodeType}catch(I){s=null;break e}var f=0,h=-1,d=-1,p=0,v=0,y=u,m=null;t:for(;;){for(var g;y!==s||0!==o&&3!==y.nodeType||(h=f+o),y!==c||0!==l&&3!==y.nodeType||(d=f+l),3===y.nodeType&&(f+=y.nodeValue.length),null!==(g=y.firstChild);)m=y,y=g;for(;;){if(y===u)break t;if(m===s&&++p===o&&(h=f),m===c&&++v===l&&(d=f),null!==(g=y.nextSibling))break;m=(y=m).parentNode}y=g}s=-1===h||-1===d?null:{start:h,end:d}}else s=null;s=s||{start:0,end:0}}else s=null;Br={focusedElem:u,selectionRange:s},$t=!1,ls=null,fs=!1,$u=r;do{try{Rs()}catch(I){if(null===$u)throw Error(a(330));Vs($u,I),$u=$u.nextEffect}}while(null!==$u);ls=null,$u=r;do{try{for(u=e;null!==$u;){var b=$u.flags;if(16&b&&ge($u.stateNode,""),128&b){var w=$u.alternate;if(null!==w){var E=w.ref;null!==E&&("function"===typeof E?E(null):E.current=null)}}switch(1038&b){case 2:_u($u),$u.flags&=-3;break;case 6:_u($u),$u.flags&=-3,Iu($u.alternate,$u);break;case 1024:$u.flags&=-1025;break;case 1028:$u.flags&=-1025,Iu($u.alternate,$u);break;case 4:Iu($u.alternate,$u);break;case 8:Tu(u,s=$u);var _=s.alternate;wu(s),null!==_&&wu(_)}$u=$u.nextEffect}}catch(I){if(null===$u)throw Error(a(330));Vs($u,I),$u=$u.nextEffect}}while(null!==$u);if(E=Br,w=yr(),b=E.focusedElem,u=E.selectionRange,w!==b&&b&&b.ownerDocument&&vr(b.ownerDocument.documentElement,b)){null!==u&&mr(b)&&(w=u.start,void 0===(E=u.end)&&(E=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(E,b.value.length)):(E=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(E=E.getSelection(),s=b.textContent.length,_=Math.min(u.start,s),u=void 0===u.end?_:Math.min(u.end,s),!E.extend&&_>u&&(s=u,u=_,_=s),s=pr(b,_),o=pr(b,u),s&&o&&(1!==E.rangeCount||E.anchorNode!==s.node||E.anchorOffset!==s.offset||E.focusNode!==o.node||E.focusOffset!==o.offset)&&((w=w.createRange()).setStart(s.node,s.offset),E.removeAllRanges(),_>u?(E.addRange(w),E.extend(o.node,o.offset)):(w.setEnd(o.node,o.offset),E.addRange(w))))),w=[];for(E=b;E=E.parentNode;)1===E.nodeType&&w.push({element:E,left:E.scrollLeft,top:E.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<w.length;b++)(E=w[b]).element.scrollLeft=E.left,E.element.scrollTop=E.top}$t=!!qr,Br=qr=null,e.current=n,$u=r;do{try{for(b=e;null!==$u;){var S=$u.flags;if(36&S&&mu(b,$u.alternate,$u),128&S){w=void 0;var k=$u.ref;if(null!==k){var T=$u.stateNode;$u.tag,w=T,"function"===typeof k?k(w):k.current=w}}$u=$u.nextEffect}}catch(I){if(null===$u)throw Error(a(330));Vs($u,I),$u=$u.nextEffect}}while(null!==$u);$u=null,ji(),Ou=i}else e.current=n;if(Zu)Zu=!1,es=e,ts=t;else for($u=r;null!==$u;)t=$u.nextEffect,$u.nextEffect=null,8&$u.flags&&((S=$u).sibling=null,S.stateNode=null),$u=t;if(0===(r=e.pendingLanes)&&(Ju=null),1===r?e===as?os++:(os=0,as=e):os=0,n=n.stateNode,ki&&"function"===typeof ki.onCommitFiberRoot)try{ki.onCommitFiberRoot(Si,n,void 0,64===(64&n.current.flags))}catch(I){}if(ys(e,zi()),Yu)throw Yu=!1,e=Xu,Xu=null,e;return 0!==(8&Ou)||Qi(),null}function Rs(){for(;null!==$u;){var e=$u.alternate;fs||null===ls||(0!==(8&$u.flags)?et($u,ls)&&(fs=!0):13===$u.tag&&Cu(e,$u)&&et($u,ls)&&(fs=!0));var t=$u.flags;0!==(256&t)&&yu(e,$u),0===(512&t)||Zu||(Zu=!0,Gi(97,(function(){return Ls(),null}))),$u=$u.nextEffect}}function Ls(){if(90!==ts){var e=97<ts?97:ts;return ts=90,Wi(e,js)}return!1}function Ms(e,t){ns.push(t,e),Zu||(Zu=!0,Gi(97,(function(){return Ls(),null})))}function Fs(e,t){rs.push(t,e),Zu||(Zu=!0,Gi(97,(function(){return Ls(),null})))}function js(){if(null===es)return!1;var e=es;if(es=null,0!==(48&Ou))throw Error(a(331));var t=Ou;Ou|=32;var n=rs;rs=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],u=i.destroy;if(i.destroy=void 0,"function"===typeof u)try{u()}catch(c){if(null===o)throw Error(a(330));Vs(o,c)}}for(n=ns,ns=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var s=i.create;i.destroy=s()}catch(c){if(null===o)throw Error(a(330));Vs(o,c)}}for(s=e.current.firstEffect;null!==s;)e=s.nextEffect,s.nextEffect=null,8&s.flags&&(s.sibling=null,s.stateNode=null),s=e;return Ou=t,Qi(),!0}function Us(e,t,n){fo(e,t=hu(0,t=cu(n,t),1)),t=hs(),null!==(e=vs(e,1))&&(zt(e,1,t),ys(e,t))}function Vs(e,t){if(3===e.tag)Us(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Us(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ju||!Ju.has(r))){var i=du(n,e=cu(t,e),1);if(fo(n,i),i=hs(),null!==(n=vs(n,1)))zt(n,1,i),ys(n,i);else if("function"===typeof r.componentDidCatch&&(null===Ju||!Ju.has(r)))try{r.componentDidCatch(t,e)}catch(o){}break}}n=n.return}}function qs(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hs(),e.pingedLanes|=e.suspendedLanes&n,Pu===e&&(Lu&n)===n&&(4===ju||3===ju&&(62914560&Lu)===Lu&&500>zi()-Hu?ks(e,0):zu|=n),ys(e,t)}function Bs(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Ki()?1:2:(0===ss&&(ss=Vu),0===(t=qt(62914560&~ss))&&(t=4194304))),n=hs(),null!==(e=vs(e,t))&&(zt(e,t,n),ys(e,n))}function zs(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Ks(e,t,n,r){return new zs(e,t,n,r)}function Hs(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ws(e,t){var n=e.alternate;return null===n?((n=Ks(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gs(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Hs(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case k:return Qs(n.children,i,o,t);case M:u=8,i|=16;break;case T:u=8,i|=1;break;case I:return(e=Ks(12,n,t,8|i)).elementType=I,e.type=I,e.lanes=o,e;case D:return(e=Ks(13,n,t,i)).type=D,e.elementType=D,e.lanes=o,e;case A:return(e=Ks(19,n,t,i)).elementType=A,e.lanes=o,e;case F:return $s(n,i,o,t);case j:return(e=Ks(24,n,t,i)).elementType=j,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case x:u=10;break e;case C:u=9;break e;case N:u=11;break e;case O:u=14;break e;case P:u=16,r=null;break e;case R:u=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Ks(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Qs(e,t,n,r){return(e=Ks(7,e,r,t)).lanes=n,e}function $s(e,t,n,r){return(e=Ks(23,e,r,t)).elementType=F,e.lanes=n,e}function Ys(e,t,n){return(e=Ks(6,e,null,t)).lanes=n,e}function Xs(e,t,n){return(t=Ks(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Js(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Bt(0),this.expirationTimes=Bt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bt(0),this.mutableSourceEagerHydrationData=null}function Zs(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,o=hs(),u=ds(i);e:if(n){t:{if(Ye(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(mi(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(a(171))}if(1===n.tag){var c=n.type;if(mi(c)){n=wi(n,c,s);break e}}n=s}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=lo(o,u)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fo(i,t),ps(i,u,o),u}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Js(e,t,null!=n&&!0===n.hydrate),t=Ks(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,so(t),e[ei]=n.current,Or(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function oc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ac(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var u=i;i=function(){var e=tc(a);u.call(e)}}ec(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"===typeof i){var s=i;i=function(){var e=tc(a);s.call(e)}}Es((function(){ec(t,a,e,i)}))}return tc(a)}function uc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!oc(t))throw Error(a(200));return Zs(e,t,null,n)}Qu=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Fa=!0;else{if(0===(n&r)){switch(Fa=!1,t.tag){case 3:Ga(t),Qo();break;case 5:Mo(t);break;case 1:mi(t.type)&&Ei(t);break;case 4:Ro(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi(Ji,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Ja(e,t,n):(fi(jo,1&jo.current),null!==(t=ou(e,t,n))?t.sibling:null);fi(jo,1&jo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return iu(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(jo,jo.current),r)break;return null;case 23:case 24:return t.lanes=0,Ba(e,t,n)}return ou(e,t,n)}Fa=0!==(16384&e.flags)}else Fa=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=yi(t,di.current),oo(t,n),i=ua(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,mi(r)){var o=!0;Ei(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,so(t);var u=r.getDerivedStateFromProps;"function"===typeof u&&mo(t,r,u,e),i.updater=go,t.stateNode=i,i._reactInternals=t,_o(t,r,e,n),t=Wa(null,t,r,!0,o,n)}else t.tag=0,ja(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"===typeof e)return Hs(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===O)return 14}return 2}(i),e=Xi(i,e),o){case 0:t=Ka(null,t,i,e,n);break e;case 1:t=Ha(null,t,i,e,n);break e;case 11:t=Ua(null,t,i,e,n);break e;case 14:t=Va(null,t,i,Xi(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ka(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ha(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 3:if(Ga(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,co(e,t),po(t,r,null,n),(r=t.memoizedState.element)===i)Qo(),t=ou(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(qo=Qr(t.stateNode.containerInfo.firstChild),Vo=t,o=Bo=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],$o.push(o);for(n=Co(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else ja(e,t,r,n),Qo();t=t.child}return t;case 5:return Mo(t),null===e&&Ho(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,Kr(r,i)?u=null:null!==o&&Kr(r,o)&&(t.flags|=16),za(e,t),ja(e,t,u,n),t.child;case 6:return null===e&&Ho(t),null;case 13:return Ja(e,t,n);case 4:return Ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=xo(t,null,r,n):ja(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ua(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 7:return ja(e,t,t.pendingProps,n),t.child;case 8:case 12:return ja(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,u=t.memoizedProps,o=i.value;var s=t.type._context;if(fi(Ji,s._currentValue),s._currentValue=o,null!==u)if(s=u.value,0===(o=lr(s,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(s,o):1073741823))){if(u.children===i.children&&!pi.current){t=ou(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var c=s.dependencies;if(null!==c){u=s.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&o)){1===s.tag&&((l=lo(-1,n&-n)).tag=2,fo(s,l)),s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),io(s.return,n),c.lanes|=n;break}l=l.next}}else u=10===s.tag&&s.type===t.type?null:s.child;if(null!==u)u.return=s;else for(u=s;null!==u;){if(u===t){u=null;break}if(null!==(s=u.sibling)){s.return=u.return,u=s;break}u=u.return}s=u}ja(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,oo(t,n),r=r(i=ao(i,o.unstable_observedBits)),t.flags|=1,ja(e,t,r,n),t.child;case 14:return o=Xi(i=t.type,t.pendingProps),Va(e,t,i,o=Xi(i.type,o),r,n);case 15:return qa(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,mi(r)?(e=!0,Ei(t)):e=!1,oo(t,n),wo(t,r,i),_o(t,r,i,n),Wa(null,t,r,!0,e,n);case 19:return iu(e,t,n);case 23:case 24:return Ba(e,t,n)}throw Error(a(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(ps(e,4,hs()),rc(e,4))},nt=function(e){13===e.tag&&(ps(e,67108864,hs()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=hs(),n=ds(e);ps(e,n,t),rc(e,n)}},it=function(e,t){return t()},xe=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=oi(r);if(!i)throw Error(a(90));X(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&ae(e,!!n.multiple,t,!1)}},Pe=ws,Re=function(e,t,n,r,i){var o=Ou;Ou|=4;try{return Wi(98,e.bind(null,t,n,r,i))}finally{0===(Ou=o)&&(Gu(),Qi())}},Le=function(){0===(49&Ou)&&(function(){if(null!==is){var e=is;is=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,ys(e,zi())}))}Qi()}(),Ls())},Me=function(e,t){var n=Ou;Ou|=2;try{return e(t)}finally{0===(Ou=n)&&(Gu(),Qi())}};var sc={Events:[ri,ii,oi,Ae,Oe,Ls,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{Si=fc.inject(lc),ki=fc}catch(ye){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sc,t.createPortal=uc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ou;if(0!==(48&n))return e(t);Ou|=1;try{if(e)return Wi(99,e.bind(null,t))}finally{Ou=n,Qi()}},t.hydrate=function(e,t,n){if(!oc(t))throw Error(a(200));return ac(null,e,t,!0,n)},t.render=function(e,t,n){if(!oc(t))throw Error(a(200));return ac(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!oc(e))throw Error(a(40));return!!e._reactRootContainer&&(Es((function(){ac(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=ws,t.unstable_createPortal=function(e,t){return uc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!oc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ac(e,t,n,!1,r)},t.version="17.0.2"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";n(725);var r=n(791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),t.Fragment=o("react.fragment")}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u=Object.prototype.hasOwnProperty,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)u.call(t,r)&&!s.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:o,_owner:a.current}}t.jsx=c,t.jsxs=c},117:function(e,t,n){"use strict";var r=n(725),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,u=60110,s=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),o=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),a=f("react.provider"),u=f("react.context"),s=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function m(){}function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},m.prototype=y.prototype;var b=g.prototype=new m;b.constructor=g,r(b,y.prototype),b.isPureReactComponent=!0;var w={current:null},E=Object.prototype.hasOwnProperty,_={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,n){var r,o={},a=null,u=null;if(null!=t)for(r in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(a=""+t.key),t)E.call(t,r)&&!_.hasOwnProperty(r)&&(o[r]=t[r]);var s=arguments.length-2;if(1===s)o.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===o[r]&&(o[r]=s[r]);return{$$typeof:i,type:e,key:a,ref:u,props:o,_owner:w.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var T=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function x(e,t,n,r,a){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case i:case o:s=!0}}if(s)return a=a(s=e),e=""===r?"."+I(s,0):r,Array.isArray(a)?(n="",null!=e&&(n=e.replace(T,"$&/")+"/"),x(a,t,n,"",(function(e){return e}))):null!=a&&(k(a)&&(a=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(T,"$&/")+"/")+e)),t.push(a)),1;if(s=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+I(u=e[c],c);s+=x(u,t,n,l,a)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=x(u=u.value,t,n,l=r+I(u,c++),a);else if("object"===u)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return s}function C(e,t,n){if(null==e)return e;var r=[],i=0;return x(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var D={current:null};function A(){var e=D.current;if(null===e)throw Error(d(321));return e}var O={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error(d(143));return e}},t.Component=y,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var o=r({},e.props),a=e.key,u=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(u=t.ref,s=w.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)E.call(t,l)&&!_.hasOwnProperty(l)&&(o[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];o.children=c}return{$$typeof:i,type:e.type,key:a,ref:u,props:o,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:u,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:s,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return A().useCallback(e,t)},t.useContext=function(e,t){return A().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return A().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return A().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return A().useLayoutEffect(e,t)},t.useMemo=function(e,t){return A().useMemo(e,t)},t.useReducer=function(e,t,n){return A().useReducer(e,t,n)},t.useRef=function(e){return A().useRef(e)},t.useState=function(e){return A().useState(e)},t.version="17.0.2"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(A){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,o=Object.create(i.prototype),a=new C(r||[]);return o._invoke=function(e,t,n){var r=f;return function(i,o){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw o;return D()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var u=T(a,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var s=l(e,t,n);if("normal"===s.type){if(r=n.done?p:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}(e,n,a),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(A){return{type:"throw",arg:A}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function y(){}function m(){}function g(){}var b={};s(b,o,(function(){return this}));var w=Object.getPrototypeOf,E=w&&w(w(N([])));E&&E!==n&&r.call(E,o)&&(b=E);var _=g.prototype=y.prototype=Object.create(b);function S(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(i,o,a,u){var s=l(e[i],e,o);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(f).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,u)}))}u(s.arg)}var i;this._invoke=function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}}function T(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,T(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function N(e){if(e){var n=e[o];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:D}}function D(){return{value:t,done:!0}}return m.prototype=g,s(_,"constructor",g),s(g,"constructor",m),m.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,u,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},S(k.prototype),s(k.prototype,a,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new k(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},S(_),s(_,u,"Generator"),s(_,o,(function(){return this})),s(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=N,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(x),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:N(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";var n,r,i,o;if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,y=null,m=-1,g=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,E=w.port2;w.port1.onmessage=function(){if(null!==y){var e=t.unstable_now();b=e+g;try{y(!0,e)?E.postMessage(null):(v=!1,y=null)}catch(n){throw E.postMessage(null),n}}else v=!1},n=function(e){y=e,v||(v=!0,E.postMessage(null))},r=function(e,n){m=h((function(){e(t.unstable_now())}),n)},i=function(){d(m),m=-1}}function _(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<T(i,t)))break e;e[r]=t,e[n]=i,n=r}}function S(e){return void 0===(e=e[0])?null:e}function k(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],u=o+1,s=e[u];if(void 0!==a&&0>T(a,n))void 0!==s&&0>T(s,a)?(e[r]=s,e[u]=n,r=u):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==s&&0>T(s,n)))break e;e[r]=s,e[u]=n,r=u}}}return t}return null}function T(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var I=[],x=[],C=1,N=null,D=3,A=!1,O=!1,P=!1;function R(e){for(var t=S(x);null!==t;){if(null===t.callback)k(x);else{if(!(t.startTime<=e))break;k(x),t.sortIndex=t.expirationTime,_(I,t)}t=S(x)}}function L(e){if(P=!1,R(e),!O)if(null!==S(I))O=!0,n(M);else{var t=S(x);null!==t&&r(L,t.startTime-e)}}function M(e,n){O=!1,P&&(P=!1,i()),A=!0;var o=D;try{for(R(n),N=S(I);null!==N&&(!(N.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=N.callback;if("function"===typeof a){N.callback=null,D=N.priorityLevel;var u=a(N.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?N.callback=u:N===S(I)&&k(I),R(n)}else k(I);N=S(I)}if(null!==N)var s=!0;else{var c=S(x);null!==c&&r(L,c.startTime-n),s=!1}return s}finally{N=null,D=o,A=!1}}var F=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){O||A||(O=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return D},t.unstable_getFirstCallbackNode=function(){return S(I)},t.unstable_next=function(e){switch(D){case 1:case 2:case 3:var t=3;break;default:t=D}var n=D;D=t;try{return e()}finally{D=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=D;D=e;try{return t()}finally{D=n}},t.unstable_scheduleCallback=function(e,o,a){var u=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?u+a:u:a=u,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:C++,callback:o,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>u?(e.sortIndex=a,_(x,e),null===S(I)&&e===S(x)&&(P?i():P=!0,r(L,a-u))):(e.sortIndex=s,_(I,e),O||A||(O=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=D;return function(){var n=D;D=t;try{return e.apply(this,arguments)}finally{D=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".af884608.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="reciper:";n.l=function(r,i,o,a){if(e[r])e[r].push(i);else{var u,s;if(void 0!==o)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+o){u=f;break}}u||(s=!0,(u=document.createElement("script")).charset="utf-8",u.timeout=120,n.nc&&u.setAttribute("nonce",n.nc),u.setAttribute("data-webpack",t+o),u.src=r),e[r]=[i];var h=function(t,n){u.onerror=u.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],u.parentNode&&u.parentNode.removeChild(u),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=h.bind(null,u.onerror),u.onload=h.bind(null,u.onload),s&&document.head.appendChild(u)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/Reciper-Recipe-Directory/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=o);var a=n.p+n.u(t),u=new Error;n.l(a,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;u.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",u.name="ChunkLoadError",u.type=o,u.request=a,i[1](u)}}),"chunk-"+t,t)}};var t=function(t,r){var i,o,a=r[0],u=r[1],s=r[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(i in u)n.o(u,i)&&(n.m[i]=u[i]);if(s)s(n)}for(t&&t(r);c<a.length;c++)o=a[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkreciper=self.webpackChunkreciper||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e=n(791),t=n(164);function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(s){u=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(u)throw i}}return o}}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}var u,s=u||(u={});s.Pop="POP",s.Push="PUSH",s.Replace="REPLACE";var c=function(e){return e};function l(e){e.preventDefault(),e.returnValue=""}function f(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function h(){return Math.random().toString(36).substr(2,8)}function d(e){var t=e.pathname;t=void 0===t?"/":t;var n=e.search;return n=void 0===n?"":n,e=void 0===(e=e.hash)?"":e,n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),e&&"#"!==e&&(t+="#"===e.charAt(0)?e:"#"+e),t}function p(e){var t={};if(e){var n=e.indexOf("#");0<=n&&(t.hash=e.substr(n),e=e.substr(0,n)),0<=(n=e.indexOf("?"))&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function v(e,t){if(!e)throw new Error(t)}var y=(0,e.createContext)(null);var m=(0,e.createContext)(null);var g=(0,e.createContext)({outlet:null,matches:[]});function b(t){return function(t){var n=(0,e.useContext)(g).outlet;if(n)return(0,e.createElement)(x.Provider,{value:t},n);return n}(t.context)}function w(e){v(!1)}function E(t){var n=t.basename,r=void 0===n?"/":n,i=t.children,o=void 0===i?null:i,a=t.location,s=t.navigationType,c=void 0===s?u.Pop:s,l=t.navigator,f=t.static,h=void 0!==f&&f;k()&&v(!1);var d=V(r),g=(0,e.useMemo)((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof a&&(a=p(a));var b=a,w=b.pathname,E=void 0===w?"/":w,_=b.search,S=void 0===_?"":_,T=b.hash,I=void 0===T?"":T,x=b.state,C=void 0===x?null:x,N=b.key,D=void 0===N?"default":N,A=(0,e.useMemo)((function(){var e=j(E,d);return null==e?null:{pathname:e,search:S,hash:I,state:C,key:D}}),[d,E,S,I,C,D]);return null==A?null:(0,e.createElement)(y.Provider,{value:g},(0,e.createElement)(m.Provider,{children:o,value:{location:A,navigationType:c}}))}function _(t){var n=t.children,r=t.location;return function(t,n){k()||v(!1);var r=(0,e.useContext)(g).matches,i=r[r.length-1],o=i?i.params:{},a=(i&&i.pathname,i?i.pathnameBase:"/");i&&i.route;0;var u,s=T();if(n){var c,l="string"===typeof n?p(n):n;"/"===a||(null==(c=l.pathname)?void 0:c.startsWith(a))||v(!1),u=l}else u=s;var f=u.pathname||"/",h="/"===a?f:f.slice(a.length)||"/",d=function(e,t,n){void 0===n&&(n="/");var r=j(("string"===typeof t?p(t):t).pathname||"/",n);if(null==r)return null;var i=D(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var o=null,a=0;null==o&&a<i.length;++a)o=R(i[a],r);return o}(t,{pathname:h});0;return L(d&&d.map((function(e){return Object.assign({},e,{params:Object.assign({},o,e.params),pathname:U([a,e.pathname]),pathnameBase:"/"===e.pathnameBase?a:U([a,e.pathnameBase])})})),r)}(N(n),r)}function S(t){k()||v(!1);var n=(0,e.useContext)(y),r=n.basename,i=n.navigator,o=C(t),a=o.hash,u=o.pathname,s=o.search,c=u;if("/"!==r){var l=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?p(e).pathname:e.pathname}(t),f=null!=l&&l.endsWith("/");c="/"===u?r+(f?"/":""):U([r,u])}return i.createHref({pathname:c,search:s,hash:a})}function k(){return null!=(0,e.useContext)(m)}function T(){return k()||v(!1),(0,e.useContext)(m).location}function I(){k()||v(!1);var t=(0,e.useContext)(y),n=t.basename,r=t.navigator,i=(0,e.useContext)(g).matches,o=T().pathname,a=JSON.stringify(i.map((function(e){return e.pathnameBase}))),u=(0,e.useRef)(!1);(0,e.useEffect)((function(){u.current=!0}));var s=(0,e.useCallback)((function(e,t){if(void 0===t&&(t={}),u.current)if("number"!==typeof e){var i=F(e,JSON.parse(a),o);"/"!==n&&(i.pathname=U([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state)}else r.go(e)}),[n,r,a,o]);return s}var x=(0,e.createContext)(null);function C(t){var n=(0,e.useContext)(g).matches,r=T().pathname,i=JSON.stringify(n.map((function(e){return e.pathnameBase})));return(0,e.useMemo)((function(){return F(t,JSON.parse(i),r)}),[t,i,r])}function N(t){var n=[];return e.Children.forEach(t,(function(t){if((0,e.isValidElement)(t))if(t.type!==e.Fragment){t.type!==w&&v(!1);var r={caseSensitive:t.props.caseSensitive,element:t.props.element,index:t.props.index,path:t.props.path};t.props.children&&(r.children=N(t.props.children)),n.push(r)}else n.push.apply(n,N(t.props.children))})),n}function D(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var o={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(o.relativePath.startsWith(r)||v(!1),o.relativePath=o.relativePath.slice(r.length));var a=U([r,o.relativePath]),u=n.concat(o);e.children&&e.children.length>0&&(!0===e.index&&v(!1),D(e.children,t,u,a)),(null!=e.path||e.index)&&t.push({path:a,score:P(a,e.index),routesMeta:u})})),t}var A=/^:\w+$/,O=function(e){return"*"===e};function P(e,t){var n=e.split("/"),r=n.length;return n.some(O)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!O(e)})).reduce((function(e,t){return e+(A.test(t)?3:""===t?1:10)}),r)}function R(e,t){for(var n=e.routesMeta,r={},i="/",o=[],a=0;a<n.length;++a){var u=n[a],s=a===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=M({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;o.push({params:r,pathname:U([i,l.pathname]),pathnameBase:U([i,l.pathnameBase]),route:f}),"/"!==l.pathnameBase&&(i=U([i,l.pathnameBase]))}return o}function L(t,n){return void 0===n&&(n=[]),null==t?null:t.reduceRight((function(r,i,o){return(0,e.createElement)(g.Provider,{children:void 0!==i.route.element?i.route.element:(0,e.createElement)(b,null),value:{outlet:r,matches:n.concat(t.slice(0,o+1))}})}),null)}function M(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=o(n,2),i=r[0],a=r[1],u=t.match(i);if(!u)return null;var s=u[0],c=s.replace(/(.)\/+$/,"$1"),l=u.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";c=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(l[n]||""),e}),{}),pathname:s,pathnameBase:c,pattern:e}}function F(e,t,n){var r,i="string"===typeof e?p(e):e,o=""===e||""===i.pathname?"/":i.pathname;if(null==o)r=n;else{var a=t.length-1;if(o.startsWith("..")){for(var u=o.split("/");".."===u[0];)u.shift(),a-=1;i.pathname=u.join("/")}r=a>=0?t[a]:"/"}var s=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?p(e):e,r=n.pathname,i=n.search,o=void 0===i?"":i,a=n.hash,u=void 0===a?"":a,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:q(o),hash:B(u)}}(i,r);return o&&"/"!==o&&o.endsWith("/")&&!s.pathname.endsWith("/")&&(s.pathname+="/"),s}function j(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var U=function(e){return e.join("/").replace(/\/\/+/g,"/")},V=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},q=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},B=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function z(){return z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},z.apply(this,arguments)}function K(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var H=["onClick","reloadDocument","replace","state","target","to"];function W(t){var n=t.basename,r=t.children,i=t.window,s=(0,e.useRef)();null==s.current&&(s.current=function(e){function t(){var e=p(v.location.hash.substr(1)),t=e.pathname,n=e.search;e=e.hash;var r=y.state||{};return[r.idx,c({pathname:void 0===t?"/":t,search:void 0===n?"":n,hash:void 0===e?"":e,state:r.usr||null,key:r.key||"default"})]}function n(){if(m)_.call(m),m=null;else{var e=u.Pop,n=t(),r=n[0];if(n=n[1],_.length){if(null!=r){var i=b-r;i&&(m={action:e,location:n,retry:function(){s(-1*i)}},s(i))}}else o(e)}}function r(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=-1===(n=(t=v.location.href).indexOf("#"))?t:t.slice(0,n)),n+"#"+("string"===typeof e?e:d(e))}function i(e,t){return void 0===t&&(t=null),c(a({pathname:w.pathname,hash:"",search:""},"string"===typeof e?p(e):e,{state:t,key:h()}))}function o(e){g=e,e=t(),b=e[0],w=e[1],E.call({action:g,location:w})}function s(e){y.go(e)}void 0===e&&(e={});var v=void 0===(e=e.window)?document.defaultView:e,y=v.history,m=null;v.addEventListener("popstate",n),v.addEventListener("hashchange",(function(){d(t()[1])!==d(w)&&n()}));var g=u.Pop,b=(e=t())[0],w=e[1],E=f(),_=f();return null==b&&(b=0,y.replaceState(a({},y.state,{idx:b}),"")),{get action(){return g},get location(){return w},createHref:r,push:function e(t,n){var a=u.Push,s=i(t,n);if(!_.length||(_.call({action:a,location:s,retry:function(){e(t,n)}}),0)){var c=[{usr:s.state,key:s.key,idx:b+1},r(s)];s=c[0],c=c[1];try{y.pushState(s,"",c)}catch(or){v.location.assign(c)}o(a)}},replace:function e(t,n){var a=u.Replace,s=i(t,n);_.length&&(_.call({action:a,location:s,retry:function(){e(t,n)}}),1)||(s=[{usr:s.state,key:s.key,idx:b},r(s)],y.replaceState(s[0],"",s[1]),o(a))},go:s,back:function(){s(-1)},forward:function(){s(1)},listen:function(e){return E.push(e)},block:function(e){var t=_.push(e);return 1===_.length&&v.addEventListener("beforeunload",l),function(){t(),_.length||v.removeEventListener("beforeunload",l)}}}}({window:i}));var v=s.current,y=o((0,e.useState)({action:v.action,location:v.location}),2),m=y[0],g=y[1];return(0,e.useLayoutEffect)((function(){return v.listen(g)}),[v]),(0,e.createElement)(E,{basename:n,children:r,location:m.location,navigationType:m.action,navigator:v})}var G=(0,e.forwardRef)((function(t,n){var r=t.onClick,i=t.reloadDocument,o=t.replace,a=void 0!==o&&o,u=t.state,s=t.target,c=t.to,l=K(t,H),f=S(c),h=function(t,n){var r=void 0===n?{}:n,i=r.target,o=r.replace,a=r.state,u=I(),s=T(),c=C(t);return(0,e.useCallback)((function(e){if(0===e.button&&(!i||"_self"===i)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)){e.preventDefault();var n=!!o||d(s)===d(c);u(t,{replace:n,state:a})}}),[s,u,c,o,a,i,t])}(c,{replace:a,state:u,target:s});return(0,e.createElement)("a",z({},l,{href:f,onClick:function(e){r&&r(e),e.defaultPrevented||i||h(e)},ref:n,target:s}))}));function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){Q(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var X=n(184),J=(0,e.createContext)(),Z=function(e,t){switch(t.type){case"CHANGE_COLOR":return Y(Y({},e),{},{color:t.payload});case"CHANGE_MODE":return Y(Y({},e),{},{mode:t.payload});default:return e}};function ee(t){var n=t.children,r=o((0,e.useReducer)(Z,{color:"#58249c",mode:"light"}),2),i=r[0],a=r[1];return(0,X.jsx)(J.Provider,{value:Y(Y({},i),{},{changeColor:function(e){a({type:"CHANGE_COLOR",payload:e})},changeMode:function(e){a({type:"CHANGE_MODE",payload:e})}}),children:n})}var te=function(){var t=(0,e.useContext)(J);if(void 0===t)throw new Error("useTheme() must be used inside a ThemeProvider");return t};function ne(){var t=o((0,e.useState)(""),2),n=t[0],r=t[1],i=I();return(0,X.jsx)("div",{className:"searchbar",children:(0,X.jsxs)("form",{onSubmit:function(e){e.preventDefault(),i("/search?q=".concat(n))},children:[(0,X.jsx)("label",{htmlFor:"search",children:"Search:"}),(0,X.jsx)("input",{id:"search",type:"text",onChange:function(e){return r(e.target.value)},required:!0})]})})}function re(){var e=te().color;return(0,X.jsx)("div",{className:"navbar",style:{background:e},children:(0,X.jsxs)("nav",{children:[(0,X.jsx)(G,{to:"/",className:"brand",children:(0,X.jsx)("h1",{children:"Shahmar's Kitchen"})}),(0,X.jsx)(ne,{}),(0,X.jsx)(G,{to:"/create",children:"Create Recipe"})]})})}var ie=function(e,t){return ie=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},ie(e,t)};function oe(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}ie(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var ae=function(){return ae=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ae.apply(this,arguments)};function ue(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(wv){o(wv)}}function u(e){try{s(r.throw(e))}catch(wv){o(wv)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))}function se(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(wv){o=[6,wv],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}Object.create;function ce(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function le(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(u){i={error:u}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function fe(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;var he=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},de={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,u=a?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=o>>2,f=(3&o)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,a||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(he(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(u=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{o=e[n++];var u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==u||null==s)throw Error();var c=o<<2|a>>4;if(r.push(c),64!==u){var l=a<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};function pe(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=pe(e[n],t[n]));return e}var ve=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function ye(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function me(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(wv){return!1}}var ge=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,be.prototype.create),o}return oe(t,e),t}(Error),be=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?we(o,r):"Error",u=this.serviceName+": "+a+" ("+i+").",s=new ge(i,u,r);return s},e}();function we(e,t){return e.replace(Ee,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var Ee=/\{\$([^}]+)}/g;function _e(e,t){return Object.prototype.hasOwnProperty.call(e,t)}!function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,u=this.chain_[0],s=this.chain_[1],c=this.chain_[2],l=this.chain_[3],f=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^s&(c^l),a=1518500249):(o=s^c^l,a=1859775393):r<60?(o=s&c|l&(s|c),a=2400959708):(o=s^c^l,a=3395469782);i=(u<<5|u>>>27)+o+f+a+n[r]&4294967295;f=l,l=c,c=4294967295&(s<<30|s>>>2),s=u,u=i}this.chain_[0]=this.chain_[0]+u&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e}}();function Se(e,t){var n=new ke(e,t);return n.subscribe.bind(n)}var ke=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"===typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Te),void 0===r.error&&(r.error=Te),void 0===r.complete&&(r.complete=Te);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(wv){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(wv){"undefined"!==typeof console&&console.error&&console.error(wv)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function Te(){}function Ie(e){return e&&e._delegate?e._delegate:e}var xe=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),Ce="[DEFAULT]",Ne=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Set}return e.prototype.get=function(e){void 0===e&&(e=Ce);var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new ve;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(wv){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t=ae({identifier:Ce,optional:!1},e),n=t.identifier,r=t.optional,i=this.normalizeInstanceIdentifier(n);if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(wv){if(r)return null;throw wv}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ce})}catch(wv){}try{for(var r=ce(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=le(i.value,2),a=o[0],u=o[1],s=this.normalizeInstanceIdentifier(a);try{var c=this.getOrInitializeService({instanceIdentifier:s});u.resolve(c)}catch(wv){}}}catch(l){t={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=Ce),this.instancesDeferred.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return ue(this,void 0,void 0,(function(){var e;return se(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(fe(fe([],le(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),le(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=Ce),this.instances.has(e)},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var r=e.instanceIdentifier,i=void 0===r?Ce:r,o=e.options,a=void 0===o?{}:o,u=this.normalizeInstanceIdentifier(i);if(this.isInitialized(u))throw Error(this.name+"("+u+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var s=this.getOrInitializeService({instanceIdentifier:u,options:a});try{for(var c=ce(this.instancesDeferred.entries()),l=c.next();!l.done;l=c.next()){var f=le(l.value,2),h=f[0],d=f[1];u===this.normalizeInstanceIdentifier(h)&&d.resolve(s)}}catch(p){t={error:p}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}return this.invokeOnInitCallbacks(s,u),s},e.prototype.onInit=function(e){var t=this;return this.onInitCallbacks.add(e),function(){t.onInitCallbacks.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,r;try{for(var i=ce(this.onInitCallbacks),o=i.next();!o.done;o=i.next()){var a=o.value;try{a(e,t)}catch(u){}}}catch(s){n={error:s}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Ce?void 0:t),options:i}),this.instances.set(n,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(iv){}return o||null},e.prototype.normalizeInstanceIdentifier=function(e){return this.component?this.component.multipleInstances?e:Ce:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}();var De,Ae=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Ne(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();function Oe(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,u=o.length;a<u;a++,i++)r[i]=o[a];return r}var Pe,Re=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Pe||(Pe={}));var Le,Me={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},Fe=Pe.INFO,je=((De={})[Pe.DEBUG]="log",De[Pe.VERBOSE]="log",De[Pe.INFO]="info",De[Pe.WARN]="warn",De[Pe.ERROR]="error",De),Ue=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=(new Date).toISOString(),o=je[t];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[o].apply(console,Oe(["["+i+"]  "+e.name+":"],n))}},Ve=function(){function e(e){this.name=e,this._logLevel=Fe,this._logHandler=Ue,this._userLogHandler=null,Re.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in Pe))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"===typeof e?Me[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,Oe([this,Pe.DEBUG],e)),this._logHandler.apply(this,Oe([this,Pe.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,Oe([this,Pe.VERBOSE],e)),this._logHandler.apply(this,Oe([this,Pe.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,Oe([this,Pe.INFO],e)),this._logHandler.apply(this,Oe([this,Pe.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,Oe([this,Pe.WARN],e)),this._logHandler.apply(this,Oe([this,Pe.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,Oe([this,Pe.ERROR],e)),this._logHandler.apply(this,Oe([this,Pe.ERROR],e))},e}();function qe(e){Re.forEach((function(t){t.setLogLevel(e)}))}var Be,ze=((Le={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",Le["bad-app-name"]="Illegal App name: '{$appName}",Le["duplicate-app"]="Firebase App named '{$appName}' already exists",Le["app-deleted"]="Firebase App named '{$appName}' already deleted",Le["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",Le["invalid-log-argument"]="First argument to `onLog` must be null or a function.",Le),Ke=new be("app","Firebase",ze),He="@firebase/app",We="[DEFAULT]",Ge=((Be={})[He]="fire-core",Be["@firebase/analytics"]="fire-analytics",Be["@firebase/app-check"]="fire-app-check",Be["@firebase/auth"]="fire-auth",Be["@firebase/database"]="fire-rtdb",Be["@firebase/functions"]="fire-fn",Be["@firebase/installations"]="fire-iid",Be["@firebase/messaging"]="fire-fcm",Be["@firebase/performance"]="fire-perf",Be["@firebase/remote-config"]="fire-rc",Be["@firebase/storage"]="fire-gcs",Be["@firebase/firestore"]="fire-fst",Be["fire-js"]="fire-js",Be["firebase-wrapper"]="fire-js-all",Be),Qe=new Ve("@firebase/app"),$e=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=pe(void 0,e),this.container=new Ae(t.name),this._addComponent(new xe("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return r._addComponent(e)}))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){return void 0===t&&(t=We),this.checkDestroyed_(),this.container.getProvider(e).getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=We),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(wv){Qe.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,wv)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw Ke.create("app-deleted",{appName:this.name_})},e}();$e.prototype.name&&$e.prototype.options||$e.prototype.delete||console.log("dc");function Ye(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={});if("object"!==typeof i||null===i){i={name:i}}var o=i;void 0===o.name&&(o.name=We);var a=o.name;if("string"!==typeof a||!a)throw Ke.create("bad-app-name",{appName:String(a)});if(_e(t,a))throw Ke.create("duplicate-app",{appName:a});var u=new e(n,o,r);return t[a]=u,u},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=Ge[e])&&void 0!==r?r:e;n&&(i+="-"+n);var a=i.match(/\s|\//),u=t.match(/\s|\//);if(a||u){var s=['Unable to register library "'+i+'" with version "'+t+'":'];return a&&s.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&u&&s.push("and"),u&&s.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void Qe.warn(s.join(" "))}o(new xe(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},setLogLevel:qe,onLog:function(e,t){if(null!==e&&"function"!==typeof e)throw Ke.create("invalid-log-argument");!function(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=Me[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:Pe[n].toLowerCase(),message:a,args:i,type:t.name})}},r=0,i=Re;r<i.length;r++)n(i[r])}(e,t)},apps:null,SDK_VERSION:"8.5.0",INTERNAL:{registerComponent:o,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){if("serverAuth"===t)return null;return t}}};function i(e){if(!_e(t,e=e||We))throw Ke.create("no-app",{appName:e});return t[e]}function o(o){var a=o.name;if(n.has(a))return Qe.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var u=function(e){if(void 0===e&&(e=i()),"function"!==typeof e[a])throw Ke.create("invalid-app-argument",{appName:a});return e[a]()};void 0!==o.serviceProps&&pe(u,o.serviceProps),r[a]=u,e.prototype[a]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this._getService.bind(this,a);return n.apply(this,o.multipleInstances?e:[])}}for(var s=0,c=Object.keys(t);s<c.length;s++){var l=c[s];t[l]._addComponent(o)}return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}var Xe=function e(){var t=Ye($e);return t.INTERNAL=ae(ae({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){pe(t,e)},createSubscribe:Se,ErrorFactory:be,deepExtend:pe}),t}(),Je=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Qe.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Ze=self.firebase.SDK_VERSION;Ze&&Ze.indexOf("LITE")>=0&&Qe.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var et=Xe.initializeApp;Xe.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return me()&&Qe.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),et.apply(void 0,e)};var tt=Xe;!function(e,t){e.INTERNAL.registerComponent(new xe("platform-logger",(function(e){return new Je(e)}),"PRIVATE")),e.registerVersion(He,"0.6.21",t),e.registerVersion("fire-js","")}(tt);var nt=tt;nt.registerVersion("firebase","8.5.0","app");var rt=function(e,t){return rt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},rt(e,t)};function it(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var ot,at="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},ut=ut||{},st=at||self;function ct(){}function lt(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function ft(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var ht="closure_uid_"+(1e9*Math.random()>>>0),dt=0;function pt(e,t,n){return e.call.apply(e.bind,arguments)}function vt(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function yt(e,t,n){return(yt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?pt:vt).apply(null,arguments)}function mt(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function gt(){return Date.now()}function bt(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Kb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function wt(){this.j=this.j,this.i=this.i}wt.prototype.j=!1,wt.prototype.ja=function(){if(!this.j&&(this.j=!0,this.G(),0))(function(e){Object.prototype.hasOwnProperty.call(e,ht)&&e[ht]||(e[ht]=++dt)})(this)},wt.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Et=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},_t=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function St(e){return Array.prototype.concat.apply([],arguments)}function kt(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Tt(e){return/^[\s\xa0]*$/.test(e)}var It,xt=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Ct(e,t){return-1!=e.indexOf(t)}function Nt(e,t){return e<t?-1:e>t?1:0}e:{var Dt=st.navigator;if(Dt){var At=Dt.userAgent;if(At){It=At;break e}}It=""}function Ot(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Pt(e){var t={};for(var n in e)t[n]=e[n];return t}var Rt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Lt(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<Rt.length;o++)n=Rt[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Mt(e){return Mt[" "](e),e}Mt[" "]=ct;var Ft,jt=Ct(It,"Opera"),Ut=Ct(It,"Trident")||Ct(It,"MSIE"),Vt=Ct(It,"Edge"),qt=Vt||Ut,Bt=Ct(It,"Gecko")&&!(Ct(It.toLowerCase(),"webkit")&&!Ct(It,"Edge"))&&!(Ct(It,"Trident")||Ct(It,"MSIE"))&&!Ct(It,"Edge"),zt=Ct(It.toLowerCase(),"webkit")&&!Ct(It,"Edge");function Kt(){var e=st.document;return e?e.documentMode:void 0}e:{var Ht="",Wt=function(){var e=It;return Bt?/rv:([^\);]+)(\)|;)/.exec(e):Vt?/Edge\/([\d\.]+)/.exec(e):Ut?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):zt?/WebKit\/(\S+)/.exec(e):jt?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Wt&&(Ht=Wt?Wt[1]:""),Ut){var Gt=Kt();if(null!=Gt&&Gt>parseFloat(Ht)){Ft=String(Gt);break e}}Ft=Ht}var Qt,$t={};function Yt(e){return function(e,t){var n=$t;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(){for(var t=0,n=xt(String(Ft)).split("."),r=xt(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",u=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==a[0].length&&0==u[0].length)break;t=Nt(0==a[1].length?0:parseInt(a[1],10),0==u[1].length?0:parseInt(u[1],10))||Nt(0==a[2].length,0==u[2].length)||Nt(a[2],u[2]),a=a[3],u=u[3]}while(0==t)}return 0<=t}))}if(st.document&&Ut){var Xt=Kt();Qt=Xt||(parseInt(Ft,10)||void 0)}else Qt=void 0;var Jt=Qt,Zt=!Ut||9<=Number(Jt),en=Ut&&!Yt("9"),tn=function(){if(!st.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{st.addEventListener("test",ct,t),st.removeEventListener("test",ct,t)}catch(n){}return e}();function nn(e,t){this.type=e,this.a=this.target=t,this.defaultPrevented=!1}function rn(e,t){if(nn.call(this,e?e.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.a=t,t=e.relatedTarget){if(Bt){e:{try{Mt(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:on[e.pointerType]||"",this.c=e,e.defaultPrevented&&this.b()}}nn.prototype.b=function(){this.defaultPrevented=!0},bt(rn,nn);var on={2:"touch",3:"pen",4:"mouse"};rn.prototype.b=function(){rn.X.b.call(this);var e=this.c;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,en)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(t){}};var an="closure_listenable_"+(1e6*Math.random()|0),un=0;function sn(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ca=i,this.key=++un,this.Y=this.Z=!1}function cn(e){e.Y=!0,e.listener=null,e.proxy=null,e.src=null,e.ca=null}function ln(e){this.src=e,this.a={},this.b=0}function fn(e,t){var n=t.type;if(n in e.a){var r,i=e.a[n],o=Et(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(cn(t),0==e.a[n].length&&(delete e.a[n],e.b--))}}function hn(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.Y&&o.listener==t&&o.capture==!!n&&o.ca==r)return i}return-1}ln.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=hn(e,t,r,i);return-1<a?(t=e[a],n||(t.Z=!1)):((t=new sn(t,this.src,o,!!r,i)).Z=n,e.push(t)),t};var dn="closure_lm_"+(1e6*Math.random()|0),pn={};function vn(e,t,n,r,i){if(r&&r.once)return mn(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)vn(e,t[o],n,r,i);return null}return n=Tn(n),e&&e[an]?e.va(t,n,ft(r)?!!r.capture:!!r,i):yn(e,t,n,!1,r,i)}function yn(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=ft(i)?!!i.capture:!!i;if(a&&!Zt)return null;var u=Sn(e);if(u||(e[dn]=u=new ln(e)),(n=u.add(t,n,r,a,o)).proxy)return n;if(r=function(){var e=_n,t=Zt?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)tn||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(wn(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function mn(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)mn(e,t[o],n,r,i);return null}return n=Tn(n),e&&e[an]?e.wa(t,n,ft(r)?!!r.capture:!!r,i):yn(e,t,n,!0,r,i)}function gn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)gn(e,t[o],n,r,i);else r=ft(r)?!!r.capture:!!r,n=Tn(n),e&&e[an]?(e=e.c,(t=String(t).toString())in e.a&&(-1<(n=hn(o=e.a[t],n,r,i))&&(cn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--)))):e&&(e=Sn(e))&&(t=e.a[t.toString()],e=-1,t&&(e=hn(t,n,r,i)),(n=-1<e?t[e]:null)&&bn(n))}function bn(e){if("number"!==typeof e&&e&&!e.Y){var t=e.src;if(t&&t[an])fn(t.c,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(wn(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Sn(t))?(fn(n,e),0==n.b&&(n.src=null,t[dn]=null)):cn(e)}}}function wn(e){return e in pn?pn[e]:pn[e]="on"+e}function En(e,t){var n=e.listener,r=e.ca||e.src;return e.Z&&bn(e),n.call(r,t)}function _n(e,t){if(e.Y)return!0;if(!Zt){if(!t)e:{t=["window","event"];for(var n=st,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}return En(e,t=new rn(t,this))}return En(e,new rn(t,this))}function Sn(e){return(e=e[dn])instanceof ln?e:null}var kn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Tn(e){return"function"===typeof e?e:(e[kn]||(e[kn]=function(t){return e.handleEvent(t)}),e[kn])}function In(){wt.call(this),this.c=new ln(this),this.J=this,this.C=null}function xn(e,t){var n,r=e.C;if(r)for(n=[];r;r=r.C)n.push(r);if(e=e.J,r=t.type||t,"string"===typeof t)t=new nn(t,e);else if(t instanceof nn)t.target=t.target||e;else{var i=t;Lt(t=new nn(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.a=n[o];i=Cn(a,r,!0,t)&&i}if(i=Cn(a=t.a=e,r,!0,t)&&i,i=Cn(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=Cn(a=t.a=n[o],r,!1,t)&&i}function Cn(e,t,n,r){if(!(t=e.c.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.Y&&a.capture==n){var u=a.listener,s=a.ca||a.src;a.Z&&fn(e.c,a),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}bt(In,wt),In.prototype[an]=!0,(ot=In.prototype).addEventListener=function(e,t,n,r){vn(this,e,t,n,r)},ot.removeEventListener=function(e,t,n,r){gn(this,e,t,n,r)},ot.G=function(){if(In.X.G.call(this),this.c){var e,t=this.c;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)cn(n[r]);delete t.a[e],t.b--}}this.C=null},ot.va=function(e,t,n,r){return this.c.add(String(e),t,!1,n,r)},ot.wa=function(e,t,n,r){return this.c.add(String(e),t,!0,n,r)};var Nn=st.JSON.stringify;function Dn(){this.b=this.a=null}var An,On=new(function(){function e(e,t){this.c=e,this.f=t,this.b=0,this.a=null}return e.prototype.get=function(){var e;return 0<this.b?(this.b--,e=this.a,this.a=e.next,e.next=null):e=this.c(),e},e}())((function(){return new Rn}),(function(e){e.reset()}));function Pn(){var e=jn,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function Rn(){this.next=this.b=this.a=null}function Ln(e){st.setTimeout((function(){throw e}),0)}function Mn(e,t){An||function(){var e=st.Promise.resolve(void 0);An=function(){e.then(Un)}}(),Fn||(An(),Fn=!0),jn.add(e,t)}Dn.prototype.add=function(e,t){var n=On.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},Rn.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},Rn.prototype.reset=function(){this.next=this.b=this.a=null};var Fn=!1,jn=new Dn;function Un(){for(var e;e=Pn();){try{e.a.call(e.b)}catch(n){Ln(n)}var t=On;t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}Fn=!1}function Vn(e,t){In.call(this),this.b=e||1,this.a=t||st,this.f=yt(this.Za,this),this.g=gt()}function qn(e){e.aa=!1,e.M&&(e.a.clearTimeout(e.M),e.M=null)}function Bn(e,t,n){if("function"===typeof e)n&&(e=yt(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=yt(e.handleEvent,e)}return 2147483647<Number(t)?-1:st.setTimeout(e,t||0)}function zn(e){e.a=Bn((function(){e.a=null,e.c&&(e.c=!1,zn(e))}),e.h);var t=e.b;e.b=null,e.g.apply(null,t)}bt(Vn,In),(ot=Vn.prototype).aa=!1,ot.M=null,ot.Za=function(){if(this.aa){var e=gt()-this.g;0<e&&e<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-e):(this.M&&(this.a.clearTimeout(this.M),this.M=null),xn(this,"tick"),this.aa&&(qn(this),this.start()))}},ot.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=gt())},ot.G=function(){Vn.X.G.call(this),qn(this),delete this.a};var Kn=function(e){function t(t,n){var r=e.call(this)||this;return r.g=t,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(e,t){function n(){this.constructor=e}rt(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.f=function(e){this.b=arguments,this.a?this.c=!0:zn(this)},t.prototype.G=function(){e.prototype.G.call(this),this.a&&(st.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},t}(wt);function Hn(e){wt.call(this),this.b=e,this.a={}}bt(Hn,wt);var Wn=[];function Gn(e,t,n,r){Array.isArray(n)||(n&&(Wn[0]=n.toString()),n=Wn);for(var i=0;i<n.length;i++){var o=vn(t,n[i],r||e.handleEvent,!1,e.b||e);if(!o)break;e.a[o.key]=o}}function Qn(e){Ot(e.a,(function(e,t){this.a.hasOwnProperty(t)&&bn(e)}),e),e.a={}}function $n(){this.a=!0}function Yn(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.a)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Nn(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}Hn.prototype.G=function(){Hn.X.G.call(this),Qn(this)},Hn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},$n.prototype.info=function(){};var Xn={},Jn=null;function Zn(){return Jn=Jn||new In}function er(e){nn.call(this,Xn.Fa,e)}function tr(e){var t=Zn();xn(t,new er(t,e))}function nr(e,t){nn.call(this,Xn.STAT_EVENT,e),this.stat=t}function rr(e){var t=Zn();xn(t,new nr(t,e))}function ir(e){nn.call(this,Xn.Ga,e)}function or(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return st.setTimeout((function(){e()}),t)}Xn.Fa="serverreachability",bt(er,nn),Xn.STAT_EVENT="statevent",bt(nr,nn),Xn.Ga="timingevent",bt(ir,nn);var ar={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},ur={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function sr(){}function cr(e){var t;return(t=e.a)||(t=e.a={}),t}function lr(){}sr.prototype.a=null;var fr,hr={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function dr(){nn.call(this,"d")}function pr(){nn.call(this,"c")}function vr(){}function yr(e,t,n,r){this.g=e,this.c=t,this.f=n,this.S=r||1,this.J=new Hn(this),this.P=mr,e=qt?125:void 0,this.R=new Vn(e),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}bt(dr,nn),bt(pr,nn),bt(vr,sr),fr=new vr;var mr=45e3,gr={},br={};function wr(e,t,n){e.H=1,e.i=Br(Mr(t)),e.j=n,e.I=!0,Er(e,null)}function Er(e,t){e.u=gt(),kr(e),e.l=Mr(e.i);var n=e.l,r=e.S;Array.isArray(r)||(r=[String(r)]),ti(n.b,"t",r),e.D=0,e.a=$i(e.g,e.g.C?t:null),0<e.O&&(e.F=new Kn(yt(e.Ca,e,e.a),e.O)),Gn(e.J,e.a,"readystatechange",e.Xa),t=e.B?Pt(e.B):{},e.j?(e.m||(e.m="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.a.ba(e.l,e.m,e.j,t)):(e.m="GET",e.a.ba(e.l,e.m,null,t)),tr(1),function(e,t,n,r,i,o){e.info((function(){if(e.a)if(o)for(var a="",u=o.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");a=2<=f.length&&"type"==f[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.c,e.m,e.l,e.f,e.S,e.j)}function _r(e,t,n){for(var r=!0;!e.A&&e.D<n.length;){var i=Sr(e,n);if(i==br){4==t&&(e.h=4,rr(14),r=!1),Yn(e.c,e.f,null,"[Incomplete Response]");break}if(i==gr){e.h=4,rr(15),Yn(e.c,e.f,n,"[Invalid Chunk]"),r=!1;break}Yn(e.c,e.f,i,null),Nr(e,i)}4==t&&0==n.length&&(e.h=1,rr(16),r=!1),e.b=e.b&&r,r?0<n.length&&!e.V&&(e.V=!0,(t=e.g).a==e&&t.U&&!t.F&&(t.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),qi(t),t.F=!0,rr(11))):(Yn(e.c,e.f,n,"[Invalid Chunked Response]"),Cr(e),xr(e))}function Sr(e,t){var n=e.D,r=t.indexOf("\n",n);return-1==r?br:(n=Number(t.substring(n,r)),isNaN(n)?gr:(r+=1)+n>t.length?br:(t=t.substr(r,n),e.D=r+n,t))}function kr(e){e.T=gt()+e.P,Tr(e,e.P)}function Tr(e,t){if(null!=e.o)throw Error("WatchDog timer not null");e.o=or(yt(e.Va,e),t)}function Ir(e){e.o&&(st.clearTimeout(e.o),e.o=null)}function xr(e){0==e.g.v||e.A||Ki(e.g,e)}function Cr(e){Ir(e);var t=e.F;t&&"function"==typeof t.ja&&t.ja(),e.F=null,qn(e.R),Qn(e.J),e.a&&(t=e.a,e.a=null,t.abort(),t.ja())}function Nr(e,t){try{var n=e.g;if(0!=n.v&&(n.a==e||si(n.b,e)))if(n.I=e.N,!e.C&&si(n.b,e)&&3==n.v){try{var r=n.ka.a.parse(t)}catch(Lp){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.j){if(n.a){if(!(n.a.u+3e3<e.u))break e;zi(n),Oi(n)}Vi(n),rr(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=or(yt(n.Sa,n),6e3));if(1>=ui(n.b)&&n.ea){try{n.ea()}catch(Lp){}n.ea=void 0}}else Wi(n,11)}else if((e.C||n.a==e)&&zi(n),!Tt(t))for(t=r=n.ka.a.parse(t),r=0;r<t.length;r++)if(i=t[r],n.P=i[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var a=i[4];null!=a&&(n.pa=a,n.c.info("SVER="+n.pa));var u=i[5];if(null!=u&&"number"===typeof u&&0<u){var s=1.5*u;n.D=s,n.c.info("backChannelRequestTimeoutMs_="+s)}s=n;var c=e.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=s.b;!f.a&&(Ct(l,"spdy")||Ct(l,"quic")||Ct(l,"h2"))&&(f.f=f.g,f.a=new Set,f.b&&(ci(f,f.b),f.b=null))}if(s.A){var h=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;h&&(s.na=h,qr(s.B,s.A,h))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=gt()-e.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=e;if((s=n).la=Qi(s,s.C?s.ga:null,s.fa),d.C){li(s.b,d);var p=d,v=s.D;v&&p.setTimeout(v),p.o&&(Ir(p),kr(p)),s.a=d}else Ui(s);0<n.g.length&&Li(n)}else"stop"!=i[0]&&"close"!=i[0]||Wi(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Wi(n,7):Ai(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);tr(4)}catch(Lp){}}function Dr(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(lt(e)||"string"===typeof e)_t(e,t,void 0);else{if(e.L&&"function"==typeof e.L)var n=e.L();else if(e.K&&"function"==typeof e.K)n=void 0;else if(lt(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.K&&"function"==typeof e.K)return e.K();if("string"===typeof e)return e.split("");if(lt(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function Ar(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Ar)for(n=e.L(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Or(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Pr(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)Pr(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function Pr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(ot=yr.prototype).setTimeout=function(e){this.P=e},ot.Xa=function(e){e=e.target;var t=this.F;t&&3==xi(e)?t.f():this.Ca(e)},ot.Ca=function(e){try{if(e==this.a)e:{var t=xi(this.a),n=this.a.ua(),r=this.a.W();if(!(3>t||3==t&&!qt&&!this.a.$())){this.A||4!=t||7==n||tr(8==n||0>=r?3:2),Ir(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.c,this.m,this.l,this.f,this.S,t,i),this.b){if(this.U&&!this.C){t:{if(this.a){var a,u=this.a;if((a=u.a?u.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Tt(a)){var s=a;break t}}s=null}if(!s){this.b=!1,this.h=3,rr(12),Cr(this),xr(this);break e}Yn(this.c,this.f,s,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Nr(this,s)}this.I?(_r(this,t,o),qt&&this.b&&3==t&&(Gn(this.J,this.R,"tick",this.Wa),this.R.start())):(Yn(this.c,this.f,o,null),Nr(this,o)),4==t&&Cr(this),this.b&&!this.A&&(4==t?Ki(this.g,this):(this.b=!1,kr(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,rr(12)):(this.h=0,rr(13)),Cr(this),xr(this)}}}catch(c){}},ot.Wa=function(){if(this.a){var e=xi(this.a),t=this.a.$();this.D<t.length&&(Ir(this),_r(this,e,t),this.b&&4!=e&&kr(this))}},ot.cancel=function(){this.A=!0,Cr(this)},ot.Va=function(){this.o=null;var e=gt();0<=e-this.T?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.c,this.l),2!=this.H&&(tr(3),rr(17)),Cr(this),this.h=2,xr(this)):Tr(this,this.T-e)},(ot=Ar.prototype).K=function(){Or(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},ot.L=function(){return Or(this),this.a.concat()},ot.get=function(e,t){return Pr(this.b,e)?this.b[e]:t},ot.set=function(e,t){Pr(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},ot.forEach=function(e,t){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Rr=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Lr(e,t){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,e instanceof Lr){this.a=void 0!==t?t:e.a,Fr(this,e.f),this.j=e.j,jr(this,e.c),Ur(this,e.h),this.g=e.g,t=e.b;var n=new Xr;n.c=t.c,t.a&&(n.a=new Ar(t.a),n.b=t.b),Vr(this,n),this.i=e.i}else e&&(n=String(e).match(Rr))?(this.a=!!t,Fr(this,n[1]||"",!0),this.j=zr(n[2]||""),jr(this,n[3]||"",!0),Ur(this,n[4]),this.g=zr(n[5]||"",!0),Vr(this,n[6]||"",!0),this.i=zr(n[7]||"")):(this.a=!!t,this.b=new Xr(null,this.a))}function Mr(e){return new Lr(e)}function Fr(e,t,n){e.f=n?zr(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function jr(e,t,n){e.c=n?zr(t,!0):t}function Ur(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.h=t}else e.h=null}function Vr(e,t,n){t instanceof Xr?(e.b=t,function(e,t){t&&!e.f&&(Jr(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Zr(this,t),ti(this,n,e))}),e)),e.f=t}(e.b,e.a)):(n||(t=Kr(t,$r)),e.b=new Xr(t,e.a))}function qr(e,t,n){e.b.set(t,n)}function Br(e){return qr(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^gt()).toString(36)),e}function zr(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Kr(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Hr),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Hr(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Lr.prototype.toString=function(){var e=[],t=this.f;t&&e.push(Kr(t,Wr,!0),":");var n=this.c;return(n||"file"==t)&&(e.push("//"),(t=this.j)&&e.push(Kr(t,Wr,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&e.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&e.push("/"),e.push(Kr(n,"/"==n.charAt(0)?Qr:Gr,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.i)&&e.push("#",Kr(n,Yr)),e.join("")};var Wr=/[#\/\?@]/g,Gr=/[#\?:]/g,Qr=/[#\?]/g,$r=/[#\?@]/g,Yr=/#/g;function Xr(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Jr(e){e.a||(e.a=new Ar,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Zr(e,t){Jr(e),t=ni(e,t),Pr(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,Pr((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&Or(e)))}function ei(e,t){return Jr(e),t=ni(e,t),Pr(e.a.b,t)}function ti(e,t,n){Zr(e,t),0<n.length&&(e.c=null,e.a.set(ni(e,t),kt(n)),e.b+=n.length)}function ni(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}(ot=Xr.prototype).add=function(e,t){Jr(this),this.c=null,e=ni(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},ot.forEach=function(e,t){Jr(this),this.a.forEach((function(n,r){_t(n,(function(n){e.call(t,n,r,this)}),this)}),this)},ot.L=function(){Jr(this);for(var e=this.a.K(),t=this.a.L(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},ot.K=function(e){Jr(this);var t=[];if("string"===typeof e)ei(this,e)&&(t=St(t,this.a.get(ni(this,e))));else{e=this.a.K();for(var n=0;n<e.length;n++)t=St(t,e[n])}return t},ot.set=function(e,t){return Jr(this),this.c=null,ei(this,e=ni(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},ot.get=function(e,t){return e&&0<(e=this.K(e)).length?String(e[0]):t},ot.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.L(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var ri=function(e,t){this.b=e,this.a=t};function ii(e){this.g=e||oi,st.PerformanceNavigationTiming?e=0<(e=st.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(st.ia&&st.ia.ya&&st.ia.ya()&&st.ia.ya().Lb),this.f=e?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var oi=10;function ai(e){return!!e.b||!!e.a&&e.a.size>=e.f}function ui(e){return e.b?1:e.a?e.a.size:0}function si(e,t){return e.b?e.b==t:!!e.a&&e.a.has(t)}function ci(e,t){e.a?e.a.add(t):e.b=t}function li(e,t){e.b&&e.b==t?e.b=null:e.a&&e.a.has(t)&&e.a.delete(t)}function fi(e){var t,n;if(null!=e.b)return e.c.concat(e.b.s);if(null!=e.a&&0!==e.a.size){var r=e.c;try{for(var i=it(e.a.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.s)}}catch(u){t={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return kt(e.c)}function hi(){}function di(){this.a=new hi}function pi(e,t,n){var r=n||"";try{Dr(e,(function(e,n){var i=e;ft(e)&&(i=Nn(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(wv){throw t.push(r+"type="+encodeURIComponent("_badmap")),wv}}function vi(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}ii.prototype.cancel=function(){var e,t;if(this.c=fi(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=it(this.a.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(i){e={error:i}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.a.clear()}},hi.prototype.stringify=function(e){return st.JSON.stringify(e,void 0)},hi.prototype.parse=function(e){return st.JSON.parse(e,void 0)};var yi=st.JSON.parse;function mi(e){In.call(this),this.headers=new Ar,this.H=e||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=gi,this.D=this.F=!1}bt(mi,In);var gi="",bi=/^https?$/i,wi=["POST","PUT"];function Ei(e){return"content-type"==e.toLowerCase()}function _i(e,t){e.b=!1,e.a&&(e.g=!0,e.a.abort(),e.g=!1),e.f=t,e.h=5,Si(e),Ti(e)}function Si(e){e.u||(e.u=!0,xn(e,"complete"),xn(e,"error"))}function ki(e){if(e.b&&"undefined"!=typeof ut&&(!e.s[1]||4!=xi(e)||2!=e.W()))if(e.l&&4==xi(e))Bn(e.za,0,e);else if(xn(e,"readystatechange"),4==xi(e)){e.b=!1;try{var t,n=e.W();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.B).match(Rr)[1]||null;if(!o&&st.self&&st.self.location){var a=st.self.location.protocol;o=a.substr(0,a.length-1)}i=!bi.test(o?o.toLowerCase():"")}t=i}if(t)xn(e,"complete"),xn(e,"success");else{e.h=6;try{var u=2<xi(e)?e.a.statusText:""}catch(n){u=""}e.f=u+" ["+e.W()+"]",Si(e)}}finally{Ti(e)}}}function Ti(e,t){if(e.a){Ii(e);var n=e.a,r=e.s[0]?ct:null;e.a=null,e.s=null,t||xn(e,"ready");try{n.onreadystatechange=r}catch(wv){}}}function Ii(e){e.a&&e.D&&(e.a.ontimeout=null),e.m&&(st.clearTimeout(e.m),e.m=null)}function xi(e){return e.a?e.a.readyState:0}function Ci(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Ot(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):qr(e,t,n))}function Ni(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Di(e){this.pa=0,this.g=[],this.c=new $n,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Ni("failFast",!1,e),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Ni("baseRetryDelayMs",5e3,e),this.Ra=Ni("retryDelaySeedMs",1e4,e),this.Ma=Ni("forwardChannelMaxRetries",2,e),this.ma=Ni("forwardChannelRequestTimeoutMs",2e4,e),this.Na=e&&e.g||void 0,this.D=void 0,this.C=e&&e.supportsCrossDomainXhr||!1,this.J="",this.b=new ii(e&&e.concurrentRequestLimit),this.ka=new di,this.da=e&&e.fastHandshake||!1,this.Ia=e&&e.b||!1,e&&e.f&&(this.c.a=!1),e&&e.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&e&&e.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=e&&e.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Ai(e){if(Pi(e),3==e.v){var t=e.R++,n=Mr(e.B);qr(n,"SID",e.J),qr(n,"RID",t),qr(n,"TYPE","terminate"),Fi(e,n),(t=new yr(e,e.c,t,void 0)).H=2,t.i=Br(Mr(n)),n=!1,st.navigator&&st.navigator.sendBeacon&&(n=st.navigator.sendBeacon(t.i.toString(),"")),!n&&st.Image&&((new Image).src=t.i,n=!0),n||(t.a=$i(t.g,null),t.a.ba(t.i)),t.u=gt(),kr(t)}Gi(e)}function Oi(e){e.a&&(qi(e),e.a.cancel(),e.a=null)}function Pi(e){Oi(e),e.j&&(st.clearTimeout(e.j),e.j=null),zi(e),e.b.cancel(),e.h&&("number"===typeof e.h&&st.clearTimeout(e.h),e.h=null)}function Ri(e,t){e.g.push(new ri(e.Oa++,t)),3==e.v&&Li(e)}function Li(e){ai(e.b)||e.h||(e.h=!0,Mn(e.Ba,e),e.u=0)}function Mi(e,t){var n;n=t?t.f:e.R++;var r=Mr(e.B);qr(r,"SID",e.J),qr(r,"RID",n),qr(r,"AID",e.P),Fi(e,r),e.i&&e.l&&Ci(r,e.i,e.l),n=new yr(e,e.c,n,e.u+1),null===e.i&&(n.B=e.l),t&&(e.g=t.s.concat(e.g)),t=ji(e,n,1e3),n.setTimeout(Math.round(.5*e.ma)+Math.round(.5*e.ma*Math.random())),ci(e.b,n),wr(n,r,t)}function Fi(e,t){e.f&&Dr({},(function(e,n){qr(t,n,e)}))}function ji(e,t,n){n=Math.min(e.g.length,n);var r=e.f?yt(e.f.Ja,e.f,e):null;e:for(var i=e.g,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].b,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var u=!0,c=0;c<n;c++){var l=i[c].b,f=i[c].a;if(0>(l-=o))o=Math.max(0,i[c].b-100),u=!1;else try{pi(f,a,"req"+l+"_")}catch(s){r&&r(f)}}if(u){r=a.join("&");break e}}return e=e.g.splice(0,n),t.s=e,r}function Ui(e){e.a||e.j||(e.T=1,Mn(e.Aa,e),e.o=0)}function Vi(e){return!(e.a||e.j||3<=e.o)&&(e.T++,e.j=or(yt(e.Aa,e),Hi(e,e.o)),e.o++,!0)}function qi(e){null!=e.s&&(st.clearTimeout(e.s),e.s=null)}function Bi(e){e.a=new yr(e,e.c,"rpc",e.T),null===e.i&&(e.a.B=e.l),e.a.O=0;var t=Mr(e.la);qr(t,"RID","rpc"),qr(t,"SID",e.J),qr(t,"CI",e.H?"0":"1"),qr(t,"AID",e.P),Fi(e,t),qr(t,"TYPE","xmlhttp"),e.i&&e.l&&Ci(t,e.i,e.l),e.D&&e.a.setTimeout(e.D);var n=e.a;e=e.ga,n.H=1,n.i=Br(Mr(t)),n.j=null,n.I=!0,Er(n,e)}function zi(e){null!=e.m&&(st.clearTimeout(e.m),e.m=null)}function Ki(e,t){var n=null;if(e.a==t){zi(e),qi(e),e.a=null;var r=2}else{if(!si(e.b,t))return;n=t.s,li(e.b,t),r=1}if(e.I=t.N,0!=e.v)if(t.b)if(1==r){n=t.j?t.j.length:0,t=gt()-t.u;var i=e.u;xn(r=Zn(),new ir(r,n,t,i)),Li(e)}else Ui(e);else if(3==(i=t.h)||0==i&&0<e.I||!(1==r&&function(e,t){return!(ui(e.b)>=e.b.f-(e.h?1:0))&&(e.h?(e.g=t.s.concat(e.g),!0):!(1==e.v||2==e.v||e.u>=(e.La?0:e.Ma))&&(e.h=or(yt(e.Ba,e,t),Hi(e,e.u)),e.u++,!0))}(e,t)||2==r&&Vi(e)))switch(n&&0<n.length&&(t=e.b,t.c=t.c.concat(n)),i){case 1:Wi(e,5);break;case 4:Wi(e,10);break;case 3:Wi(e,6);break;default:Wi(e,2)}}function Hi(e,t){var n=e.Ha+Math.floor(Math.random()*e.Ra);return e.f||(n*=2),n*t}function Wi(e,t){if(e.c.info("Error code "+t),2==t){var n=null;e.f&&(n=null);var r=yt(e.Ya,e);n||(n=new Lr("//www.google.com/images/cleardot.gif"),st.location&&"http"==st.location.protocol||Fr(n,"https"),Br(n)),function(e,t){var n=new $n;if(st.Image){var r=new Image;r.onload=mt(vi,n,r,"TestLoadImage: loaded",!0,t),r.onerror=mt(vi,n,r,"TestLoadImage: error",!1,t),r.onabort=mt(vi,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=mt(vi,n,r,"TestLoadImage: timeout",!1,t),st.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else rr(2);e.v=0,e.f&&e.f.ra(t),Gi(e),Pi(e)}function Gi(e){e.v=0,e.I=-1,e.f&&(0==fi(e.b).length&&0==e.g.length||(e.b.c.length=0,kt(e.g),e.g.length=0),e.f.qa())}function Qi(e,t,n){var r=function(e){return e instanceof Lr?Mr(e):new Lr(e,void 0)}(n);if(""!=r.c)t&&jr(r,t+"."+r.c),Ur(r,r.h);else{var i=st.location;r=function(e,t,n,r){var i=new Lr(null,void 0);return e&&Fr(i,e),t&&jr(i,t),n&&Ur(i,n),r&&(i.g=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.V&&Ot(e.V,(function(e,t){qr(r,t,e)})),t=e.A,n=e.na,t&&n&&qr(r,t,n),qr(r,"VER",e.ha),Fi(e,r),r}function $i(e,t){if(t&&!e.C)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new mi(e.Na)).F=e.C,t}function Yi(){}function Xi(){if(Ut&&!(10<=Number(Jt)))throw Error("Environmental error: no available transport.")}function Ji(e,t){In.call(this),this.a=new Di(t),this.o=e,this.b=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.a.l=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.a&&(e?e["X-WebChannel-Client-Profile"]=t.a:e={"X-WebChannel-Client-Profile":t.a}),this.a.O=e,(e=t&&t.httpHeadersOverwriteParam)&&!Tt(e)&&(this.a.i=e),this.m=t&&t.supportsCrossDomainXhr||!1,this.l=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Tt(t)&&(this.a.A=t,null!==(e=this.b)&&t in e&&(t in(e=this.b)&&delete e[t])),this.f=new to(this)}function Zi(e){dr.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.c=e)?(e=this.c,this.data=null!==t&&e in t?t[e]:void 0):this.data=t}else this.data=e}function eo(){pr.call(this),this.status=1}function to(e){this.a=e}(ot=mi.prototype).ba=function(e,t,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+e);t=t?t.toUpperCase():"GET",this.B=e,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?cr(this.H):cr(fr),this.a.onreadystatechange=yt(this.za,this);try{this.A=!0,this.a.open(t,String(e),!0),this.A=!1}catch(o){return void _i(this,o)}e=n||"";var i=new Ar(this.headers);r&&Dr(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Ei,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.L()),n=st.FormData&&e instanceof st.FormData,!(0<=Et(wi,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.a.setRequestHeader(t,e)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Ii(this),0<this.o&&((this.D=function(e){return Ut&&Yt(9)&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=yt(this.xa,this)):this.m=Bn(this.xa,this.o,this)),this.l=!0,this.a.send(e),this.l=!1}catch(o){_i(this,o)}},ot.xa=function(){"undefined"!=typeof ut&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,xn(this,"timeout"),this.abort(8))},ot.abort=function(e){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=e||7,xn(this,"complete"),xn(this,"abort"),Ti(this))},ot.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Ti(this,!0)),mi.X.G.call(this)},ot.za=function(){this.j||(this.A||this.l||this.g?ki(this):this.Ua())},ot.Ua=function(){ki(this)},ot.W=function(){try{return 2<xi(this)?this.a.status:-1}catch(e){return-1}},ot.$=function(){try{return this.a?this.a.responseText:""}catch(e){return""}},ot.Pa=function(e){if(this.a){var t=this.a.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),yi(t)}},ot.ua=function(){return this.h},ot.Qa=function(){return"string"===typeof this.f?this.f:String(this.f)},(ot=Di.prototype).ha=8,ot.v=1,ot.Ba=function(e){if(this.h)if(this.h=null,1==this.v){if(!e){this.R=Math.floor(1e5*Math.random()),e=this.R++;var t,n=new yr(this,this.c,e,void 0),r=this.l;if(this.O&&(r?Lt(r=Pt(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)e:{for(var i=t=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"===typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(t+=o)){t=i;break e}if(4096===t||i===this.g.length-1){t=i+1;break e}}t=1e3}else t=1e3;t=ji(this,n,t),qr(i=Mr(this.B),"RID",e),qr(i,"CVER",22),this.A&&qr(i,"X-HTTP-Session-Id",this.A),Fi(this,i),this.i&&r&&Ci(i,this.i,r),ci(this.b,n),this.Ia&&qr(i,"TYPE","init"),this.da?(qr(i,"$req",t),qr(i,"SID","null"),n.U=!0,wr(n,i,null)):wr(n,i,t),this.v=2}}else 3==this.v&&(e?Mi(this,e):0==this.g.length||ai(this.b)||Mi(this))},ot.Aa=function(){if(this.j=null,Bi(this),this.U&&!(this.F||null==this.a||0>=this.N)){var e=2*this.N;this.c.info("BP detection timer enabled: "+e),this.s=or(yt(this.Ta,this),e)}},ot.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,rr(10),Oi(this),Bi(this))},ot.Sa=function(){null!=this.m&&(this.m=null,Oi(this),Vi(this),rr(19))},ot.Ya=function(e){e?(this.c.info("Successfully pinged google.com"),rr(2)):(this.c.info("Failed to ping google.com"),rr(1))},(ot=Yi.prototype).ta=function(){},ot.sa=function(){},ot.ra=function(){},ot.qa=function(){},ot.Ja=function(){},Xi.prototype.a=function(e,t){return new Ji(e,t)},bt(Ji,In),Ji.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var e=this.a,t=this.o,n=this.b||void 0;rr(0),e.fa=t,e.V=n||{},e.H=e.S,e.B=Qi(e,null,e.fa),Li(e)},Ji.prototype.close=function(){Ai(this.a)},Ji.prototype.h=function(e){if("string"===typeof e){var t={};t.__data__=e,Ri(this.a,t)}else this.l?((t={}).__data__=Nn(e),Ri(this.a,t)):Ri(this.a,e)},Ji.prototype.G=function(){this.a.f=null,delete this.f,Ai(this.a),delete this.a,Ji.X.G.call(this)},bt(Zi,dr),bt(eo,pr),bt(to,Yi),to.prototype.ta=function(){xn(this.a,"a")},to.prototype.sa=function(e){xn(this.a,new Zi(e))},to.prototype.ra=function(e){xn(this.a,new eo(e))},to.prototype.qa=function(){xn(this.a,"b")},Xi.prototype.createWebChannel=Xi.prototype.a,Ji.prototype.send=Ji.prototype.h,Ji.prototype.open=Ji.prototype.g,Ji.prototype.close=Ji.prototype.close,ar.NO_ERROR=0,ar.TIMEOUT=8,ar.HTTP_ERROR=6,ur.COMPLETE="complete",lr.EventType=hr,hr.OPEN="a",hr.CLOSE="b",hr.ERROR="c",hr.MESSAGE="d",In.prototype.listen=In.prototype.va,mi.prototype.listenOnce=mi.prototype.wa,mi.prototype.getLastError=mi.prototype.Qa,mi.prototype.getLastErrorCode=mi.prototype.ua,mi.prototype.getStatus=mi.prototype.W,mi.prototype.getResponseJson=mi.prototype.Pa,mi.prototype.getResponseText=mi.prototype.$,mi.prototype.send=mi.prototype.ba;var no=function(){return new Xi},ro=function(){return Zn()},io=ar,oo=ur,ao=Xn,uo={gb:0,jb:1,kb:2,Db:3,Ib:4,Fb:5,Gb:6,Eb:7,Cb:8,Hb:9,PROXY:10,NOPROXY:11,Ab:12,wb:13,xb:14,vb:15,yb:16,zb:17,bb:18,ab:19,cb:20},so=lr,co=mi,lo=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.t(e)},this.i=function(e){return t.writeSequenceNumber(e)})}return e.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},e}();lo.o=-1;var fo={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ho=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return oe(t,e),t}(Error),po=new Ve("@firebase/firestore");function vo(){return po.logLevel}function yo(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(po.logLevel<=Pe.DEBUG){var r=t.map(bo);po.debug.apply(po,fe(["Firestore (8.5.0): "+e],r))}}function mo(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(po.logLevel<=Pe.ERROR){var r=t.map(bo);po.error.apply(po,fe(["Firestore (8.5.0): "+e],r))}}function go(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(po.logLevel<=Pe.WARN){var r=t.map(bo);po.warn.apply(po,fe(["Firestore (8.5.0): "+e],r))}}function bo(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function wo(e){void 0===e&&(e="Unexpected state");var t="FIRESTORE (8.5.0) INTERNAL ASSERTION FAILED: "+e;throw mo(t),new Error(t)}function Eo(e,t){e||wo()}function _o(e,t){return e}function So(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var ko=function(){function e(){}return e.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=So(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n},e}();function To(e,t){return e<t?-1:e>t?1:0}function Io(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function xo(e){return e+"\0"}var Co=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ho(fo.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ho(fo.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ho(fo.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ho(fo.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?To(this.nanoseconds,e.nanoseconds):To(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),No=function(){function e(e){this.timestamp=e}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new Co(0,0))},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();function Do(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ao(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Oo(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Po=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&wo(),void 0===n?n=e.length-t:n>e.length-t&&wo(),this.segments=e,this.offset=t,this.len=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),Ro=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return oe(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=[],i=0,o=e;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new ho(fo.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(e){return e.length>0})))}return new t(r)},t.emptyPath=function(){return new t([])},t}(Po),Lo=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Mo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return oe(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.isValidIdentifier=function(e){return Lo.test(e)},t.prototype.canonicalString=function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new ho(fo.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new ho(fo.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new ho(fo.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(a=!a,i++):"."!==u||a?(r+=u,i++):(o(),i++)}if(o(),a)throw new ho(fo.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.emptyPath=function(){return new t([])},t}(Po),Fo=function(){function e(e){this.fields=e,e.sort(Mo.comparator)}return e.prototype.covers=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].isPrefixOf(e))return!0;return!1},e.prototype.isEqual=function(e){return Io(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))},e}(),jo=function(){function e(e){this.binaryString=e}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))},e.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},e.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(e){return To(this.binaryString,e.binaryString)},e.prototype.isEqual=function(e){return this.binaryString===e.binaryString},e}();jo.EMPTY_BYTE_STRING=new jo("");var Uo=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vo(e){if(Eo(!!e),"string"==typeof e){var t=0,n=Uo.exec(e);if(Eo(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:qo(e.seconds),nanos:qo(e.nanos)}}function qo(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Bo(e){return"string"==typeof e?jo.fromBase64String(e):jo.fromUint8Array(e)}function zo(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ko(e){var t=e.mapValue.fields.__previous_value__;return zo(t)?Ko(t):t}function Ho(e){var t=Vo(e.mapValue.fields.__local_write_time__.timestampValue);return new Co(t.seconds,t.nanos)}function Wo(e){return null==e}function Go(e){return 0===e&&1/e==-1/0}function Qo(e){return"number"==typeof e&&Number.isInteger(e)&&!Go(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var $o=function(){function e(e){this.path=e}return e.fromPath=function(t){return new e(Ro.fromString(t))},e.fromName=function(t){return new e(Ro.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===Ro.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return Ro.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2==0},e.fromSegments=function(t){return new e(new Ro(t.slice()))},e}();function Yo(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?zo(e)?4:10:wo()}function Xo(e,t){var n=Yo(e);if(n!==Yo(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ho(e).isEqual(Ho(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Vo(e.timestampValue),r=Vo(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Bo(e.bytesValue).isEqual(Bo(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return qo(e.geoPointValue.latitude)===qo(t.geoPointValue.latitude)&&qo(e.geoPointValue.longitude)===qo(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return qo(e.integerValue)===qo(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=qo(e.doubleValue),r=qo(t.doubleValue);return n===r?Go(n)===Go(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Io(e.arrayValue.values||[],t.arrayValue.values||[],Xo);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Do(n)!==Do(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Xo(n[i],r[i])))return!1;return!0}(e,t);default:return wo()}}function Jo(e,t){return void 0!==(e.values||[]).find((function(e){return Xo(e,t)}))}function Zo(e,t){var n=Yo(e),r=Yo(t);if(n!==r)return To(n,r);switch(n){case 0:return 0;case 1:return To(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=qo(e.integerValue||e.doubleValue),r=qo(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return ea(e.timestampValue,t.timestampValue);case 4:return ea(Ho(e),Ho(t));case 5:return To(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Bo(e),r=Bo(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=To(n[i],r[i]);if(0!==o)return o}return To(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=To(qo(e.latitude),qo(t.latitude));return 0!==n?n:To(qo(e.longitude),qo(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=Zo(n[i],r[i]);if(o)return o}return To(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var u=To(r[a],o[a]);if(0!==u)return u;var s=Zo(n[r[a]],i[o[a]]);if(0!==s)return s}return To(r.length,o.length)}(e.mapValue,t.mapValue);default:throw wo()}}function ea(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return To(e,t);var n=Vo(e),r=Vo(t),i=To(n.seconds,r.seconds);return 0!==i?i:To(n.nanos,r.nanos)}function ta(e){return na(e)}function na(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Vo(e);return"time("+t.seconds+","+t.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Bo(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,$o.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(e){for(var t="[",n=!0,r=0,i=e.values||[];r<i.length;r++)n?n=!1:t+=",",t+=na(i[r]);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var t="{",n=!0,r=0,i=Object.keys(e.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:t+=",",t+=o+":"+na(e.fields[o])}return t+"}"}(e.mapValue):wo();var t,n}function ra(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function ia(e){return!!e&&"integerValue"in e}function oa(e){return!!e&&"arrayValue"in e}function aa(e){return!!e&&"nullValue"in e}function ua(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function sa(e){return!!e&&"mapValue"in e}var ca=function(){function e(e){this.overlayMap=new Map,this.partialValue=e}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(t){return e.extractNestedValue(this.buildProto(),t)},e.prototype.toProto=function(){return this.field(Mo.emptyPath())},e.prototype.set=function(e,t){this.setOverlay(e,t)},e.prototype.setAll=function(e){var t=this;e.forEach((function(e,n){e?t.set(n,e):t.delete(n)}))},e.prototype.delete=function(e){this.setOverlay(e,null)},e.prototype.isEqual=function(e){return Xo(this.buildProto(),e.buildProto())},e.prototype.setOverlay=function(e,t){for(var n=this.overlayMap,r=0;r<e.length-1;++r){var i=e.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Yo(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(e.lastSegment(),t)},e.prototype.applyOverlay=function(t,n){var r=this,i=!1,o=e.extractNestedValue(this.partialValue,t),a=sa(o)?Object.assign({},o.mapValue.fields):{};return n.forEach((function(e,n){if(e instanceof Map){var o=r.applyOverlay(t.child(n),e);null!=o&&(a[n]=o,i=!0)}else null!==e?(a[n]=e,i=!0):a.hasOwnProperty(n)&&(delete a[n],i=!0)})),i?{mapValue:{fields:a}}:null},e.prototype.buildProto=function(){var e=this.applyOverlay(Mo.emptyPath(),this.overlayMap);return null!=e&&(this.partialValue=e,this.overlayMap.clear()),this.partialValue},e.extractNestedValue=function(e,t){if(t.isEmpty())return e;for(var n=e,r=0;r<t.length-1;++r){if(!n.mapValue.fields)return null;if(!sa(n=n.mapValue.fields[t.get(r)]))return null}return(n=(n.mapValue.fields||{})[t.lastSegment()])||null},e.prototype.clone=function(){return new e(this.buildProto())},e}();function la(e){var t=[];return Ao(e.fields||{},(function(e,n){var r=new Mo([e]);if(sa(n)){var i=la(n.mapValue).fields;if(0===i.length)t.push(r);else for(var o=0,a=i;o<a.length;o++){var u=a[o];t.push(r.child(u))}}else t.push(r)})),new Fo(t)}var fa=function(){function e(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}return e.newInvalidDocument=function(t){return new e(t,0,No.min(),ca.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,ca.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,ca.empty(),2)},e.prototype.convertToFoundDocument=function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this},e.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=ca.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=ca.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return 0!==this.documentType},e.prototype.isFoundDocument=function(){return 1===this.documentType},e.prototype.isNoDocument=function(){return 2===this.documentType},e.prototype.isUnknownDocument=function(){return 3===this.documentType},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.toProto())+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),ha=function(e,t,n,r,i,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function da(e,t,n,r,i,o,a){return void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new ha(e,t,n,r,i,o,a)}function pa(e){var t=_o(e);if(null===t.h){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+ta(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Wo(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=xa(t.startAt)),t.endAt&&(n+="|ub:",n+=xa(t.endAt)),t.h=n}return t.h}function va(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Na(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],o=t.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!Xo(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Aa(e.startAt,t.startAt)&&Aa(e.endAt,t.endAt)}function ya(e){return $o.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var ma=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).field=t,i.op=n,i.value=r,i}return oe(t,e),t.create=function(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.l(e,n,r):new ga(e,n,r):"array-contains"===n?new _a(e,r):"in"===n?new Sa(e,r):"not-in"===n?new ka(e,r):"array-contains-any"===n?new Ta(e,r):new t(e,n,r)},t.l=function(e,t,n){return"in"===t?new ba(e,n):new wa(e,n)},t.prototype.matches=function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.m(Zo(t,this.value)):null!==t&&Yo(this.value)===Yo(t)&&this.m(Zo(t,this.value))},t.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return wo()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}((function(){})),ga=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,r)||this).key=$o.fromName(r.referenceValue),i}return oe(t,e),t.prototype.matches=function(e){var t=$o.comparator(e.key,this.key);return this.m(t)},t}(ma),ba=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"in",n)||this).keys=Ea("in",n),r}return oe(t,e),t.prototype.matches=function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))},t}(ma),wa=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"not-in",n)||this).keys=Ea("not-in",n),r}return oe(t,e),t.prototype.matches=function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))},t}(ma);function Ea(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return $o.fromName(e.referenceValue)}))}var _a=function(e){function t(t,n){return e.call(this,t,"array-contains",n)||this}return oe(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return oa(t)&&Jo(t.arrayValue,this.value)},t}(ma),Sa=function(e){function t(t,n){return e.call(this,t,"in",n)||this}return oe(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return null!==t&&Jo(this.value.arrayValue,t)},t}(ma),ka=function(e){function t(t,n){return e.call(this,t,"not-in",n)||this}return oe(t,e),t.prototype.matches=function(e){if(Jo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Jo(this.value.arrayValue,t)},t}(ma),Ta=function(e){function t(t,n){return e.call(this,t,"array-contains-any",n)||this}return oe(t,e),t.prototype.matches=function(e){var t=this,n=e.data.field(this.field);return!(!oa(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Jo(t.value.arrayValue,e)}))},t}(ma),Ia=function(e,t){this.position=e,this.before=t};function xa(e){return(e.before?"b":"a")+":"+e.position.map((function(e){return ta(e)})).join(",")}var Ca=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t};function Na(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Da(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],a=e.position[i];if(r=o.field.isKeyField()?$o.comparator($o.fromName(a.referenceValue),n.key):Zo(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function Aa(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Xo(e.position[n],t.position[n]))return!1;return!0}var Oa=function(e,t,n,r,i,o,a,u){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===u&&(u=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=u,this.p=null,this.T=null,this.startAt,this.endAt};function Pa(e,t,n,r,i,o,a,u){return new Oa(e,t,n,r,i,o,a,u)}function Ra(e){return new Oa(e)}function La(e){return!Wo(e.limit)&&"F"===e.limitType}function Ma(e){return!Wo(e.limit)&&"L"===e.limitType}function Fa(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function ja(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function Ua(e){return null!==e.collectionGroup}function Va(e){var t=_o(e);if(null===t.p){t.p=[];var n=ja(t),r=Fa(t);if(null!==n&&null===r)n.isKeyField()||t.p.push(new Ca(n)),t.p.push(new Ca(Mo.keyField(),"asc"));else{for(var i=!1,o=0,a=t.explicitOrderBy;o<a.length;o++){var u=a[o];t.p.push(u),u.field.isKeyField()&&(i=!0)}if(!i){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new Ca(Mo.keyField(),s))}}}return t.p}function qa(e){var t=_o(e);if(!t.T)if("F"===t.limitType)t.T=da(t.path,t.collectionGroup,Va(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=Va(t);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new Ca(o.field,a))}var u=t.endAt?new Ia(t.endAt.position,!t.endAt.before):null,s=t.startAt?new Ia(t.startAt.position,!t.startAt.before):null;t.T=da(t.path,t.collectionGroup,n,t.filters,t.limit,u,s)}return t.T}function Ba(e,t,n){return new Oa(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function za(e,t){return va(qa(e),qa(t))&&e.limitType===t.limitType}function Ka(e){return pa(qa(e))+"|lt:"+e.limitType}function Ha(e){return"Query(target="+function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: ["+e.filters.map((function(e){return(t=e).field.canonicalString()+" "+t.op+" "+ta(t.value);var t})).join(", ")+"]"),Wo(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: ["+e.orderBy.map((function(e){return function(e){return e.field.canonicalString()+" ("+e.dir+")"}(e)})).join(", ")+"]"),e.startAt&&(t+=", startAt: "+xa(e.startAt)),e.endAt&&(t+=", endAt: "+xa(e.endAt)),"Target("+t+")"}(qa(e))+"; limitType="+e.limitType+")"}function Wa(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):$o.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(var n=0,r=e.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}return!0}(e,t)&&function(e,t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!Da(e.startAt,Va(e),t))&&(!e.endAt||!Da(e.endAt,Va(e),t))}(e,t)}function Ga(e){return function(t,n){for(var r=!1,i=0,o=Va(e);i<o.length;i++){var a=o[i],u=Qa(a,t,n);if(0!==u)return u;r=r||a.field.isKeyField()}return 0}}function Qa(e,t,n){var r=e.field.isKeyField()?$o.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Zo(r,i):wo()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return wo()}}function $a(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Go(t)?"-0":t}}function Ya(e){return{integerValue:""+e}}function Xa(e,t){return Qo(t)?Ya(t):$a(e,t)}var Ja=function(){this._=void 0};function Za(e,t,n){return e instanceof nu?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof ru?iu(e,t):e instanceof ou?au(e,t):function(e,t){var n=tu(e,t),r=su(n)+su(e.A);return ia(n)&&ia(e.A)?Ya(r):$a(e.R,r)}(e,t)}function eu(e,t,n){return e instanceof ru?iu(e,t):e instanceof ou?au(e,t):n}function tu(e,t){return e instanceof uu?ia(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var nu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return oe(t,e),t}(Ja),ru=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return oe(t,e),t}(Ja);function iu(e,t){for(var n=cu(t),r=function(e){n.some((function(t){return Xo(t,e)}))||n.push(e)},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var ou=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return oe(t,e),t}(Ja);function au(e,t){for(var n=cu(t),r=function(e){n=n.filter((function(t){return!Xo(t,e)}))},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var uu=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).R=t,r.A=n,r}return oe(t,e),t}(Ja);function su(e){return qo(e.integerValue||e.doubleValue)}function cu(e){return oa(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var lu=function(e,t){this.field=e,this.transform=t},fu=function(e,t){this.version=e,this.transformResults=t},hu=function(){function e(e,t){this.updateTime=e,this.exists=t}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},e}();function du(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var pu=function(){};function vu(e,t,n){e instanceof wu?function(e,t,n){var r=e.value.clone(),i=Su(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Eu?function(e,t,n){if(du(e.precondition,t)){var r=Su(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(_u(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function yu(e,t,n){e instanceof wu?function(e,t,n){if(du(e.precondition,t)){var r=e.value.clone(),i=ku(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(bu(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Eu?function(e,t,n){if(du(e.precondition,t)){var r=ku(e.fieldTransforms,n,t),i=t.data;i.setAll(_u(e)),i.setAll(r),t.convertToFoundDocument(bu(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){du(e.precondition,t)&&t.convertToNoDocument(No.min())}(e,t)}function mu(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var o=i[r],a=t.data.field(o.field),u=tu(o.transform,a||null);null!=u&&(null==n&&(n=ca.empty()),n.set(o.field,u))}return n||null}function gu(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Io(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof ru&&t instanceof ru||e instanceof ou&&t instanceof ou?Io(e.elements,t.elements,Xo):e instanceof uu&&t instanceof uu?Xo(e.A,t.A):e instanceof nu&&t instanceof nu}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function bu(e){return e.isFoundDocument()?e.version:No.min()}var wu=function(e){function t(t,n,r,i){void 0===i&&(i=[]);var o=this;return(o=e.call(this)||this).key=t,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return oe(t,e),t}(pu),Eu=function(e){function t(t,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=e.call(this)||this).key=t,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return oe(t,e),t}(pu);function _u(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Su(e,t,n){var r=new Map;Eo(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],a=o.transform,u=t.data.field(o.field);r.set(o.field,eu(a,u,n[i]))}return r}function ku(e,t,n){for(var r=new Map,i=0,o=e;i<o.length;i++){var a=o[i],u=a.transform,s=n.data.field(a.field);r.set(a.field,Za(u,s,t))}return r}var Tu,Iu,xu=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return oe(t,e),t}(pu),Cu=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return oe(t,e),t}(pu),Nu=function(e){this.count=e};function Du(e){switch(e){case fo.OK:return wo();case fo.CANCELLED:case fo.UNKNOWN:case fo.DEADLINE_EXCEEDED:case fo.RESOURCE_EXHAUSTED:case fo.INTERNAL:case fo.UNAVAILABLE:case fo.UNAUTHENTICATED:return!1;case fo.INVALID_ARGUMENT:case fo.NOT_FOUND:case fo.ALREADY_EXISTS:case fo.PERMISSION_DENIED:case fo.FAILED_PRECONDITION:case fo.ABORTED:case fo.OUT_OF_RANGE:case fo.UNIMPLEMENTED:case fo.DATA_LOSS:return!0;default:return wo()}}function Au(e){if(void 0===e)return mo("GRPC error has no .code"),fo.UNKNOWN;switch(e){case Tu.OK:return fo.OK;case Tu.CANCELLED:return fo.CANCELLED;case Tu.UNKNOWN:return fo.UNKNOWN;case Tu.DEADLINE_EXCEEDED:return fo.DEADLINE_EXCEEDED;case Tu.RESOURCE_EXHAUSTED:return fo.RESOURCE_EXHAUSTED;case Tu.INTERNAL:return fo.INTERNAL;case Tu.UNAVAILABLE:return fo.UNAVAILABLE;case Tu.UNAUTHENTICATED:return fo.UNAUTHENTICATED;case Tu.INVALID_ARGUMENT:return fo.INVALID_ARGUMENT;case Tu.NOT_FOUND:return fo.NOT_FOUND;case Tu.ALREADY_EXISTS:return fo.ALREADY_EXISTS;case Tu.PERMISSION_DENIED:return fo.PERMISSION_DENIED;case Tu.FAILED_PRECONDITION:return fo.FAILED_PRECONDITION;case Tu.ABORTED:return fo.ABORTED;case Tu.OUT_OF_RANGE:return fo.OUT_OF_RANGE;case Tu.UNIMPLEMENTED:return fo.UNIMPLEMENTED;case Tu.DATA_LOSS:return fo.DATA_LOSS;default:return wo()}}(Iu=Tu||(Tu={}))[Iu.OK=0]="OK",Iu[Iu.CANCELLED=1]="CANCELLED",Iu[Iu.UNKNOWN=2]="UNKNOWN",Iu[Iu.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Iu[Iu.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Iu[Iu.NOT_FOUND=5]="NOT_FOUND",Iu[Iu.ALREADY_EXISTS=6]="ALREADY_EXISTS",Iu[Iu.PERMISSION_DENIED=7]="PERMISSION_DENIED",Iu[Iu.UNAUTHENTICATED=16]="UNAUTHENTICATED",Iu[Iu.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Iu[Iu.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Iu[Iu.ABORTED=10]="ABORTED",Iu[Iu.OUT_OF_RANGE=11]="OUT_OF_RANGE",Iu[Iu.UNIMPLEMENTED=12]="UNIMPLEMENTED",Iu[Iu.INTERNAL=13]="INTERNAL",Iu[Iu.UNAVAILABLE=14]="UNAVAILABLE",Iu[Iu.DATA_LOSS=15]="DATA_LOSS";var Ou=function(){function e(e,t){this.comparator=e,this.root=t||Ru.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ru.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ru.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))},e.prototype.toString=function(){var e=[];return this.inorderTraversal((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new Pu(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new Pu(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Pu(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new Pu(this.root,e,this.comparator,!0)},e}(),Pu=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),Ru=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw wo();if(this.right.isRed())throw wo();var e=this.left.check();if(e!==this.right.check())throw wo();return e+(this.isRed()?0:1)},e}();Ru.EMPTY=null,Ru.RED=!0,Ru.BLACK=!1,Ru.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw wo()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw wo()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw wo()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw wo()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw wo()},enumerable:!1,configurable:!0}),e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new Ru(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());var Lu=function(){function e(e){this.comparator=e,this.data=new Ou(this.comparator)}return e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new Mu(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new Mu(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},e.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),Mu=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),Fu=new Ou($o.comparator);function ju(){return Fu}var Uu=new Ou($o.comparator);function Vu(){return Uu}var qu=new Ou($o.comparator);function Bu(){return qu}var zu=new Lu($o.comparator);function Ku(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=zu,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Hu=new Lu(To);function Wu(){return Hu}var Gu=function(){function e(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,Qu.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(No.min(),r,Wu(),ju(),Ku())},e}(),Qu=function(){function e(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(jo.EMPTY_BYTE_STRING,n,Ku(),Ku(),Ku())},e}(),$u=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},Yu=function(e,t){this.targetId=e,this.V=t},Xu=function(e,t,n,r){void 0===n&&(n=jo.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},Ju=function(){function e(){this.S=0,this.D=ts(),this.C=jo.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"O",{get:function(){return this.F},enumerable:!1,configurable:!0}),e.prototype.$=function(e){e.approximateByteSize()>0&&(this.F=!0,this.C=e)},e.prototype.M=function(){var e=Ku(),t=Ku(),n=Ku();return this.D.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:wo()}})),new Qu(this.C,this.N,e,t,n)},e.prototype.L=function(){this.F=!1,this.D=ts()},e.prototype.B=function(e,t){this.F=!0,this.D=this.D.insert(e,t)},e.prototype.q=function(e){this.F=!0,this.D=this.D.remove(e)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.F=!0,this.N=!0},e}(),Zu=function(){function e(e){this.W=e,this.G=new Map,this.H=ju(),this.J=es(),this.Y=new Lu(To)}return e.prototype.X=function(e){for(var t=0,n=e.v;t<n.length;t++){var r=n[t];e.P&&e.P.isFoundDocument()?this.Z(r,e.P):this.tt(r,e.key,e.P)}for(var i=0,o=e.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,e.key,e.P)},e.prototype.et=function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.nt(n);switch(e.state){case 0:t.st(n)&&r.$(e.resumeToken);break;case 1:r.K(),r.k||r.L(),r.$(e.resumeToken);break;case 2:r.K(),r.k||t.removeTarget(n);break;case 3:t.st(n)&&(r.j(),r.$(e.resumeToken));break;case 4:t.st(n)&&(t.it(n),r.$(e.resumeToken));break;default:wo()}}))},e.prototype.forEachTarget=function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.G.forEach((function(e,r){n.st(r)&&t(r)}))},e.prototype.rt=function(e){var t=e.targetId,n=e.V.count,r=this.ot(t);if(r){var i=r.target;if(ya(i))if(0===n){var o=new $o(i.path);this.tt(t,o,fa.newNoDocument(o,No.min()))}else Eo(1===n);else this.ct(t)!==n&&(this.it(t),this.Y=this.Y.add(t))}},e.prototype.ut=function(e){var t=this,n=new Map;this.G.forEach((function(r,i){var o=t.ot(i);if(o){if(r.current&&ya(o.target)){var a=new $o(o.target.path);null!==t.H.get(a)||t.at(i,a)||t.tt(i,a,fa.newNoDocument(a,e))}r.O&&(n.set(i,r.M()),r.L())}}));var r=Ku();this.J.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.ot(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new Gu(e,n,this.Y,this.H,r);return this.H=ju(),this.J=es(),this.Y=new Lu(To),i},e.prototype.Z=function(e,t){if(this.st(e)){var n=this.at(e,t.key)?2:0;this.nt(e).B(t.key,n),this.H=this.H.insert(t.key,t),this.J=this.J.insert(t.key,this.ht(t.key).add(e))}},e.prototype.tt=function(e,t,n){if(this.st(e)){var r=this.nt(e);this.at(e,t)?r.B(t,1):r.q(t),this.J=this.J.insert(t,this.ht(t).delete(e)),n&&(this.H=this.H.insert(t,n))}},e.prototype.removeTarget=function(e){this.G.delete(e)},e.prototype.ct=function(e){var t=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.U=function(e){this.nt(e).U()},e.prototype.nt=function(e){var t=this.G.get(e);return t||(t=new Ju,this.G.set(e,t)),t},e.prototype.ht=function(e){var t=this.J.get(e);return t||(t=new Lu(To),this.J=this.J.insert(e,t)),t},e.prototype.st=function(e){var t=null!==this.ot(e);return t||yo("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.ot=function(e){var t=this.G.get(e);return t&&t.k?null:this.W.lt(e)},e.prototype.it=function(e){var t=this;this.G.set(e,new Ju),this.W.getRemoteKeysForTarget(e).forEach((function(n){t.tt(e,n,null)}))},e.prototype.at=function(e,t){return this.W.getRemoteKeysForTarget(e).has(t)},e}();function es(){return new Ou($o.comparator)}function ts(){return new Ou($o.comparator)}var ns={asc:"ASCENDING",desc:"DESCENDING"},rs={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},is=function(e,t){this.databaseId=e,this.I=t};function os(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function as(e,t){return e.I?t.toBase64():t.toUint8Array()}function us(e,t){return os(e,t.toTimestamp())}function ss(e){return Eo(!!e),No.fromTimestamp(function(e){var t=Vo(e);return new Co(t.seconds,t.nanos)}(e))}function cs(e,t){return function(e){return new Ro(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function ls(e){var t=Ro.fromString(e);return Eo(Rs(t)),t}function fs(e,t){return cs(e.databaseId,t.path)}function hs(e,t){var n=ls(t);if(n.get(1)!==e.databaseId.projectId)throw new ho(fo.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ho(fo.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new $o(ys(n))}function ds(e,t){return cs(e.databaseId,t)}function ps(e){var t=ls(e);return 4===t.length?Ro.emptyPath():ys(t)}function vs(e){return new Ro(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function ys(e){return Eo(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function ms(e,t,n){return{name:fs(e,t),fields:n.toProto().mapValue.fields}}function gs(e,t,n){var r=hs(e,t.name),i=ss(t.updateTime),o=new ca({mapValue:{fields:t.fields}}),a=fa.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function bs(e,t){var n;if(t instanceof wu)n={update:ms(e,t.key,t.value)};else if(t instanceof xu)n={delete:fs(e,t.key)};else if(t instanceof Eu)n={update:ms(e,t.key,t.data),updateMask:Ps(t.fieldMask)};else{if(!(t instanceof Cu))return wo();n={verify:fs(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof nu)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ru)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof ou)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof uu)return{fieldPath:t.field.canonicalString(),increment:n.A};throw wo()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:us(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:wo()}(e,t.precondition)),n}function ws(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?hu.updateTime(ss(e.updateTime)):void 0!==e.exists?hu.exists(e.exists):hu.none()}(t.currentDocument):hu.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Eo("REQUEST_TIME"===t.setToServerValue),n=new nu;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new ru(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new ou(i)}else"increment"in t?n=new uu(e,t.increment):wo();var o=Mo.fromServerFormat(t.fieldPath);return new lu(o,n)}(e,t)})):[];if(t.update){t.update.name;var i=hs(e,t.update.name),o=new ca({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(e){var t=e.fieldPaths||[];return new Fo(t.map((function(e){return Mo.fromServerFormat(e)})))}(t.updateMask);return new Eu(i,o,a,n,r)}return new wu(i,o,n,r)}if(t.delete){var u=hs(e,t.delete);return new xu(u,n)}if(t.verify){var s=hs(e,t.verify);return new Cu(s,n)}return wo()}function Es(e,t){return{documents:[ds(e,t.path)]}}function _s(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=ds(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=ds(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(ua(e.value))return{unaryFilter:{field:Ns(e.field),op:"IS_NAN"}};if(aa(e.value))return{unaryFilter:{field:Ns(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ua(e.value))return{unaryFilter:{field:Ns(e.field),op:"IS_NOT_NAN"}};if(aa(e.value))return{unaryFilter:{field:Ns(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ns(e.field),op:Cs(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Ns(e.field),direction:xs(e.dir)}}(e)}))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(e,t){return e.I||Wo(t)?t:{value:t}}(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=Ts(t.startAt)),t.endAt&&(n.structuredQuery.endAt=Ts(t.endAt)),n}function Ss(e){var t=ps(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Eo(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=ks(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new Ca(Ds(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return Wo(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=Is(n.startAt));var l=null;return n.endAt&&(l=Is(n.endAt)),Pa(t,i,u,a,s,"F",c,l)}function ks(e){return e?void 0!==e.unaryFilter?[Os(e)]:void 0!==e.fieldFilter?[As(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return ks(e)})).reduce((function(e,t){return e.concat(t)})):wo():[]}function Ts(e){return{before:e.before,values:e.position}}function Is(e){var t=!!e.before,n=e.values||[];return new Ia(n,t)}function xs(e){return ns[e]}function Cs(e){return rs[e]}function Ns(e){return{fieldPath:e.canonicalString()}}function Ds(e){return Mo.fromServerFormat(e.fieldPath)}function As(e){return ma.create(Ds(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return wo()}}(e.fieldFilter.op),e.fieldFilter.value)}function Os(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Ds(e.unaryFilter.field);return ma.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Ds(e.unaryFilter.field);return ma.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Ds(e.unaryFilter.field);return ma.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Ds(e.unaryFilter.field);return ma.create(i,"!=",{nullValue:"NULL_VALUE"});default:return wo()}}function Ps(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Rs(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Ls(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Fs(t)),t=Ms(e.get(n),t);return Fs(t)}function Ms(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Fs(e){return e+"\x01\x01"}function js(e){var t=e.length;if(Eo(t>=2),2===t)return Eo("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Ro.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("\x01",o);switch((a<0||a>n)&&wo(),e.charAt(a+1)){case"\x01":var u=e.substring(o,a),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(o,a),i+="\0";break;case"\x11":i+=e.substring(o,a+1);break;default:wo()}o=a+2}return new Ro(r)}var Us=function(e,t){this.seconds=e,this.nanoseconds=t},Vs=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};Vs.store="owner",Vs.key="owner";var qs=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};qs.store="mutationQueues",qs.keyPath="userId";var Bs=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Bs.store="mutations",Bs.keyPath="batchId",Bs.userMutationsIndex="userMutationsIndex",Bs.userMutationsKeyPath=["userId","batchId"];var zs=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,Ls(t)]},e.key=function(e,t,n){return[e,Ls(t),n]},e}();zs.store="documentMutations",zs.PLACEHOLDER=new zs;var Ks=function(e,t){this.path=e,this.readTime=t},Hs=function(e,t){this.path=e,this.version=t},Ws=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Ws.store="remoteDocuments",Ws.readTimeIndex="readTimeIndex",Ws.readTimeIndexPath="readTime",Ws.collectionReadTimeIndex="collectionReadTimeIndex",Ws.collectionReadTimeIndexPath=["parentPath","readTime"];var Gs=function(e){this.byteSize=e};Gs.store="remoteDocumentGlobal",Gs.key="remoteDocumentGlobalKey";var Qs=function(e,t,n,r,i,o,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};Qs.store="targets",Qs.keyPath="targetId",Qs.queryTargetsIndexName="queryTargetsIndex",Qs.queryTargetsKeyPath=["canonicalId","targetId"];var $s=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};$s.store="targetDocuments",$s.keyPath=["targetId","path"],$s.documentTargetsIndex="documentTargetsIndex",$s.documentTargetsKeyPath=["path","targetId"];var Ys=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Ys.key="targetGlobalKey",Ys.store="targetGlobal";var Xs=function(e,t){this.collectionId=e,this.parent=t};Xs.store="collectionParents",Xs.keyPath=["collectionId","parent"];var Js=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};Js.store="clientMetadata",Js.keyPath="clientId";var Zs=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};Zs.store="bundles",Zs.keyPath="bundleId";var ec=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};ec.store="namedQueries",ec.keyPath="name";var tc=fe(fe([],fe(fe([],fe(fe([],fe(fe([],[qs.store,Bs.store,zs.store,Ws.store,Qs.store,Vs.store,Ys.store,$s.store]),[Js.store])),[Gs.store])),[Xs.store])),[Zs.store,ec.store]),nc="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",rc=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(e){return e()}))},e}(),ic=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},oc=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)}),(function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)}))}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&wo(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))},e.prototype.toPromise=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)},e.resolve=function(t){return new e((function(e,n){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.waitFor=function(t){return new e((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(e){return n(e)}))})),o=!0,i===r&&e()}))},e.or=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next((function(n){return n?e.resolve(n):t()}))},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)},e}(),ac=function(){function e(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.ft=new ic,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){t.error?n.ft.reject(new cc(e,t.error)):n.ft.resolve()},this.transaction.onerror=function(t){var r=pc(t.target.error);n.ft.reject(new cc(e,r))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new cc(n,t)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(yo("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return new fc(t)},e}(),uc=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,12.2===e._t(ye())&&mo("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(e){return yo("SimpleDb","Removing database:",e),hc(window.indexedDB.deleteDatabase(e)).toPromise()},e.yt=function(){if("undefined"==typeof indexedDB)return!1;if(e.gt())return!0;var t=ye(),n=e._t(t),r=0<n&&n<10,i=e.Et(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.gt=function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/Reciper-Recipe-Directory",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.Tt)},e.It=function(e,t){return e.store(t)},e._t=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.Et=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.At=function(e){return ue(this,void 0,void 0,(function(){var t,n=this;return se(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(yo("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(e){var n=e.target.result;t(n)},i.onblocked=function(){r(new cc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(t){var n=t.target.error;"VersionError"===n.name?r(new ho(fo.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new cc(e,n))},i.onupgradeneeded=function(e){yo("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.wt.Rt(t,i.transaction,e.oldVersion,n.version).next((function(){yo("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:t.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(e){return n.bt(e)}),this.db)]}}))}))},e.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},e.prototype.runTransaction=function(e,t,n,r){return ue(this,void 0,void 0,(function(){var i,o,a,u,s;return se(this,(function(c){switch(c.label){case 0:i="readonly"===t,o=0,a=function(){var t,a,s,c,l;return se(this,(function(f){switch(f.label){case 0:++o,f.label=1;case 1:return f.trys.push([1,4,,5]),[4,u.At(e)];case 2:return u.db=f.sent(),t=ac.open(u.db,e,i?"readonly":"readwrite",n),a=r(t).catch((function(e){return t.abort(e),oc.reject(e)})).toPromise(),s={},a.catch((function(){})),[4,t.dt];case 3:return[2,(s.value=(f.sent(),a),s)];case 4:return c=f.sent(),l="FirebaseError"!==c.name&&o<3,yo("SimpleDb","Transaction failed with error:",c.message,"Retrying:",l),u.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},u=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(s=c.sent()))return[2,s.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),sc=function(){function e(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(e){this.St=e},e.prototype.delete=function(){return hc(this.Pt.delete())},e}(),cc=function(e){function t(t,n){var r=this;return(r=e.call(this,fo.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return oe(t,e),t}(ho);function lc(e){return"IndexedDbTransactionError"===e.name}var fc=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(yo("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(yo("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),hc(n)},e.prototype.add=function(e){return yo("SimpleDb","ADD",this.store.name,e,e),hc(this.store.add(e))},e.prototype.get=function(e){var t=this;return hc(this.store.get(e)).next((function(n){return void 0===n&&(n=null),yo("SimpleDb","GET",t.store.name,e,n),n}))},e.prototype.delete=function(e){return yo("SimpleDb","DELETE",this.store.name,e),hc(this.store.delete(e))},e.prototype.count=function(){return yo("SimpleDb","COUNT",this.store.name),hc(this.store.count())},e.prototype.Nt=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.xt(n,(function(e,t){r.push(t)})).next((function(){return r}))},e.prototype.Ft=function(e,t){yo("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.kt=!1;var r=this.cursor(n);return this.xt(r,(function(e,t,n){return n.delete()}))},e.prototype.Ot=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.xt(r,t)},e.prototype.$t=function(e){var t=this.cursor({});return new oc((function(n,r){t.onerror=function(e){var t=pc(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},e.prototype.xt=function(e,t){var n=[];return new oc((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new sc(i),a=t(i.primaryKey,i.value,o);if(a instanceof oc){var u=a.catch((function(e){return o.done(),oc.reject(e)}));n.push(u)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return oc.waitFor(n)}))},e.prototype.options=function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.kt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function hc(e){return new oc((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=pc(e.target.error);n(t)}}))}var dc=!1;function pc(e){var t=uc._t(ye());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new ho("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return dc||(dc=!0,setTimeout((function(){throw r}),0)),r}}return e}var vc=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Mt=t,r.currentSequenceNumber=n,r}return oe(t,e),t}(rc);function yc(e,t){var n=_o(e);return uc.It(n.Mt,t)}var mc=function(){function e(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}return e.prototype.applyToRemoteDocument=function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&vu(i,e,n[r])}},e.prototype.applyToLocalView=function(e){for(var t=0,n=this.baseMutations;t<n.length;t++)(o=n[t]).key.isEqual(e.key)&&yu(o,e,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(e.key)&&yu(o,e,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(No.min())}))},e.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Ku())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&Io(this.mutations,e.mutations,(function(e,t){return gu(e,t)}))&&Io(this.baseMutations,e.baseMutations,(function(e,t){return gu(e,t)}))},e}(),gc=function(){function e(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}return e.from=function(t,n,r){Eo(t.mutations.length===r.length);for(var i=Bu(),o=t.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new e(t,n,r,i)},e}(),bc=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=No.min()),void 0===o&&(o=No.min()),void 0===a&&(a=jo.EMPTY_BYTE_STRING),this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),wc=function(e){this.Lt=e};function Ec(e,t){if(t.document)return gs(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=$o.fromSegments(t.noDocument.path),r=Ic(t.noDocument.readTime),i=fa.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var o=$o.fromSegments(t.unknownDocument.path);return r=Ic(t.unknownDocument.version),fa.newUnknownDocument(o,r)}return wo()}function _c(e,t,n){var r=Sc(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var o=function(e,t){return{name:fs(e,t.key),fields:t.data.toProto().mapValue.fields,updateTime:os(e,t.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new Ws(null,null,o,a,r,i)}if(t.isNoDocument()){var u=t.key.path.toArray(),s=Tc(t.version);return a=t.hasCommittedMutations,new Ws(null,new Ks(u,s),null,a,r,i)}if(t.isUnknownDocument()){var c=t.key.path.toArray(),l=Tc(t.version);return new Ws(new Hs(c,l),null,null,!0,r,i)}return wo()}function Sc(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function kc(e){var t=new Co(e[0],e[1]);return No.fromTimestamp(t)}function Tc(e){var t=e.toTimestamp();return new Us(t.seconds,t.nanoseconds)}function Ic(e){var t=new Co(e.seconds,e.nanoseconds);return No.fromTimestamp(t)}function xc(e,t){for(var n=(t.baseMutations||[]).map((function(t){return ws(e.Lt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var o=t.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map((function(t){return ws(e.Lt,t)})),u=Co.fromMillis(t.localWriteTimeMs);return new mc(t.batchId,u,n,a)}function Cc(e){var t,n,r=Ic(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Ic(e.lastLimboFreeSnapshotVersion):No.min();return void 0!==e.query.documents?(Eo(1===(n=e.query).documents.length),t=qa(Ra(ps(n.documents[0])))):t=function(e){return qa(Ss(e))}(e.query),new bc(t,e.targetId,0,e.lastListenSequenceNumber,r,i,jo.fromBase64String(e.resumeToken))}function Nc(e,t){var n,r=Tc(t.snapshotVersion),i=Tc(t.lastLimboFreeSnapshotVersion);n=ya(t.target)?Es(e.Lt,t.target):_s(e.Lt,t.target);var o=t.resumeToken.toBase64();return new Qs(t.targetId,pa(t.target),r,o,t.sequenceNumber,i,n)}function Dc(e){var t=Ss({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Ba(t,t.limit,"L"):t}var Ac=function(){function e(){}return e.prototype.getBundleMetadata=function(e,t){return Oc(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Ic(t.createTime),version:t.version};var t}))},e.prototype.saveBundleMetadata=function(e,t){return Oc(e).put({bundleId:(n=t).id,createTime:Tc(ss(n.createTime)),version:n.version});var n},e.prototype.getNamedQuery=function(e,t){return Pc(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Dc(t.bundledQuery),readTime:Ic(t.readTime)};var t}))},e.prototype.saveNamedQuery=function(e,t){return Pc(e).put(function(e){return{name:e.name,readTime:Tc(ss(e.readTime)),bundledQuery:e.bundledQuery}}(t))},e}();function Oc(e){return yc(e,Zs.store)}function Pc(e){return yc(e,ec.store)}var Rc=function(){function e(){this.Bt=new Lc}return e.prototype.addToCollectionParentIndex=function(e,t){return this.Bt.add(t),oc.resolve()},e.prototype.getCollectionParents=function(e,t){return oc.resolve(this.Bt.getEntries(t))},e}(),Lc=function(){function e(){this.index={}}return e.prototype.add=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Lu(Ro.comparator),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.has=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new Lu(Ro.comparator)).toArray()},e}(),Mc=function(){function e(){this.qt=new Lc}return e.prototype.addToCollectionParentIndex=function(e,t){var n=this;if(!this.qt.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.qt.add(t)}));var o={collectionId:r,parent:Ls(i)};return Fc(e).put(o)}return oc.resolve()},e.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[xo(t),""],!1,!0);return Fc(e).Nt(r).next((function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(js(o.parent))}return n}))},e}();function Fc(e){return yc(e,Xs.store)}var jc={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Uc=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();function Vc(e,t,n){var r=e.store(Bs.store),i=e.store(zs.store),o=[],a=IDBKeyRange.only(n.batchId),u=0,s=r.Ot({range:a},(function(e,t,n){return u++,n.delete()}));o.push(s.next((function(){Eo(1===u)})));for(var c=[],l=0,f=n.mutations;l<f.length;l++){var h=f[l],d=zs.key(t,h.key.path,n.batchId);o.push(i.delete(d)),c.push(h.key)}return oc.waitFor(o).next((function(){return c}))}function qc(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw wo();t=e.noDocument}return JSON.stringify(t).length}Uc.DEFAULT_COLLECTION_PERCENTILE=10,Uc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Uc.DEFAULT=new Uc(41943040,Uc.DEFAULT_COLLECTION_PERCENTILE,Uc.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Uc.DISABLED=new Uc(-1,0,0);var Bc=function(){function e(e,t,n,r){this.userId=e,this.R=t,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return e.Kt=function(t,n,r,i){return Eo(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Kc(e).Ot({index:Bs.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},e.prototype.addMutationBatch=function(e,t,n,r){var i=this,o=Hc(e),a=Kc(e);return a.add({}).next((function(u){Eo("number"==typeof u);for(var s=new mc(u,t,n,r),c=function(e,t,n){var r=n.baseMutations.map((function(t){return bs(e.Lt,t)})),i=n.mutations.map((function(t){return bs(e.Lt,t)}));return new Bs(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,s),l=[],f=new Lu((function(e,t){return To(e.canonicalString(),t.canonicalString())})),h=0,d=r;h<d.length;h++){var p=d[h],v=zs.key(i.userId,p.key.path,u);f=f.add(p.key.path.popLast()),l.push(a.put(c)),l.push(o.put(v,zs.PLACEHOLDER))}return f.forEach((function(t){l.push(i.Ut.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Qt[u]=s.keys()})),oc.waitFor(l).next((function(){return s}))}))},e.prototype.lookupMutationBatch=function(e,t){var n=this;return Kc(e).get(t).next((function(e){return e?(Eo(e.userId===n.userId),xc(n.R,e)):null}))},e.prototype.jt=function(e,t){var n=this;return this.Qt[t]?oc.resolve(this.Qt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Qt[t]=r,r}return null}))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Kc(e).Ot({index:Bs.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(Eo(t.batchId>=r),o=xc(n.R,t)),i.done()})).next((function(){return o}))},e.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Kc(e).Ot({index:Bs.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Kc(e).Nt(Bs.userMutationsIndex,n).next((function(e){return e.map((function(e){return xc(t.R,e)}))}))},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=zs.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return Hc(e).Ot({range:i},(function(r,i,a){var u=r[0],s=r[1],c=r[2],l=js(s);if(u===n.userId&&t.path.isEqual(l))return Kc(e).get(c).next((function(e){if(!e)throw wo();Eo(e.userId===n.userId),o.push(xc(n.R,e))}));a.done()})).next((function(){return o}))},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Lu(To),i=[];return t.forEach((function(t){var o=zs.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(o),u=Hc(e).Ot({range:a},(function(e,i,o){var a=e[0],u=e[1],s=e[2],c=js(u);a===n.userId&&t.path.isEqual(c)?r=r.add(s):o.done()}));i.push(u)})),oc.waitFor(i).next((function(){return n.Wt(e,r)}))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this,r=t.path,i=r.length+1,o=zs.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),u=new Lu(To);return Hc(e).Ot({range:a},(function(e,t,o){var a=e[0],s=e[1],c=e[2],l=js(s);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(u=u.add(c)):o.done()})).next((function(){return n.Wt(e,u)}))},e.prototype.Wt=function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Kc(e).get(t).next((function(e){if(null===e)throw wo();Eo(e.userId===n.userId),r.push(xc(n.R,e))})))})),oc.waitFor(i).next((function(){return r}))},e.prototype.removeMutationBatch=function(e,t){var n=this;return Vc(e.Mt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Gt(t.batchId)})),oc.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))},e.prototype.Gt=function(e){delete this.Qt[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return oc.resolve();var r=IDBKeyRange.lowerBound(zs.prefixForUser(t.userId)),i=[];return Hc(e).Ot({range:r},(function(e,n,r){if(e[0]===t.userId){var o=js(e[1]);i.push(o)}else r.done()})).next((function(){Eo(0===i.length)}))}))},e.prototype.containsKey=function(e,t){return zc(e,this.userId,t)},e.prototype.zt=function(e){var t=this;return Wc(e).get(this.userId).next((function(e){return e||new qs(t.userId,-1,"")}))},e}();function zc(e,t,n){var r=zs.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return Hc(e).Ot({range:o,kt:!0},(function(e,n,r){var o=e[0],u=e[1];e[2],o===t&&u===i&&(a=!0),r.done()})).next((function(){return a}))}function Kc(e){return yc(e,Bs.store)}function Hc(e){return yc(e,zs.store)}function Wc(e){return yc(e,qs.store)}var Gc=function(){function e(e){this.Ht=e}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),Qc=function(){function e(e,t){this.referenceDelegate=e,this.R=t}return e.prototype.allocateTargetId=function(e){var t=this;return this.Xt(e).next((function(n){var r=new Gc(n.highestTargetId);return n.highestTargetId=r.next(),t.Zt(e,n).next((function(){return n.highestTargetId}))}))},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next((function(e){return No.fromTimestamp(new Co(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},e.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next((function(e){return e.highestListenSequenceNumber}))},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.Xt(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Zt(e,i)}))},e.prototype.addTargetData=function(e,t){var n=this;return this.te(e,t).next((function(){return n.Xt(e).next((function(r){return r.targetCount+=1,n.ee(t,r),n.Zt(e,r)}))}))},e.prototype.updateTargetData=function(e,t){return this.te(e,t)},e.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return $c(e).delete(t.targetId)})).next((function(){return n.Xt(e)})).next((function(t){return Eo(t.targetCount>0),t.targetCount-=1,n.Zt(e,t)}))},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return $c(e).Ot((function(a,u){var s=Cc(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,o.push(r.removeTargetData(e,s)))})).next((function(){return oc.waitFor(o)})).next((function(){return i}))},e.prototype.forEachTarget=function(e,t){return $c(e).Ot((function(e,n){var r=Cc(n);t(r)}))},e.prototype.Xt=function(e){return Yc(e).get(Ys.key).next((function(e){return Eo(null!==e),e}))},e.prototype.Zt=function(e,t){return Yc(e).put(Ys.key,t)},e.prototype.te=function(e,t){return $c(e).put(Nc(this.R,t))},e.prototype.ee=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getTargetCount=function(e){return this.Xt(e).next((function(e){return e.targetCount}))},e.prototype.getTargetData=function(e,t){var n=pa(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return $c(e).Ot({range:r,index:Qs.queryTargetsIndexName},(function(e,n,r){var o=Cc(n);va(t,o.target)&&(i=o,r.done())})).next((function(){return i}))},e.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],o=Xc(e);return t.forEach((function(t){var a=Ls(t.path);i.push(o.put(new $s(n,a))),i.push(r.referenceDelegate.addReference(e,n,t))})),oc.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=Xc(e);return oc.forEach(t,(function(t){var o=Ls(t.path);return oc.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,n,t)])}))},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=Xc(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Xc(e),i=Ku();return r.Ot({range:n,kt:!0},(function(e,t,n){var r=js(e[1]),o=new $o(r);i=i.add(o)})).next((function(){return i}))},e.prototype.containsKey=function(e,t){var n=Ls(t.path),r=IDBKeyRange.bound([n],[xo(n)],!1,!0),i=0;return Xc(e).Ot({index:$s.documentTargetsIndex,kt:!0,range:r},(function(e,t,n){var r=e[0];e[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},e.prototype.lt=function(e,t){return $c(e).get(t).next((function(e){return e?Cc(e):null}))},e}();function $c(e){return yc(e,Qs.store)}function Yc(e){return yc(e,Ys.store)}function Xc(e){return yc(e,$s.store)}function Jc(e){return ue(this,void 0,void 0,(function(){return se(this,(function(t){if(e.code!==fo.FAILED_PRECONDITION||e.message!==nc)throw e;return yo("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function Zc(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],a=To(n,i);return 0===a?To(r,o):a}var el=function(){function e(e){this.ne=e,this.buffer=new Lu(Zc),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(e){var t=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Zc(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),tl=function(){function e(e,t){this.garbageCollector=e,this.asyncQueue=t,this.oe=!1,this.ce=null}return e.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),e.prototype.ue=function(e){var t=this,n=this.oe?3e5:6e4;yo("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return ue(t,void 0,void 0,(function(){var t;return se(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return lc(t=n.sent())?(yo("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,Jc(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return n.sent(),[2]}}))}))}))},e}(),nl=function(){function e(e,t){this.ae=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.ae.he(e).next((function(e){return Math.floor(t/100*e)}))},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return oc.resolve(lo.o);var r=new el(t);return this.ae.forEachTarget(e,(function(e){return r.re(e.sequenceNumber)})).next((function(){return n.ae.le(e,(function(e){return r.re(e)}))})).next((function(){return r.maxValue}))},e.prototype.removeTargets=function(e,t,n){return this.ae.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.ae.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(yo("LruGarbageCollector","Garbage collection skipped; disabled"),oc.resolve(jc)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(yo("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),jc):n.fe(e,t)}))},e.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},e.prototype.fe=function(e,t){var n,r,i,o,a,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(yo("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+t),r=c.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,a=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),vo()<=Pe.DEBUG&&yo("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(u-a)+"ms\n\tRemoved "+e+" documents in "+(s-u)+"ms\nTotal Duration: "+(s-l)+"ms"),oc.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))},e}(),rl=function(){function e(e,t){this.db=e,this.garbageCollector=function(e,t){return new nl(e,t)}(this,t)}return e.prototype.he=function(e){var t=this.de(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.de=function(e){var t=0;return this.le(e,(function(e){t++})).next((function(){return t}))},e.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},e.prototype.le=function(e,t){return this.we(e,(function(e,n){return t(n)}))},e.prototype.addReference=function(e,t,n){return il(e,n)},e.prototype.removeReference=function(e,t,n){return il(e,n)},e.prototype.removeTargets=function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)},e.prototype.markPotentiallyOrphaned=function(e,t){return il(e,t)},e.prototype._e=function(e,t){return function(e,t){var n=!1;return Wc(e).$t((function(r){return zc(e,r,t).next((function(e){return e&&(n=!0),oc.resolve(!e)}))})).next((function(){return n}))}(e,t)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(e,(function(a,u){if(u<=t){var s=n._e(e,a).next((function(t){if(!t)return o++,r.getEntry(e,a).next((function(){return r.removeEntry(a),Xc(e).delete([0,Ls(a.path)])}))}));i.push(s)}})).next((function(){return oc.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return o}))},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)},e.prototype.updateLimboDocument=function(e,t){return il(e,t)},e.prototype.we=function(e,t){var n,r=Xc(e),i=lo.o;return r.Ot({index:$s.documentTargetsIndex},(function(e,r){var o=e[0],a=(e[1],r.path),u=r.sequenceNumber;0===o?(i!==lo.o&&t(new $o(js(n)),i),i=u,n=a):i=lo.o})).next((function(){i!==lo.o&&t(new $o(js(n)),i)}))},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();function il(e,t){return Xc(e).put(function(e,t){return new $s(0,Ls(e.path),t)}(t,e.currentSequenceNumber))}var ol=function(){function e(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],u=o[1];if(this.equalsFn(a,e))return u}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){Ao(this.inner,(function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],u=o[1];e(a,u)}}))},e.prototype.isEmpty=function(){return Oo(this.inner)},e}(),al=function(){function e(){this.changes=new ol((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return e.prototype.getReadTime=function(e){var t=this.changes.get(e);return t?t.readTime:No.min()},e.prototype.addEntry=function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})},e.prototype.removeEntry=function(e,t){void 0===t&&(t=null),this.assertNotApplied(),this.changes.set(e,{document:fa.newInvalidDocument(e),readTime:t})},e.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?oc.resolve(n.document):this.getFromCache(e,t)},e.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},e.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},e.prototype.assertNotApplied=function(){},e}(),ul=function(){function e(e,t){this.R=e,this.Ut=t}return e.prototype.addEntry=function(e,t,n){return ll(e).put(fl(t),n)},e.prototype.removeEntry=function(e,t){var n=ll(e),r=fl(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.me(e,r)}))},e.prototype.getEntry=function(e,t){var n=this;return ll(e).get(fl(t)).next((function(e){return n.ye(t,e)}))},e.prototype.ge=function(e,t){var n=this;return ll(e).get(fl(t)).next((function(e){return{document:n.ye(t,e),size:qc(e)}}))},e.prototype.getEntries=function(e,t){var n=this,r=ju();return this.pe(e,t,(function(e,t){var i=n.ye(e,t);r=r.insert(e,i)})).next((function(){return r}))},e.prototype.Ee=function(e,t){var n=this,r=ju(),i=new Ou($o.comparator);return this.pe(e,t,(function(e,t){var o=n.ye(e,t);r=r.insert(e,o),i=i.insert(e,qc(t))})).next((function(){return{documents:r,Te:i}}))},e.prototype.pe=function(e,t,n){if(t.isEmpty())return oc.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return ll(e).Ot({range:r},(function(e,t,r){for(var a=$o.fromSegments(e);o&&$o.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){var r=this,i=ju(),o=t.path.length+1,a={};if(n.isEqual(No.min())){var u=t.path.toArray();a.range=IDBKeyRange.lowerBound(u)}else{var s=t.path.toArray(),c=Sc(n);a.range=IDBKeyRange.lowerBound([s,c],!0),a.index=Ws.collectionReadTimeIndex}return ll(e).Ot(a,(function(e,n,a){if(e.length===o){var u=Ec(r.R,n);t.path.isPrefixOf(u.key.path)?Wa(t,u)&&(i=i.insert(u.key,u)):a.done()}})).next((function(){return i}))},e.prototype.newChangeBuffer=function(e){return new sl(this,!!e&&e.trackRemovals)},e.prototype.getSize=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},e.prototype.getMetadata=function(e){return cl(e).get(Gs.key).next((function(e){return Eo(!!e),e}))},e.prototype.me=function(e,t){return cl(e).put(Gs.key,t)},e.prototype.ye=function(e,t){if(t){var n=Ec(this.R,t);if(!n.isNoDocument()||!n.version.isEqual(No.min()))return n}return fa.newInvalidDocument(e)},e}(),sl=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Ie=t,r.trackRemovals=n,r.Ae=new ol((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),r}return oe(t,e),t.prototype.applyChanges=function(e){var t=this,n=[],r=0,i=new Lu((function(e,t){return To(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(o,a){var u=t.Ae.get(o);if(a.document.isValidDocument()){var s=_c(t.Ie.R,a.document,t.getReadTime(o));i=i.add(o.path.popLast());var c=qc(s);r+=c-u,n.push(t.Ie.addEntry(e,o,s))}else if(r-=u,t.trackRemovals){var l=_c(t.Ie.R,fa.newNoDocument(o,No.min()),t.getReadTime(o));n.push(t.Ie.addEntry(e,o,l))}else n.push(t.Ie.removeEntry(e,o))})),i.forEach((function(r){n.push(t.Ie.Ut.addToCollectionParentIndex(e,r))})),n.push(this.Ie.updateMetadata(e,r)),oc.waitFor(n)},t.prototype.getFromCache=function(e,t){var n=this;return this.Ie.ge(e,t).next((function(e){return n.Ae.set(t,e.size),e.document}))},t.prototype.getAllFromCache=function(e,t){var n=this;return this.Ie.Ee(e,t).next((function(e){var t=e.documents;return e.Te.forEach((function(e,t){n.Ae.set(e,t)})),t}))},t}(al);function cl(e){return yc(e,Gs.store)}function ll(e){return yc(e,Ws.store)}function fl(e){return e.path.toArray()}var hl=function(){function e(e){this.R=e}return e.prototype.Rt=function(e,t,n,r){var i=this;Eo(n<r&&n>=0&&r<=11);var o=new ac("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(Vs.store)}(e),function(e){e.createObjectStore(qs.store,{keyPath:qs.keyPath}),e.createObjectStore(Bs.store,{keyPath:Bs.keyPath,autoIncrement:!0}).createIndex(Bs.userMutationsIndex,Bs.userMutationsKeyPath,{unique:!0}),e.createObjectStore(zs.store)}(e),dl(e),function(e){e.createObjectStore(Ws.store)}(e));var a=oc.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore($s.store),e.deleteObjectStore(Qs.store),e.deleteObjectStore(Ys.store)}(e),dl(e)),a=a.next((function(){return function(e){var t=e.store(Ys.store),n=new Ys(0,0,No.min().toTimestamp(),0);return t.put(Ys.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(e,t){return t.store(Bs.store).Nt().next((function(n){e.deleteObjectStore(Bs.store),e.createObjectStore(Bs.store,{keyPath:Bs.keyPath,autoIncrement:!0}).createIndex(Bs.userMutationsIndex,Bs.userMutationsKeyPath,{unique:!0});var r=t.store(Bs.store),i=n.map((function(e){return r.put(e)}));return oc.waitFor(i)}))}(e,o)}))),a=a.next((function(){!function(e){e.createObjectStore(Js.store,{keyPath:Js.keyPath})}(e)}))),n<5&&r>=5&&(a=a.next((function(){return i.Re(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(e){e.createObjectStore(Gs.store)}(e),i.be(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ve(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Pe(e,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(Ws.store);t.createIndex(Ws.readTimeIndex,Ws.readTimeIndexPath,{unique:!1}),t.createIndex(Ws.collectionReadTimeIndex,Ws.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(a=a.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(e){e.createObjectStore(Zs.store,{keyPath:Zs.keyPath})}(e),function(e){e.createObjectStore(ec.store,{keyPath:ec.keyPath})}(e)}))),a},e.prototype.be=function(e){var t=0;return e.store(Ws.store).Ot((function(e,n){t+=qc(n)})).next((function(){var n=new Gs(t);return e.store(Gs.store).put(Gs.key,n)}))},e.prototype.Re=function(e){var t=this,n=e.store(qs.store),r=e.store(Bs.store);return n.Nt().next((function(n){return oc.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(Bs.userMutationsIndex,i).next((function(r){return oc.forEach(r,(function(r){Eo(r.userId===n.userId);var i=xc(t.R,r);return Vc(e,n.userId,i).next((function(){}))}))}))}))}))},e.prototype.ve=function(e){var t=e.store($s.store),n=e.store(Ws.store);return e.store(Ys.store).get(Ys.key).next((function(e){var r=[];return n.Ot((function(n,i){var o=new Ro(n),a=function(e){return[0,Ls(e)]}(o);r.push(t.get(a).next((function(n){return n?oc.resolve():function(n){return t.put(new $s(0,Ls(n),e.highestListenSequenceNumber))}(o)})))})).next((function(){return oc.waitFor(r)}))}))},e.prototype.Pe=function(e,t){e.createObjectStore(Xs.store,{keyPath:Xs.keyPath});var n=t.store(Xs.store),r=new Lc,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Ls(i)})}};return t.store(Ws.store).Ot({kt:!0},(function(e,t){var n=new Ro(e);return i(n.popLast())})).next((function(){return t.store(zs.store).Ot({kt:!0},(function(e,t){e[0];var n=e[1],r=(e[2],js(n));return i(r.popLast())}))}))},e.prototype.Ve=function(e){var t=this,n=e.store(Qs.store);return n.Ot((function(e,r){var i=Cc(r),o=Nc(t.R,i);return n.put(o)}))},e}();function dl(e){e.createObjectStore($s.store,{keyPath:$s.keyPath}).createIndex($s.documentTargetsIndex,$s.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Qs.store,{keyPath:Qs.keyPath}).createIndex(Qs.queryTargetsIndexName,Qs.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Ys.store)}var pl="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",vl=function(){function e(t,n,r,i,o,a,u,s,c,l){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=u,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=Number.NEGATIVE_INFINITY,this.Me=function(e){return Promise.resolve()},!e.yt())throw new ho(fo.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new rl(this,i),this.Le=n+"main",this.R=new wc(s),this.Be=new uc(this.Le,11,new hl(this.R)),this.qe=new Qc(this.referenceDelegate,this.R),this.Ut=new Mc,this.Ue=function(e,t){return new ul(e,t)}(this.R,this.Ut),this.Qe=new Ac,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===l&&mo("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var e=this;return this.je().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new ho(fo.FAILED_PRECONDITION,pl);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.qe.getHighestSequenceNumber(t)}))})).then((function(t){e.Ne=new lo(t,e.De)})).then((function(){e.xe=!0})).catch((function(t){return e.Be&&e.Be.close(),Promise.reject(t)}))},e.prototype.He=function(e){var t=this;return this.Me=function(n){return ue(t,void 0,void 0,(function(){return se(this,(function(t){return this.started?[2,e(n)]:[2]}))}))},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var t=this;this.Be.vt((function(n){return ue(t,void 0,void 0,(function(){return se(this,(function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget((function(){return ue(t,void 0,void 0,(function(){return se(this,(function(e){switch(e.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},e.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return ml(t).put(new Js(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.Je(t).next((function(t){t||(e.isPrimary=!1,e.Se.enqueueRetryable((function(){return e.Me(!1)})))}))})).next((function(){return e.Ye(t)})).next((function(n){return e.isPrimary&&!n?e.Xe(t).next((function(){return!1})):!!n&&e.Ze(t).next((function(){return!0}))}))})).catch((function(t){if(lc(t))return yo("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return yo("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Se.enqueueRetryable((function(){return e.Me(t)})),e.isPrimary=t}))},e.prototype.Je=function(e){var t=this;return yl(e).get(Vs.key).next((function(e){return oc.resolve(t.tn(e))}))},e.prototype.en=function(e){return ml(e).delete(this.clientId)},e.prototype.nn=function(){return ue(this,void 0,void 0,(function(){var e,t,n,r,i=this;return se(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=yc(e,Js.store);return t.Nt().next((function(e){var n=i.rn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return oc.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=o.sent(),this.Ke)for(t=0,n=e;t<n.length;t++)r=n[t],this.Ke.removeItem(this.on(r.clientId));o.label=2;case 2:return[2]}}))}))},e.prototype.ze=function(){var e=this;this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.je().then((function(){return e.nn()})).then((function(){return e.ze()}))}))},e.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.Ye=function(e){var t=this;return this.Ce?oc.resolve(!0):yl(e).get(Vs.key).next((function(n){if(null!==n&&t.sn(n.leaseTimestampMs,5e3)&&!t.cn(n.ownerId)){if(t.tn(n)&&t.networkEnabled)return!0;if(!t.tn(n)){if(!n.allowTabSynchronization)throw new ho(fo.FAILED_PRECONDITION,pl);return!1}}return!(!t.networkEnabled||!t.inForeground)||ml(e).Nt().next((function(e){return void 0===t.rn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&yo("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},e.prototype.shutdown=function(){return ue(this,void 0,void 0,(function(){var e=this;return se(this,(function(t){switch(t.label){case 0:return this.xe=!1,this.un(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Vs.store,Js.store],(function(t){var n=new vc(t,lo.o);return e.Xe(n).next((function(){return e.en(n)}))}))];case 1:return t.sent(),this.Be.close(),this.ln(),[2]}}))}))},e.prototype.rn=function(e,t){var n=this;return e.filter((function(e){return n.sn(e.updateTimeMs,t)&&!n.cn(e.clientId)}))},e.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return ml(t).Nt().next((function(t){return e.rn(t,18e5).map((function(e){return e.clientId}))}))}))},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(e){return Bc.Kt(e,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Qe},e.prototype.runTransaction=function(e,t,n){var r=this;yo("IndexedDbPersistence","Starting transaction:",e);var i,o="readonly"===t?"readonly":"readwrite";return this.Be.runTransaction(e,o,tc,(function(o){return i=new vc(o,r.Ne?r.Ne.next():lo.o),"readwrite-primary"===t?r.Je(i).next((function(e){return!!e||r.Ye(i)})).next((function(t){if(!t)throw mo("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r.Se.enqueueRetryable((function(){return r.Me(!1)})),new ho(fo.FAILED_PRECONDITION,nc);return n(i)})).next((function(e){return r.Ze(i).next((function(){return e}))})):r.dn(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.dn=function(e){var t=this;return yl(e).get(Vs.key).next((function(e){if(null!==e&&t.sn(e.leaseTimestampMs,5e3)&&!t.cn(e.ownerId)&&!t.tn(e)&&!(t.Ce||t.allowTabSynchronization&&e.allowTabSynchronization))throw new ho(fo.FAILED_PRECONDITION,pl)}))},e.prototype.Ze=function(e){var t=new Vs(this.clientId,this.allowTabSynchronization,Date.now());return yl(e).put(Vs.key,t)},e.yt=function(){return uc.yt()},e.prototype.Xe=function(e){var t=this,n=yl(e);return n.get(Vs.key).next((function(e){return t.tn(e)?(yo("IndexedDbPersistence","Releasing primary lease."),n.delete(Vs.key)):oc.resolve()}))},e.prototype.sn=function(e,t){var n=Date.now();return!(e<n-t||e>n&&(mo("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){e.Se.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.je()}))},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},e.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},e.prototype.Ge=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Fe=function(){t.un(),t.Se.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("unload",this.Fe))},e.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("unload",this.Fe),this.Fe=null)},e.prototype.cn=function(e){var t;try{var n=null!==(null===(t=this.Ke)||void 0===t?void 0:t.getItem(this.on(e)));return yo("IndexedDbPersistence","Client '"+e+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(e){return mo("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},e.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(e){mo("Failed to set zombie client id.",e)}},e.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(e){}},e.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e}();function yl(e){return yc(e,Vs.store)}function ml(e){return yc(e,Js.store)}function gl(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var bl=function(e,t){this.progress=e,this.wn=t},wl=function(){function e(e,t,n){this.Ue=e,this._n=t,this.Ut=n}return e.prototype.mn=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.yn(e,t,r)}))},e.prototype.yn=function(e,t,n){return this.Ue.getEntry(e,t).next((function(e){for(var t=0,r=n;t<r.length;t++)r[t].applyToLocalView(e);return e}))},e.prototype.gn=function(e,t){e.forEach((function(e,n){for(var r=0,i=t;r<i.length;r++)i[r].applyToLocalView(n)}))},e.prototype.pn=function(e,t){var n=this;return this.Ue.getEntries(e,t).next((function(t){return n.En(e,t).next((function(){return t}))}))},e.prototype.En=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.gn(t,e)}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){return function(e){return $o.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Tn(e,t.path):Ua(t)?this.In(e,t,n):this.An(e,t,n)},e.prototype.Tn=function(e,t){return this.mn(e,new $o(t)).next((function(e){var t=Vu();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))},e.prototype.In=function(e,t,n){var r=this,i=t.collectionGroup,o=Vu();return this.Ut.getCollectionParents(e,i).next((function(a){return oc.forEach(a,(function(a){var u=function(e,t){return new Oa(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return r.An(e,u,n).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))},e.prototype.An=function(e,t,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,o.Rn(e,i,r).next((function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],a=0,u=o.mutations;a<u.length;a++){var s=u[a],c=s.key,l=r.get(c);null==l&&(l=fa.newInvalidDocument(c),r=r.insert(c,l)),yu(s,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(e,n){Wa(t,n)||(r=r.remove(e))})),r}))},e.prototype.Rn=function(e,t,n){for(var r=Ku(),i=0,o=t;i<o.length;i++)for(var a=0,u=o[i].mutations;a<u.length;a++){var s=u[a];s instanceof Eu&&null===n.get(s.key)&&(r=r.add(s.key))}var c=n;return this.Ue.getEntries(e,r).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))},e}(),El=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.bn=n,this.vn=r}return e.Pn=function(t,n){for(var r=Ku(),i=Ku(),o=0,a=n.docChanges;o<a.length;o++){var u=a[o];switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),_l=function(){function e(){}return e.prototype.Vn=function(e){this.Sn=e},e.prototype.getDocumentsMatchingQuery=function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(No.min())?this.Dn(e,t):this.Sn.pn(e,r).next((function(o){var a=i.Cn(t,o);return(La(t)||Ma(t))&&i.Nn(t.limitType,a,r,n)?i.Dn(e,t):(vo()<=Pe.DEBUG&&yo("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Ha(t)),i.Sn.getDocumentsMatchingQuery(e,t,n).next((function(e){return a.forEach((function(t){e=e.insert(t.key,t)})),e})))}))},e.prototype.Cn=function(e,t){var n=new Lu(Ga(e));return t.forEach((function(t,r){Wa(e,r)&&(n=n.add(r))})),n},e.prototype.Nn=function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},e.prototype.Dn=function(e,t){return vo()<=Pe.DEBUG&&yo("QueryEngine","Using full collection scan to execute query:",Ha(t)),this.Sn.getDocumentsMatchingQuery(e,t,No.min())},e}(),Sl=function(){function e(e,t,n,r){this.persistence=e,this.xn=t,this.R=r,this.Fn=new Ou(To),this.kn=new ol((function(e){return pa(e)}),va),this.On=No.min(),this._n=e.getMutationQueue(n),this.$n=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new wl(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=e.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Fn)}))},e}();function kl(e,t,n,r){return new Sl(e,t,n,r)}function Tl(e,t){return ue(this,void 0,void 0,(function(){var n,r,i,o;return se(this,(function(a){switch(a.label){case 0:return n=_o(e),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(e){var o;return n._n.getAllMutationBatches(e).next((function(a){return o=a,r=n.persistence.getMutationQueue(t),i=new wl(n.$n,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)})).next((function(t){for(var n=[],r=[],a=Ku(),u=0,s=o;u<s.length;u++){var c=s[u];n.push(c.batchId);for(var l=0,f=c.mutations;l<f.length;l++){var h=f[l];a=a.add(h.key)}}for(var d=0,p=t;d<p.length;d++){var v=p[d];r.push(v.batchId);for(var y=0,m=v.mutations;y<m.length;y++){var g=m[y];a=a.add(g.key)}}return i.pn(e,a).next((function(e){return{Ln:e,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function Il(e,t){var n=_o(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.$n.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,o=i.keys(),a=oc.resolve();return o.forEach((function(e){a=a.next((function(){return r.getEntry(t,e)})).next((function(t){var o=n.docVersions.get(e);Eo(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),a.next((function(){return e._n.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}function xl(e){var t=_o(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.qe.getLastRemoteSnapshotVersion(e)}))}function Cl(e,t){var n=_o(e),r=t.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var o=n.$n.newChangeBuffer({trackRemovals:!0});i=n.Fn;var a=[];t.targetChanges.forEach((function(t,o){var u=i.get(o);if(u){a.push(n.qe.removeMatchingKeys(e,t.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(e,t.addedDocuments,o)})));var s=t.resumeToken;if(s.approximateByteSize()>0){var c=u.withResumeToken(s,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(o,c),function(e,t,n){return Eo(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(u,c,t)&&a.push(n.qe.updateTargetData(e,c))}}}));var u=ju();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(Nl(e,o,t.documentUpdates,r,void 0).next((function(e){u=e}))),!r.isEqual(No.min())){var s=n.qe.getLastRemoteSnapshotVersion(e).next((function(t){return n.qe.setTargetsMetadata(e,e.currentSequenceNumber,r)}));a.push(s)}return oc.waitFor(a).next((function(){return o.apply(e)})).next((function(){return n.Mn.En(e,u)})).next((function(){return u}))})).then((function(e){return n.Fn=i,e}))}function Nl(e,t,n,r,i){var o=Ku();return n.forEach((function(e){return o=o.add(e)})),t.getEntries(e,o).next((function(e){var o=ju();return n.forEach((function(n,a){var u=e.get(n),s=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(No.min())?(t.removeEntry(n,s),o=o.insert(n,a)):!u.isValidDocument()||a.version.compareTo(u.version)>0||0===a.version.compareTo(u.version)&&u.hasPendingWrites?(t.addEntry(a,s),o=o.insert(n,a)):yo("LocalStore","Ignoring outdated watch update for ",n,". Current version:",u.version," Watch version:",a.version)})),o}))}function Dl(e,t){var n=_o(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n._n.getNextMutationBatchAfterBatchId(e,t)}))}function Al(e,t){var n=_o(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.qe.getTargetData(e,t).next((function(i){return i?(r=i,oc.resolve(r)):n.qe.allocateTargetId(e).next((function(i){return r=new bc(t,i,0,e.currentSequenceNumber),n.qe.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Fn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(e.targetId,e),n.kn.set(t,e.targetId)),e}))}function Ol(e,t,n){return ue(this,void 0,void 0,(function(){var r,i,o,a;return se(this,(function(u){switch(u.label){case 0:r=_o(e),i=r.Fn.get(t),o=n?"readwrite":"readwrite-primary",u.label=1;case 1:return u.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(e){return r.persistence.referenceDelegate.removeTarget(e,i)}))];case 2:u.sent(),u.label=3;case 3:return[3,5];case 4:if(!lc(a=u.sent()))throw a;return yo("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.Fn=r.Fn.remove(t),r.kn.delete(i.target),[2]}}))}))}function Pl(e,t,n){var r=_o(e),i=No.min(),o=Ku();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=_o(e),i=r.kn.get(n);return void 0!==i?oc.resolve(r.Fn.get(i)):r.qe.getTargetData(t,n)}(r,e,qa(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(e,t.targetId).next((function(e){o=e}))})).next((function(){return r.xn.getDocumentsMatchingQuery(e,t,n?i:No.min(),n?o:Ku())})).next((function(e){return{documents:e,Bn:o}}))}))}function Rl(e,t){var n=_o(e),r=_o(n.qe),i=n.Fn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.lt(e,t).next((function(e){return e?e.target:null}))}))}function Ll(e){var t=_o(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=_o(e),i=ju(),o=Sc(n),a=ll(t),u=IDBKeyRange.lowerBound(o,!0);return a.Ot({index:Ws.readTimeIndex,range:u},(function(e,t){var n=Ec(r.R,t);i=i.insert(n.key,n),o=t.readTime})).next((function(){return{wn:i,readTime:kc(o)}}))}(t.$n,e,t.On)})).then((function(e){var n=e.wn,r=e.readTime;return t.On=r,n}))}function Ml(e){return ue(this,void 0,void 0,(function(){var t;return se(this,(function(n){return[2,(t=_o(e)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=ll(e),n=No.min();return t.Ot({index:Ws.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=kc(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){t.On=e}))]}))}))}function Fl(e,t,n,r){return ue(this,void 0,void 0,(function(){var i,o,a,u,s,c,l,f,h,d;return se(this,(function(p){switch(p.label){case 0:for(i=_o(e),o=Ku(),a=ju(),u=Bu(),s=0,c=n;s<c.length;s++)l=c[s],f=t.qn(l.metadata.name),l.document&&(o=o.add(f)),a=a.insert(f,t.Un(l)),u=u.insert(f,t.Qn(l.metadata.readTime));return h=i.$n.newChangeBuffer({trackRemovals:!0}),[4,Al(i,function(e){return qa(Ra(Ro.fromString("__bundle__/docs/"+e)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Nl(e,h,a,No.min(),u).next((function(t){return h.apply(e),t})).next((function(t){return i.qe.removeMatchingKeysForTargetId(e,d.targetId).next((function(){return i.qe.addMatchingKeys(e,o,d.targetId)})).next((function(){return i.Mn.En(e,t)})).next((function(){return t}))}))}))]}}))}))}function jl(e,t,n){return void 0===n&&(n=Ku()),ue(this,void 0,void 0,(function(){var r,i;return se(this,(function(o){switch(o.label){case 0:return[4,Al(e,qa(Dc(t.bundledQuery)))];case 1:return r=o.sent(),[2,(i=_o(e)).persistence.runTransaction("Save named query","readwrite",(function(e){var o=ss(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Qe.saveNamedQuery(e,t);var a=r.withResumeToken(jo.EMPTY_BYTE_STRING,o);return i.Fn=i.Fn.insert(a.targetId,a),i.qe.updateTargetData(e,a).next((function(){return i.qe.removeMatchingKeysForTargetId(e,r.targetId)})).next((function(){return i.qe.addMatchingKeys(e,n,r.targetId)})).next((function(){return i.Qe.saveNamedQuery(e,t)}))}))]}}))}))}var Ul=function(){function e(e){this.R=e,this.Kn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(e,t){return oc.resolve(this.Kn.get(t))},e.prototype.saveBundleMetadata=function(e,t){var n;return this.Kn.set(t.id,{id:(n=t).id,version:n.version,createTime:ss(n.createTime)}),oc.resolve()},e.prototype.getNamedQuery=function(e,t){return oc.resolve(this.jn.get(t))},e.prototype.saveNamedQuery=function(e,t){return this.jn.set(t.name,function(e){return{name:e.name,query:Dc(e.bundledQuery),readTime:ss(e.readTime)}}(t)),oc.resolve()},e}(),Vl=function(){function e(){this.Wn=new Lu(ql.Gn),this.zn=new Lu(ql.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(e,t){var n=new ql(e,t);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},e.prototype.Jn=function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))},e.prototype.removeReference=function(e,t){this.Yn(new ql(e,t))},e.prototype.Xn=function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))},e.prototype.Zn=function(e){var t=this,n=new $o(new Ro([])),r=new ql(n,e),i=new ql(n,e+1),o=[];return this.zn.forEachInRange([r,i],(function(e){t.Yn(e),o.push(e.key)})),o},e.prototype.ts=function(){var e=this;this.Wn.forEach((function(t){return e.Yn(t)}))},e.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},e.prototype.es=function(e){var t=new $o(new Ro([])),n=new ql(t,e),r=new ql(t,e+1),i=Ku();return this.zn.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i},e.prototype.containsKey=function(e){var t=new ql(e,0),n=this.Wn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),ql=function(){function e(e,t){this.key=e,this.ns=t}return e.Gn=function(e,t){return $o.comparator(e.key,t.key)||To(e.ns,t.ns)},e.Hn=function(e,t){return To(e.ns,t.ns)||$o.comparator(e.key,t.key)},e}(),Bl=function(){function e(e,t){this.Ut=e,this.referenceDelegate=t,this._n=[],this.ss=1,this.rs=new Lu(ql.Gn)}return e.prototype.checkEmpty=function(e){return oc.resolve(0===this._n.length)},e.prototype.addMutationBatch=function(e,t,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new mc(i,t,n,r);this._n.push(o);for(var a=0,u=r;a<u.length;a++){var s=u[a];this.rs=this.rs.add(new ql(s.key,i)),this.Ut.addToCollectionParentIndex(e,s.key.path.popLast())}return oc.resolve(o)},e.prototype.lookupMutationBatch=function(e,t){return oc.resolve(this.os(t))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=t+1,r=this.cs(n),i=r<0?0:r;return oc.resolve(this._n.length>i?this._n[i]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return oc.resolve(0===this._n.length?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(e){return oc.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new ql(t,0),i=new ql(t,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(e){var t=n.os(e.ns);o.push(t)})),oc.resolve(o)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new Lu(To);return t.forEach((function(e){var t=new ql(e,0),i=new ql(e,Number.POSITIVE_INFINITY);n.rs.forEachInRange([t,i],(function(e){r=r.add(e.ns)}))})),oc.resolve(this.us(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=t.path,r=n.length+1,i=n;$o.isDocumentKey(i)||(i=i.child(""));var o=new ql(new $o(i),0),a=new Lu(To);return this.rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.ns)),!0)}),o),oc.resolve(this.us(a))},e.prototype.us=function(e){var t=this,n=[];return e.forEach((function(e){var r=t.os(e);null!==r&&n.push(r)})),n},e.prototype.removeMutationBatch=function(e,t){var n=this;Eo(0===this.hs(t.batchId,"removed")),this._n.shift();var r=this.rs;return oc.forEach(t.mutations,(function(i){var o=new ql(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.rs=r}))},e.prototype.Gt=function(e){},e.prototype.containsKey=function(e,t){var n=new ql(t,0),r=this.rs.firstAfterOrEqual(n);return oc.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return this._n.length,oc.resolve()},e.prototype.hs=function(e,t){return this.cs(e)},e.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},e.prototype.os=function(e){var t=this.cs(e);return t<0||t>=this._n.length?null:this._n[t]},e}(),zl=function(){function e(e,t){this.Ut=e,this.ls=t,this.docs=new Ou($o.comparator),this.size=0}return e.prototype.addEntry=function(e,t,n){var r=t.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(e,r.path.popLast())},e.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return oc.resolve(n?n.document.clone():fa.newInvalidDocument(t))},e.prototype.getEntries=function(e,t){var n=this,r=ju();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():fa.newInvalidDocument(e))})),oc.resolve(r)},e.prototype.getDocumentsMatchingQuery=function(e,t,n){for(var r=ju(),i=new $o(t.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),u=a.key,s=a.value,c=s.document,l=s.readTime;if(!t.path.isPrefixOf(u.path))break;l.compareTo(n)<=0||Wa(t,c)&&(r=r.insert(c.key,c.clone()))}return oc.resolve(r)},e.prototype.fs=function(e,t){return oc.forEach(this.docs,(function(e){return t(e)}))},e.prototype.newChangeBuffer=function(e){return new Kl(this)},e.prototype.getSize=function(e){return oc.resolve(this.size)},e}(),Kl=function(e){function t(t){var n=this;return(n=e.call(this)||this).Ie=t,n}return oe(t,e),t.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.Ie.addEntry(e,i.document,t.getReadTime(r))):t.Ie.removeEntry(r)})),oc.waitFor(n)},t.prototype.getFromCache=function(e,t){return this.Ie.getEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.Ie.getEntries(e,t)},t}(al),Hl=function(){function e(e){this.persistence=e,this.ds=new ol((function(e){return pa(e)}),va),this.lastRemoteSnapshotVersion=No.min(),this.highestTargetId=0,this.ws=0,this._s=new Vl,this.targetCount=0,this.ys=Gc.Jt()}return e.prototype.forEachTarget=function(e,t){return this.ds.forEach((function(e,n){return t(n)})),oc.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return oc.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return oc.resolve(this.ws)},e.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),oc.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ws&&(this.ws=t),oc.resolve()},e.prototype.te=function(e){this.ds.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ys=new Gc(t),this.highestTargetId=t),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},e.prototype.addTargetData=function(e,t){return this.te(t),this.targetCount+=1,oc.resolve()},e.prototype.updateTargetData=function(e,t){return this.te(t),oc.resolve()},e.prototype.removeTargetData=function(e,t){return this.ds.delete(t.target),this._s.Zn(t.targetId),this.targetCount-=1,oc.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return this.ds.forEach((function(a,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),oc.waitFor(o).next((function(){return i}))},e.prototype.getTargetCount=function(e){return oc.resolve(this.targetCount)},e.prototype.getTargetData=function(e,t){var n=this.ds.get(t)||null;return oc.resolve(n)},e.prototype.addMatchingKeys=function(e,t,n){return this._s.Jn(t,n),oc.resolve()},e.prototype.removeMatchingKeys=function(e,t,n){this._s.Xn(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),oc.waitFor(i)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this._s.Zn(t),oc.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this._s.es(t);return oc.resolve(n)},e.prototype.containsKey=function(e,t){return oc.resolve(this._s.containsKey(t))},e}(),Wl=function(){function e(e,t){var n=this;this.gs={},this.Ne=new lo(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new Hl(this),this.Ut=new Rc,this.Ue=function(e,t){return new zl(e,(function(e){return n.referenceDelegate.ps(e)}))}(this.Ut),this.R=new wc(t),this.Qe=new Ul(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(e){var t=this.gs[e.toKey()];return t||(t=new Bl(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=t),t},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Qe},e.prototype.runTransaction=function(e,t,n){var r=this;yo("MemoryPersistence","Starting transaction:",e);var i=new Gl(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(e){return r.referenceDelegate.Ts(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.Is=function(e,t){return oc.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(e,t)}})))},e}(),Gl=function(e){function t(t){var n=this;return(n=e.call(this)||this).currentSequenceNumber=t,n}return oe(t,e),t}(rc),Ql=function(){function e(e){this.persistence=e,this.As=new Vl,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw wo()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(e,t,n){return this.As.addReference(n,t),this.vs.delete(n.toString()),oc.resolve()},e.prototype.removeReference=function(e,t,n){return this.As.removeReference(n,t),this.vs.add(n.toString()),oc.resolve()},e.prototype.markPotentiallyOrphaned=function(e,t){return this.vs.add(t.toString()),oc.resolve()},e.prototype.removeTarget=function(e,t){var n=this;this.As.Zn(t.targetId).forEach((function(e){return n.vs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.vs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oc.forEach(this.vs,(function(r){var i=$o.fromPath(r);return t.Ps(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Rs=null,n.apply(e)}))},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.Ps(e,t).next((function(e){e?n.vs.delete(t.toString()):n.vs.add(t.toString())}))},e.prototype.ps=function(e){return 0},e.prototype.Ps=function(e,t){var n=this;return oc.or([function(){return oc.resolve(n.As.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Is(e,t)}])},e}(),$l=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e}();function Yl(e,t){return"firestore_clients_"+e+"_"+t}function Xl(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function Jl(e,t){return"firestore_targets_"+e+"_"+t}$l.UNAUTHENTICATED=new $l(null),$l.GOOGLE_CREDENTIALS=new $l("google-credentials-uid"),$l.FIRST_PARTY=new $l("first-party-uid");var Zl=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}return e.Vs=function(t,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new ho(o.error.code,o.error.message)),a?new e(t,n,o.state,i):(mo("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),ef=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n}return e.Vs=function(t,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new ho(i.error.code,i.error.message)),o?new e(t,i.state,r):(mo("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),tf=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.Vs=function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Wu(),a=0;i&&a<r.activeTargetIds.length;++a)i=Qo(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new e(t,o):(mo("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),nf=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.Vs=function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(mo("SharedClientState","Failed to parse online state: "+t),null)},e}(),rf=function(){function e(){this.activeTargetIds=Wu()}return e.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),of=function(){function e(e,t,n,r,i){this.window=e,this.Se=t,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new Ou(To),this.started=!1,this.Os=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.$s=Yl(this.persistenceKey,this.Ns),this.Ms=function(e){return"firestore_sequence_number_"+e}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new rf),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.Qs=function(e){return"firestore_bundle_loaded_"+e}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(e){return!(!e||!e.localStorage)},e.prototype.start=function(){return ue(this,void 0,void 0,(function(){var e,t,n,r,i,o,a,u,s,c,l,f=this;return se(this,(function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=h.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.Ns&&(i=this.getItem(Yl(this.persistenceKey,r)))&&(o=tf.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Ks(),(a=this.storage.getItem(this.Us))&&(u=this.js(a))&&this.Ws(u),s=0,c=this.Os;s<c.length;s++)l=c[s],this.Fs(l);return this.Os=[],this.window.addEventListener("unload",(function(){return f.shutdown()})),this.started=!0,[2]}}))}))},e.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},e.prototype.isActiveQueryTarget=function(e){var t=!1;return this.ks.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t},e.prototype.addPendingMutation=function(e){this.zs(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.zs(e,t,n),this.Hs(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Jl(this.persistenceKey,e));if(n){var r=ef.Vs(e,n);r&&(t=r.state)}}return this.Js.Ds(e),this.Ks(),t},e.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Ks()},e.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(Jl(this.persistenceKey,e))},e.prototype.updateQueryState=function(e,t,n){this.Ys(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach((function(e){r.Hs(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))},e.prototype.setOnlineState=function(e){this.Xs(e)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.$s),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return yo("SharedClientState","READ",e,t),t},e.prototype.setItem=function(e,t){yo("SharedClientState","SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){yo("SharedClientState","REMOVE",e),this.storage.removeItem(e)},e.prototype.Fs=function(e){var t=this,n=e;if(n.storageArea===this.storage){if(yo("SharedClientState","EVENT",n.key,n.newValue),n.key===this.$s)return void mo("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return ue(t,void 0,void 0,(function(){var e,t,r,i,o,a;return se(this,(function(u){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return e=this.ti(n.key),[2,this.ei(e,null)];if(t=this.ni(n.key,n.newValue))return[2,this.ei(t.clientId,t)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(a=function(e){var t=lo.o;if(null!=e)try{var n=JSON.parse(e);Eo("number"==typeof n),t=n}catch(e){mo("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==lo.o&&this.sequenceNumberHandler(a);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.Os.push(n);return[2]}))}))}))}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},e.prototype.zs=function(e,t,n){var r=new Zl(this.currentUser,e,t,n),i=Xl(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ss())},e.prototype.Hs=function(e){var t=Xl(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.Xs=function(e){var t={clientId:this.Ns,onlineState:e};this.storage.setItem(this.Us,JSON.stringify(t))},e.prototype.Ys=function(e,t,n){var r=Jl(this.persistenceKey,e),i=new ef(e,t,n);this.setItem(r,i.Ss())},e.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},e.prototype.ti=function(e){var t=this.Ls.exec(e);return t?t[1]:null},e.prototype.ni=function(e,t){var n=this.ti(e);return tf.Vs(n,t)},e.prototype.si=function(e,t){var n=this.Bs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Zl.Vs(new $l(i),r,t)},e.prototype.ri=function(e,t){var n=this.qs.exec(e),r=Number(n[1]);return ef.Vs(r,t)},e.prototype.js=function(e){return nf.Vs(e)},e.prototype.ii=function(e){return ue(this,void 0,void 0,(function(){return se(this,(function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(yo("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])}))}))},e.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},e.prototype.ei=function(e,t){var n=this,r=t?this.ks.insert(e,t):this.ks.remove(e),i=this.Gs(this.ks),o=this.Gs(r),a=[],u=[];return o.forEach((function(e){i.has(e)||a.push(e)})),i.forEach((function(e){o.has(e)||u.push(e)})),this.syncEngine.hi(a,u).then((function(){n.ks=r}))},e.prototype.Ws=function(e){this.ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},e.prototype.Gs=function(e){var t=Wu();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t},e}(),af=function(){function e(){this.li=new rf,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.fi[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},e.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.fi[e]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.start=function(){return this.li=new rf,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e.prototype.notifyBundleLoaded=function(){},e}(),uf=function(){function e(){}return e.prototype.di=function(e){},e.prototype.shutdown=function(){},e}(),sf=function(){function e(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return e.prototype.di=function(e){this.gi.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){yo("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(0)},e.prototype.yi=function(){yo("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(1)},e.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),cf={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},lf=function(){function e(e){this.Ei=e.Ei,this.Ti=e.Ti}return e.prototype.Ii=function(e){this.Ai=e},e.prototype.Ri=function(e){this.bi=e},e.prototype.onMessage=function(e){this.vi=e},e.prototype.close=function(){this.Ti()},e.prototype.send=function(e){this.Ei(e)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(e){this.bi(e)},e.prototype.Si=function(e){this.vi(e)},e}(),ff=function(e){function t(t){var n=this;return(n=e.call(this,t)||this).forceLongPolling=t.forceLongPolling,n.autoDetectLongPolling=t.autoDetectLongPolling,n}return oe(t,e),t.prototype.ki=function(e,t,n,r){return new Promise((function(i,o){var a=new co;a.listenOnce(oo.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case io.NO_ERROR:var t=a.getResponseJson();yo("Connection","XHR received:",JSON.stringify(t)),i(t);break;case io.TIMEOUT:yo("Connection",'RPC "'+e+'" timed out'),o(new ho(fo.DEADLINE_EXCEEDED,"Request time out"));break;case io.HTTP_ERROR:var n=a.getStatus();if(yo("Connection",'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(fo).indexOf(t)>=0?t:fo.UNKNOWN}(r.status);o(new ho(u,r.message))}else o(new ho(fo.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new ho(fo.UNAVAILABLE,"Connection failed."));break;default:wo()}}finally{yo("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);a.send(t,"POST",u,n,15)}))},t.prototype.$i=function(e,t){var n=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=no(),i=ro(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(o.initMessageHeaders,t),"undefined"!==typeof window&&(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ye())||"object"===typeof navigator&&"ReactNative"===navigator.product||ye().indexOf("Electron/")>=0||function(){var e=ye();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()||ye().indexOf("MSAppHost/")>=0||function(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||(o.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");yo("Connection","Creating WebChannel: "+a,o);var u=r.createWebChannel(a,o),s=!1,c=!1,l=new lf({Ei:function(e){c?yo("Connection","Not sending because WebChannel is closed:",e):(s||(yo("Connection","Opening WebChannel transport."),u.open(),s=!0),yo("Connection","WebChannel sending:",e),u.send(e))},Ti:function(){return u.close()}}),f=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return f(u,so.EventType.OPEN,(function(){c||yo("Connection","WebChannel transport opened.")})),f(u,so.EventType.CLOSE,(function(){c||(c=!0,yo("Connection","WebChannel transport closed"),l.Vi())})),f(u,so.EventType.ERROR,(function(e){c||(c=!0,go("Connection","WebChannel transport errored:",e),l.Vi(new ho(fo.UNAVAILABLE,"The operation could not be completed")))})),f(u,so.EventType.MESSAGE,(function(e){var t;if(!c){var n=e.data[0];Eo(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){yo("Connection","WebChannel received error:",i);var o=i.status,a=function(e){var t=Tu[e];if(void 0!==t)return Au(t)}(o),s=i.message;void 0===a&&(a=fo.INTERNAL,s="Unknown error status: "+o+" with message "+i.message),c=!0,l.Vi(new ho(a,s)),u.close()}else yo("Connection","WebChannel received:",n),l.Si(n)}})),f(i,ao.STAT_EVENT,(function(e){e.stat===uo.PROXY?yo("Connection","Detected buffering proxy"):e.stat===uo.NOPROXY&&yo("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Pi()}),0),l},t}(function(){function e(e){this.databaseInfo=e,this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.Di=t+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(e,t,n,r){var i=this.xi(e,t);yo("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(e,i,o,n).then((function(e){return yo("RestConnection","Received: ",e),e}),(function(t){throw go("RestConnection",e+" failed with error: ",t,"url: ",i,"request:",n),t}))},e.prototype.Oi=function(e,t,n,r){return this.Ni(e,t,n,r)},e.prototype.Fi=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.5.0",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])},e.prototype.xi=function(e,t){var n=cf[e];return this.Di+"/v1/"+t+":"+n},e}());function hf(){return"undefined"!=typeof window?window:null}function df(){return"undefined"!=typeof document?document:null}function pf(e){return new is(e,!0)}var vf=function(){function e(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=e,this.timerId=t,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Ki=function(){this.qi=this.Bi},e.prototype.ji=function(e){var t=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&yo("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return t.Qi=Date.now(),e()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),yf=function(){function e(e,t,n,r,i,o){this.Se=e,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new vf(e,t)}return e.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},e.prototype.er=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.nr()},e.prototype.stop=function(){return ue(this,void 0,void 0,(function(){return se(this,(function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return e.rr()})))},e.prototype.cr=function(e){this.ur(),this.stream.send(e)},e.prototype.rr=function(){return ue(this,void 0,void 0,(function(){return se(this,(function(e){return this.er()?[2,this.close(0)]:[2]}))}))},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(e,t){return ue(this,void 0,void 0,(function(){return se(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():t&&t.code===fo.RESOURCE_EXHAUSTED?(mo(t.toString()),mo("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):t&&t.code===fo.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(t)];case 1:return n.sent(),[2]}}))}))},e.prototype.ar=function(){},e.prototype.auth=function(){var e=this;this.state=1;var t=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(t){e.Yi===n&&e.lr(t)}),(function(n){t((function(){var t=new ho(fo.UNKNOWN,"Fetching auth token failed: "+n.message);return e.dr(t)}))}))},e.prototype.lr=function(e){var t=this,n=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii((function(){n((function(){return t.state=2,t.listener.Ii()}))})),this.stream.Ri((function(e){n((function(){return t.dr(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},e.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji((function(){return ue(e,void 0,void 0,(function(){return se(this,(function(e){return this.state=0,this.start(),[2]}))}))}))},e.prototype.dr=function(e){return yo("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},e.prototype.hr=function(e){var t=this;return function(n){t.Se.enqueueAndForget((function(){return t.Yi===e?n():(yo("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},e}(),mf=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return oe(t,e),t.prototype.wr=function(e){return this.Hi.$i("Listen",e)},t.prototype.onMessage=function(e){this.Zi.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:wo()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.I?(Eo(void 0===t||"string"==typeof t),jo.fromBase64String(t||"")):(Eo(void 0===t||t instanceof Uint8Array),jo.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=(u=t.targetChange.cause)&&function(e){var t=void 0===e.code?fo.UNKNOWN:Au(e.code);return new ho(t,e.message||"")}(u);n=new Xu(r,i,o,a||null)}else if("documentChange"in t){t.documentChange,(r=t.documentChange).document,r.document.name,r.document.updateTime,i=hs(e,r.document.name),o=ss(r.document.updateTime);var u=new ca({mapValue:{fields:r.document.fields}}),s=(a=fa.newFoundDocument(i,o,u),r.targetIds||[]),c=r.removedTargetIds||[];n=new $u(s,c,a.key,a)}else if("documentDelete"in t)t.documentDelete,(r=t.documentDelete).document,i=hs(e,r.document),o=r.readTime?ss(r.readTime):No.min(),u=fa.newNoDocument(i,o),a=r.removedTargetIds||[],n=new $u([],a,u.key,u);else if("documentRemove"in t)t.documentRemove,(r=t.documentRemove).document,i=hs(e,r.document),o=r.removedTargetIds||[],n=new $u([],o,i,null);else{if(!("filter"in t))return wo();t.filter;var l=t.filter;l.targetId,r=l.count||0,i=new Nu(r),o=l.targetId,n=new Yu(o,i)}return n}(this.R,e),n=function(e){if(!("targetChange"in e))return No.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?No.min():t.readTime?ss(t.readTime):No.min()}(e);return this.listener._r(t,n)},t.prototype.mr=function(e){var t={};t.database=vs(this.R),t.addTarget=function(e,t){var n,r=t.target;return(n=ya(r)?{documents:Es(e,r)}:{query:_s(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=as(e,t.resumeToken):t.snapshotVersion.compareTo(No.min())>0&&(n.readTime=os(e,t.snapshotVersion.toTimestamp())),n}(this.R,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return wo()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,e);n&&(t.labels=n),this.cr(t)},t.prototype.yr=function(e){var t={};t.database=vs(this.R),t.removeTarget=e,this.cr(t)},t}(yf),gf=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return oe(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(e){return this.Hi.$i("Write",e)},t.prototype.onMessage=function(e){if(Eo(!!e.streamToken),this.lastStreamToken=e.streamToken,this.gr){this.Zi.reset();var t=function(e,t){return e&&e.length>0?(Eo(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?ss(e.updateTime):ss(t);return n.isEqual(No.min())&&(n=ss(t)),new fu(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=ss(e.commitTime);return this.listener.Tr(n,t)}return Eo(!e.writeResults||0===e.writeResults.length),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var e={};e.database=vs(this.R),this.cr(e)},t.prototype.Er=function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return bs(t.R,e)}))};this.cr(n)},t}(yf),bf=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).credentials=t,i.Hi=n,i.R=r,i.Rr=!1,i}return oe(t,e),t.prototype.br=function(){if(this.Rr)throw new ho(fo.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===fo.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new ho(fo.UNKNOWN,e.toString())}))},t.prototype.Oi=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Oi(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===fo.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new ho(fo.UNKNOWN,e.toString())}))},t.prototype.terminate=function(){this.Rr=!0},t}((function(){})),wf=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()})))},e.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},e.prototype.set=function(e){this.Fr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},e.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.Cr=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(mo(t),this.Vr=!1):yo("OnlineStateTracker",t)},e.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},e}(),Ef=function(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(e){n.enqueueAndForget((function(){return ue(o,void 0,void 0,(function(){return se(this,(function(e){switch(e.label){case 0:return Df(this)?(yo("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return ue(this,void 0,void 0,(function(){var t;return se(this,(function(n){switch(n.label){case 0:return(t=_o(e)).$r.add(4),[4,Sf(t)];case 1:return n.sent(),t.Br.set("Unknown"),t.$r.delete(4),[4,_f(t)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.Br=new wf(n,r)};function _f(e){return ue(this,void 0,void 0,(function(){var t,n;return se(this,(function(r){switch(r.label){case 0:if(!Df(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function Sf(e){return ue(this,void 0,void 0,(function(){var t,n;return se(this,(function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function kf(e,t){var n=_o(e);n.Or.has(t.targetId)||(n.Or.set(t.targetId,t),Nf(n)?Cf(n):Hf(n).er()&&If(n,t))}function Tf(e,t){var n=_o(e),r=Hf(n);n.Or.delete(t),r.er()&&xf(n,t),0===n.Or.size&&(r.er()?r.ir():Df(n)&&n.Br.set("Unknown"))}function If(e,t){e.qr.U(t.targetId),Hf(e).mr(t)}function xf(e,t){e.qr.U(t),Hf(e).yr(t)}function Cf(e){e.qr=new Zu({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.Or.get(t)||null}}),Hf(e).start(),e.Br.Sr()}function Nf(e){return Df(e)&&!Hf(e).tr()&&e.Or.size>0}function Df(e){return 0===_o(e).$r.size}function Af(e){e.qr=void 0}function Of(e){return ue(this,void 0,void 0,(function(){return se(this,(function(t){return e.Or.forEach((function(t,n){If(e,t)})),[2]}))}))}function Pf(e,t){return ue(this,void 0,void 0,(function(){return se(this,(function(n){return Af(e),Nf(e)?(e.Br.Nr(t),Cf(e)):e.Br.set("Unknown"),[2]}))}))}function Rf(e,t,n){return ue(this,void 0,void 0,(function(){var r,i,o;return se(this,(function(a){switch(a.label){case 0:if(e.Br.set("Online"),!(t instanceof Xu&&2===t.state&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(e,t){return ue(this,void 0,void 0,(function(){var n,r,i,o;return se(this,(function(a){switch(a.label){case 0:n=t.cause,r=0,i=t.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],e.Or.has(o)?[4,e.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:a.sent(),e.Or.delete(o),e.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(e,t)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),yo("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,Lf(e,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof $u?e.qr.X(t):t instanceof Yu?e.qr.rt(t):e.qr.et(t),n.isEqual(No.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,xl(e.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(e,t){var n=e.qr.ut(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Or.get(r);i&&e.Or.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.Or.get(t);if(n){e.Or.set(t,n.withResumeToken(jo.EMPTY_BYTE_STRING,n.snapshotVersion)),xf(e,t);var r=new bc(n.target,t,1,n.sequenceNumber);If(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return yo("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,Lf(e,o)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function Lf(e,t,n){return ue(this,void 0,void 0,(function(){var r=this;return se(this,(function(i){switch(i.label){case 0:if(!lc(t))throw t;return e.$r.add(1),[4,Sf(e)];case 1:return i.sent(),e.Br.set("Offline"),n||(n=function(){return xl(e.localStore)}),e.asyncQueue.enqueueRetryable((function(){return ue(r,void 0,void 0,(function(){return se(this,(function(t){switch(t.label){case 0:return yo("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return t.sent(),e.$r.delete(1),[4,_f(e)];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))}function Mf(e,t){return t().catch((function(n){return Lf(e,n,t)}))}function Ff(e){return ue(this,void 0,void 0,(function(){var t,n,r,i,o;return se(this,(function(a){switch(a.label){case 0:t=_o(e),n=Wf(t),r=t.kr.length>0?t.kr[t.kr.length-1].batchId:-1,a.label=1;case 1:if(!function(e){return Df(e)&&e.kr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,Dl(t.localStore,r)];case 3:return null===(i=a.sent())?(0===t.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(e,t){e.kr.push(t);var n=Wf(e);n.er()&&n.pr&&n.Er(t.mutations)}(t,i),[3,6]);case 4:return o=a.sent(),[4,Lf(t,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return jf(t)&&Uf(t),[2]}}))}))}function jf(e){return Df(e)&&!Wf(e).tr()&&e.kr.length>0}function Uf(e){Wf(e).start()}function Vf(e){return ue(this,void 0,void 0,(function(){return se(this,(function(t){return Wf(e).Ar(),[2]}))}))}function qf(e){return ue(this,void 0,void 0,(function(){var t,n,r,i;return se(this,(function(o){for(t=Wf(e),n=0,r=e.kr;n<r.length;n++)i=r[n],t.Er(i.mutations);return[2]}))}))}function Bf(e,t,n){return ue(this,void 0,void 0,(function(){var r,i;return se(this,(function(o){switch(o.label){case 0:return r=e.kr.shift(),i=gc.from(r,t,n),[4,Mf(e,(function(){return e.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,Ff(e)];case 2:return o.sent(),[2]}}))}))}function zf(e,t){return ue(this,void 0,void 0,(function(){return se(this,(function(n){switch(n.label){case 0:return t&&Wf(e).pr?[4,function(e,t){return ue(this,void 0,void 0,(function(){var n,r;return se(this,(function(i){switch(i.label){case 0:return Du(r=t.code)&&r!==fo.ABORTED?(n=e.kr.shift(),Wf(e).sr(),[4,Mf(e,(function(){return e.remoteSyncer.rejectFailedWrite(n.batchId,t)}))]):[3,3];case 1:return i.sent(),[4,Ff(e)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return jf(e)&&Uf(e),[2]}}))}))}function Kf(e,t){return ue(this,void 0,void 0,(function(){var n;return se(this,(function(r){switch(r.label){case 0:return n=_o(e),t?(n.$r.delete(2),[4,_f(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.$r.add(2),[4,Sf(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function Hf(e){var t=this;return e.Ur||(e.Ur=function(e,t,n){var r=_o(e);return r.br(),new mf(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:Of.bind(null,e),Ri:Pf.bind(null,e),_r:Rf.bind(null,e)}),e.Mr.push((function(n){return ue(t,void 0,void 0,(function(){return se(this,(function(t){switch(t.label){case 0:return n?(e.Ur.sr(),Nf(e)?Cf(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:t.sent(),Af(e),t.label=3;case 3:return[2]}}))}))}))),e.Ur}function Wf(e){var t=this;return e.Qr||(e.Qr=function(e,t,n){var r=_o(e);return r.br(),new gf(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:Vf.bind(null,e),Ri:zf.bind(null,e),Ir:qf.bind(null,e),Tr:Bf.bind(null,e)}),e.Mr.push((function(n){return ue(t,void 0,void 0,(function(){return se(this,(function(t){switch(t.label){case 0:return n?(e.Qr.sr(),[4,Ff(e)]):[3,2];case 1:return t.sent(),[3,4];case 2:return[4,e.Qr.stop()];case 3:t.sent(),e.kr.length>0&&(yo("RemoteStore","Stopping write stream with "+e.kr.length+" pending writes"),e.kr=[]),t.label=4;case 4:return[2]}}))}))}))),e.Qr}var Gf=function(){function e(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new ic,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return e.createAndSchedule=function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ho(fo.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function Qf(e,t){if(mo("AsyncQueue",t+": "+e),lc(e))return new ho(fo.UNAVAILABLE,t+": "+e);throw e}var $f=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||$o.comparator(t.key,n.key)}:function(e,t){return $o.comparator(e.key,t.key)},this.keyedMap=Vu(),this.sortedSet=new Ou(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),Yf=function(){function e(){this.Kr=new Ou($o.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.Kr.get(t);n?0!==e.type&&3===n.type?this.Kr=this.Kr.insert(t,e):3===e.type&&1!==n.type?this.Kr=this.Kr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Kr=this.Kr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Kr=this.Kr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Kr=this.Kr.remove(t):1===e.type&&2===n.type?this.Kr=this.Kr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Kr=this.Kr.insert(t,{type:2,doc:e.doc}):wo():this.Kr=this.Kr.insert(t,e)},e.prototype.jr=function(){var e=[];return this.Kr.inorderTraversal((function(t,n){e.push(n)})),e},e}(),Xf=function(){function e(e,t,n,r,i,o,a,u){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,$f.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&za(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),Jf=function(){this.Wr=void 0,this.listeners=[]},Zf=function(){this.queries=new ol((function(e){return Ka(e)}),za),this.onlineState="Unknown",this.Gr=new Set};function eh(e,t){return ue(this,void 0,void 0,(function(){var n,r,i,o,a,u,s;return se(this,(function(c){switch(c.label){case 0:if(n=_o(e),r=t.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new Jf),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=c.sent(),[3,4];case 3:return u=c.sent(),s=Qf(u,"Initialization of query '"+Ha(t.query)+"' failed"),[2,void t.onError(s)];case 4:return n.queries.set(r,o),o.listeners.push(t),t.zr(n.onlineState),o.Wr&&t.Hr(o.Wr)&&ih(n),[2]}}))}))}function th(e,t){return ue(this,void 0,void 0,(function(){var n,r,i,o,a;return se(this,(function(u){return n=_o(e),r=t.query,i=!1,(o=n.queries.get(r))&&(a=o.listeners.indexOf(t))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function nh(e,t){for(var n=_o(e),r=!1,i=0,o=t;i<o.length;i++){var a=o[i],u=a.query,s=n.queries.get(u);if(s){for(var c=0,l=s.listeners;c<l.length;c++)l[c].Hr(a)&&(r=!0);s.Wr=a}}r&&ih(n)}function rh(e,t,n){var r=_o(e),i=r.queries.get(t);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(t)}function ih(e){e.Gr.forEach((function(e){e.next()}))}var oh=function(){function e(e,t,n){this.query=e,this.Jr=t,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return e.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&t.push(i)}e=new Xf(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),o=!0):this.eo(e,this.onlineState)&&(this.no(e),o=!0),this.Xr=e,o},e.prototype.onError=function(e){this.Jr.error(e)},e.prototype.zr=function(e){this.onlineState=e;var t=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),t=!0),t},e.prototype.eo=function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return!(this.options.so&&n||e.docs.isEmpty()&&"Offline"!==t)},e.prototype.Zr=function(e){if(e.docChanges.length>0)return!0;var t=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges},e.prototype.no=function(e){e=Xf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},e}(),ah=function(){function e(e,t){this.payload=e,this.byteLength=t}return e.prototype.io=function(){return"metadata"in this.payload},e}(),uh=function(){function e(e){this.R=e}return e.prototype.qn=function(e){return hs(this.R,e)},e.prototype.Un=function(e){return e.metadata.exists?gs(this.R,e.document,!1):fa.newNoDocument(this.qn(e.metadata.name),this.Qn(e.metadata.readTime))},e.prototype.Qn=function(e){return ss(e)},e}();!function(){function e(e,t,n){this.ro=e,this.localStore=t,this.R=n,this.queries=[],this.documents=[],this.progress=sh(e)}e.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null},e.prototype.co=function(e){for(var t=new Map,n=new uh(this.R),r=0,i=e;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),u=0,s=o.metadata.queries;u<s.length;u++){var c=s[u],l=(t.get(c)||Ku()).add(a);t.set(c,l)}}return t},e.prototype.complete=function(){return ue(this,void 0,void 0,(function(){var e,t,n,r,i;return se(this,(function(o){switch(o.label){case 0:return[4,Fl(this.localStore,new uh(this.R),this.documents,this.ro.id)];case 1:e=o.sent(),t=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?(i=r[n],[4,jl(this.localStore,i,t.get(i.name))]):[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new bl(Object.assign({},this.progress),e))]}}))}))}}();function sh(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var ch=function(e){this.key=e},lh=function(e){this.key=e},fh=function(){function e(e,t){this.query=e,this.uo=t,this.ao=null,this.current=!1,this.ho=Ku(),this.mutatedKeys=Ku(),this.lo=Ga(e),this.fo=new $f(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(e,t){var n=this,r=t?t.mo:new Yf,i=t?t.fo:this.fo,o=t?t.mutatedKeys:this.mutatedKeys,a=i,u=!1,s=La(this.query)&&i.size===this.query.limit?i.last():null,c=Ma(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Wa(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.yo(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.lo(f,s)>0||c&&n.lo(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(a=a.add(f),o=d?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))})),La(this.query)||Ma(this.query))for(;a.size>this.query.limit;){var l=La(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:a,mo:r,Nn:u,mutatedKeys:o}},e.prototype.yo=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this,i=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var o=e.mo.jr();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wo()}};return n(e)-n(t)}(e.type,t.type)||r.lo(e.doc,t.doc)})),this.po(n);var a=t?this.Eo():[],u=0===this.ho.size&&this.current?1:0,s=u!==this.ao;return this.ao=u,0!==o.length||s?{snapshot:new Xf(this.query,e.fo,i,o,e.mutatedKeys,0===u,s,!1),To:a}:{To:a}},e.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Yf,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},e.prototype.po=function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.uo=t.uo.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.uo=t.uo.delete(e)})),this.current=e.current)},e.prototype.Eo=function(){var e=this;if(!this.current)return[];var t=this.ho;this.ho=Ku(),this.fo.forEach((function(t){e.Io(t.key)&&(e.ho=e.ho.add(t.key))}));var n=[];return t.forEach((function(t){e.ho.has(t)||n.push(new lh(t))})),this.ho.forEach((function(e){t.has(e)||n.push(new ch(e))})),n},e.prototype.Ao=function(e){this.uo=e.Bn,this.ho=Ku();var t=this._o(e.documents);return this.applyChanges(t,!0)},e.prototype.Ro=function(){return Xf.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},e}(),hh=function(e,t,n){this.query=e,this.targetId=t,this.view=n},dh=function(e){this.key=e,this.bo=!1},ph=function(){function e(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new ol((function(e){return Ka(e)}),za),this.Vo=new Map,this.So=new Set,this.Do=new Ou($o.comparator),this.Co=new Map,this.No=new Vl,this.xo={},this.Fo=new Map,this.ko=Gc.Yt(),this.onlineState="Unknown",this.Oo=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.Oo},enumerable:!1,configurable:!0}),e}();function vh(e,t){return ue(this,void 0,void 0,(function(){var n,r,i,o,a,u;return se(this,(function(s){switch(s.label){case 0:return n=Kh(e),(o=n.Po.get(t))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,Al(n.localStore,qa(t))];case 2:return a=s.sent(),u=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,yh(n,t,r,"current"===u)];case 3:i=s.sent(),n.isPrimaryClient&&kf(n.remoteStore,a),s.label=4;case 4:return[2,i]}}))}))}function yh(e,t,n,r){return ue(this,void 0,void 0,(function(){var i,o,a,u,s,c;return se(this,(function(l){switch(l.label){case 0:return e.$o=function(t,n,r){return function(e,t,n,r){return ue(this,void 0,void 0,(function(){var i,o,a;return se(this,(function(u){switch(u.label){case 0:return(i=t.view._o(n)).Nn?[4,Pl(e.localStore,t.query,!1).then((function(e){var n=e.documents;return t.view._o(n,i)}))]:[3,2];case 1:i=u.sent(),u.label=2;case 2:return o=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,o),[2,(Nh(e,t.targetId,a.To),a.snapshot)]}}))}))}(e,t,n,r)},[4,Pl(e.localStore,t,!0)];case 1:return i=l.sent(),o=new fh(t,i.Bn),a=o._o(i.documents),u=Qu.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),s=o.applyChanges(a,e.isPrimaryClient,u),Nh(e,n,s.To),c=new hh(t,n,o),[2,(e.Po.set(t,c),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),s.snapshot)]}}))}))}function mh(e,t){return ue(this,void 0,void 0,(function(){var n,r,i;return se(this,(function(o){switch(o.label){case 0:return n=_o(e),r=n.Po.get(t),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(e){return!za(e,t)}))),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Ol(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),Tf(n.remoteStore,r.targetId),xh(n,r.targetId)})).catch(Jc)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return xh(n,r.targetId),[4,Ol(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function gh(e,t,n){return ue(this,void 0,void 0,(function(){var r,i,o,a;return se(this,(function(u){switch(u.label){case 0:r=Hh(e),u.label=1;case 1:return u.trys.push([1,5,,6]),[4,function(e,t){var n,r=_o(e),i=Co.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Ku());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Mn.pn(e,o).next((function(o){n=o;for(var a=[],u=0,s=t;u<s.length;u++){var c=s[u],l=mu(c,n.get(c.key));null!=l&&a.push(new Eu(c.key,l,la(l.toProto().mapValue),hu.exists(!0)))}return r._n.addMutationBatch(e,i,a,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(r.localStore,t)];case 2:return i=u.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(e,t,n){var r=e.xo[e.currentUser.toKey()];r||(r=new Ou(To)),r=r.insert(t,n),e.xo[e.currentUser.toKey()]=r}(r,i.batchId,n),[4,Oh(r,i.changes)];case 3:return u.sent(),[4,Ff(r.remoteStore)];case 4:return u.sent(),[3,6];case 5:return o=u.sent(),a=Qf(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function bh(e,t){return ue(this,void 0,void 0,(function(){var n,r;return se(this,(function(i){switch(i.label){case 0:n=_o(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Cl(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach((function(e,t){var r=n.Co.get(t);r&&(Eo(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.bo=!0:e.modifiedDocuments.size>0?Eo(r.bo):e.removedDocuments.size>0&&(Eo(r.bo),r.bo=!1))})),[4,Oh(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,Jc(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function wh(e,t,n){var r=_o(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(e,n){var r=n.view.zr(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=_o(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(t)&&(r=!0)})),r&&ih(n)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Eh(e,t,n){return ue(this,void 0,void 0,(function(){var r,i,o,a,u,s;return se(this,(function(c){switch(c.label){case 0:return(r=_o(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.Co.get(t),(o=i&&i.key)?(a=(a=new Ou($o.comparator)).insert(o,fa.newNoDocument(o,No.min())),u=Ku().add(o),s=new Gu(No.min(),new Map,new Lu(To),a,u),[4,bh(r,s)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(t),Ah(r),[3,4];case 2:return[4,Ol(r.localStore,t,!1).then((function(){return xh(r,t,n)})).catch(Jc)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function _h(e,t){return ue(this,void 0,void 0,(function(){var n,r,i;return se(this,(function(o){switch(o.label){case 0:n=_o(e),r=t.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Il(n.localStore,t)];case 2:return i=o.sent(),Ih(n,r,null),Th(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Oh(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Jc(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Sh(e,t,n){return ue(this,void 0,void 0,(function(){var r,i;return se(this,(function(o){switch(o.label){case 0:r=_o(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(e,t){var n=_o(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n._n.lookupMutationBatch(e,t).next((function(t){return Eo(null!==t),r=t.keys(),n._n.removeMutationBatch(e,t)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}(r.localStore,t)];case 2:return i=o.sent(),Ih(r,t,n),Th(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,Oh(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Jc(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function kh(e,t){return ue(this,void 0,void 0,(function(){var n,r,i,o,a;return se(this,(function(u){switch(u.label){case 0:Df((n=_o(e)).remoteStore)||yo("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,function(e){var t=_o(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t._n.getHighestUnacknowledgedBatchId(e)}))}(n.localStore)];case 2:return-1===(r=u.sent())?[2,void t.resolve()]:((i=n.Fo.get(r)||[]).push(t),n.Fo.set(r,i),[3,4]);case 3:return o=u.sent(),a=Qf(o,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}}))}))}function Th(e,t){(e.Fo.get(t)||[]).forEach((function(e){e.resolve()})),e.Fo.delete(t)}function Ih(e,t,n){var r=_o(e),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function xh(e,t,n){void 0===n&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var o=i[r];e.Po.delete(o),n&&e.vo.Mo(o,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach((function(t){e.No.containsKey(t)||Ch(e,t)}))}function Ch(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);null!==n&&(Tf(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),Ah(e))}function Nh(e,t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof ch?(e.No.addReference(o.key,t),Dh(e,o)):o instanceof lh?(yo("SyncEngine","Document no longer in limbo: "+o.key),e.No.removeReference(o.key,t),e.No.containsKey(o.key)||Ch(e,o.key)):wo()}}function Dh(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(yo("SyncEngine","New document in limbo: "+n),e.So.add(r),Ah(e))}function Ah(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new $o(Ro.fromString(t)),r=e.ko.next();e.Co.set(r,new dh(n)),e.Do=e.Do.insert(n,r),kf(e.remoteStore,new bc(qa(Ra(n.path)),r,2,lo.o))}}function Oh(e,t,n){return ue(this,void 0,void 0,(function(){var r,i,o,a;return se(this,(function(u){switch(u.label){case 0:return r=_o(e),i=[],o=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(e,u){a.push(r.$o(u,t,n).then((function(e){if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,e.fromCache?"not-current":"current"),i.push(e);var t=El.Pn(u.targetId,e);o.push(t)}})))})),[4,Promise.all(a)]);case 1:return u.sent(),r.vo._r(i),[4,function(e,t){return ue(this,void 0,void 0,(function(){var n,r,i,o,a,u,s,c,l;return se(this,(function(f){switch(f.label){case 0:n=_o(e),f.label=1;case 1:return f.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return oc.forEach(t,(function(t){return oc.forEach(t.bn,(function(r){return n.persistence.referenceDelegate.addReference(e,t.targetId,r)})).next((function(){return oc.forEach(t.vn,(function(r){return n.persistence.referenceDelegate.removeReference(e,t.targetId,r)}))}))}))}))];case 2:return f.sent(),[3,4];case 3:if(!lc(r=f.sent()))throw r;return yo("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=t;i<o.length;i++)a=o[i],u=a.targetId,a.fromCache||(s=n.Fn.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),n.Fn=n.Fn.insert(u,l));return[2]}}))}))}(r.localStore,o)];case 2:u.sent(),u.label=3;case 3:return[2]}}))}))}function Ph(e,t){return ue(this,void 0,void 0,(function(){var n,r;return se(this,(function(i){switch(i.label){case 0:return(n=_o(e)).currentUser.isEqual(t)?[3,3]:(yo("SyncEngine","User change. New user:",t.toKey()),[4,Tl(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,function(e,t){e.Fo.forEach((function(e){e.forEach((function(e){e.reject(new ho(fo.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Fo.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,Oh(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function Rh(e,t){var n=_o(e),r=n.Co.get(t);if(r&&r.bo)return Ku().add(r.key);var i=Ku(),o=n.Vo.get(t);if(!o)return i;for(var a=0,u=o;a<u.length;a++){var s=u[a],c=n.Po.get(s);i=i.unionWith(c.view.wo)}return i}function Lh(e,t){return ue(this,void 0,void 0,(function(){var n,r,i;return se(this,(function(o){switch(o.label){case 0:return[4,Pl((n=_o(e)).localStore,t.query,!0)];case 1:return r=o.sent(),i=t.view.Ao(r),[2,(n.isPrimaryClient&&Nh(n,t.targetId,i.To),i)]}}))}))}function Mh(e){return ue(this,void 0,void 0,(function(){var t;return se(this,(function(n){return[2,Ll((t=_o(e)).localStore).then((function(e){return Oh(t,e)}))]}))}))}function Fh(e,t,n,r){return ue(this,void 0,void 0,(function(){var i,o;return se(this,(function(a){switch(a.label){case 0:return[4,function(e,t){var n=_o(e),r=_o(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.jt(e,t).next((function(t){return t?n.Mn.pn(e,t):oc.resolve(null)}))}))}((i=_o(e)).localStore,t)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,Ff(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Ih(i,t,r||null),Th(i,t),function(e,t){_o(_o(e)._n).Gt(t)}(i.localStore,t)):wo(),a.label=4;case 4:return[4,Oh(i,o)];case 5:return a.sent(),[3,7];case 6:yo("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}}))}))}function jh(e,t){return ue(this,void 0,void 0,(function(){var n,r,i,o,a,u,s,c;return se(this,(function(l){switch(l.label){case 0:return Kh(n=_o(e)),Hh(n),!0!==t||!0===n.Oo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Uh(n,r.toArray())]);case 1:return i=l.sent(),n.Oo=!0,[4,Kf(n.remoteStore,!0)];case 2:for(l.sent(),o=0,a=i;o<a.length;o++)u=a[o],kf(n.remoteStore,u);return[3,7];case 3:return!1!==t||!1===n.Oo?[3,7]:(s=[],c=Promise.resolve(),n.Vo.forEach((function(e,t){n.sharedClientState.isLocalQueryTarget(t)?s.push(t):c=c.then((function(){return xh(n,t),Ol(n.localStore,t,!0)})),Tf(n.remoteStore,t)})),[4,c]);case 4:return l.sent(),[4,Uh(n,s)];case 5:return l.sent(),function(e){var t=_o(e);t.Co.forEach((function(e,n){Tf(t.remoteStore,n)})),t.No.ts(),t.Co=new Map,t.Do=new Ou($o.comparator)}(n),n.Oo=!1,[4,Kf(n.remoteStore,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}}))}))}function Uh(e,t,n){return ue(this,void 0,void 0,(function(){var n,r,i,o,a,u,s,c,l,f,h,d,p,v;return se(this,(function(y){switch(y.label){case 0:n=_o(e),r=[],i=[],o=0,a=t,y.label=1;case 1:return o<a.length?(u=a[o],s=void 0,(c=n.Vo.get(u))&&0!==c.length?[4,Al(n.localStore,qa(c[0]))]:[3,7]):[3,13];case 2:s=y.sent(),l=0,f=c,y.label=3;case 3:return l<f.length?(h=f[l],d=n.Po.get(h),[4,Lh(n,d)]):[3,6];case 4:(p=y.sent()).snapshot&&i.push(p.snapshot),y.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Rl(n.localStore,u)];case 8:return v=y.sent(),[4,Al(n.localStore,v)];case 9:return s=y.sent(),[4,yh(n,Vh(v),u,!1)];case 10:y.sent(),y.label=11;case 11:r.push(s),y.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function Vh(e){return Pa(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function qh(e){var t=_o(e);return _o(_o(t.localStore).persistence).fn()}function Bh(e,t,n,r){return ue(this,void 0,void 0,(function(){var i,o,a;return se(this,(function(u){switch(u.label){case 0:return(i=_o(e)).Oo?(yo("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Ll(i.localStore)];case 3:return o=u.sent(),a=Gu.createSynthesizedRemoteEventForCurrentChange(t,"current"===n),[4,Oh(i,o,a)];case 4:return u.sent(),[3,8];case 5:return[4,Ol(i.localStore,t,!0)];case 6:return u.sent(),xh(i,t,r),[3,8];case 7:wo(),u.label=8;case 8:return[2]}}))}))}function zh(e,t,n){return ue(this,void 0,void 0,(function(){var r,i,o,a,u,s,c,l,f,h;return se(this,(function(d){switch(d.label){case 0:if(!(r=Kh(e)).Oo)return[3,10];i=0,o=t,d.label=1;case 1:return i<o.length?(a=o[i],r.Vo.has(a)?(yo("SyncEngine","Adding an already active target "+a),[3,5]):[4,Rl(r.localStore,a)]):[3,6];case 2:return u=d.sent(),[4,Al(r.localStore,u)];case 3:return s=d.sent(),[4,yh(r,Vh(u),s.targetId,!1)];case 4:d.sent(),kf(r.remoteStore,s),d.label=5;case 5:return i++,[3,1];case 6:c=function(e){return se(this,(function(t){switch(t.label){case 0:return r.Vo.has(e)?[4,Ol(r.localStore,e,!1).then((function(){Tf(r.remoteStore,e),xh(r,e)})).catch(Jc)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))},l=0,f=n,d.label=7;case 7:return l<f.length?(h=f[l],[5,c(h)]):[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function Kh(e){var t=_o(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=bh.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Rh.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Eh.bind(null,t),t.vo._r=nh.bind(null,t.eventManager),t.vo.Mo=rh.bind(null,t.eventManager),t}function Hh(e){var t=_o(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=_h.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Sh.bind(null,t),t}var Wh=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(e){return ue(this,void 0,void 0,(function(){return se(this,(function(t){switch(t.label){case 0:return this.R=pf(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Qo(e),[2]}}))}))},e.prototype.Uo=function(e){return null},e.prototype.Qo=function(e){return kl(this.persistence,new _l,e.initialUser,this.R)},e.prototype.qo=function(e){return new Wl(Ql.bs,this.R)},e.prototype.Bo=function(e){return new af},e.prototype.terminate=function(){return ue(this,void 0,void 0,(function(){return se(this,(function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}}))}))},e}(),Gh=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Ko=t,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return oe(t,e),t.prototype.initialize=function(t){return ue(this,void 0,void 0,(function(){return se(this,(function(n){switch(n.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return n.sent(),[4,Ml(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,t)];case 3:return n.sent(),[4,Hh(this.Ko.syncEngine)];case 4:return n.sent(),[4,Ff(this.Ko.remoteStore)];case 5:return n.sent(),[2]}}))}))},t.prototype.Qo=function(e){return kl(this.persistence,new _l,e.initialUser,this.R)},t.prototype.Uo=function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new tl(t,e.asyncQueue)},t.prototype.qo=function(e){var t=gl(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Uc.withCacheSize(this.cacheSizeBytes):Uc.DEFAULT;return new vl(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,hf(),df(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(e){return new af},t}(Wh),Qh=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n,!1)||this).Ko=t,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return oe(t,e),t.prototype.initialize=function(t){return ue(this,void 0,void 0,(function(){var n,r=this;return se(this,(function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof of?(this.sharedClientState.syncEngine={ui:Fh.bind(null,n),ai:Bh.bind(null,n),hi:zh.bind(null,n),fn:qh.bind(null,n),ci:Mh.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(e){return ue(r,void 0,void 0,(function(){return se(this,(function(t){switch(t.label){case 0:return[4,jh(this.Ko.syncEngine,e)];case 1:return t.sent(),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},t.prototype.Bo=function(e){var t=hf();if(!of.yt(t))throw new ho(fo.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=gl(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new of(t,e.asyncQueue,n,e.clientId,e.initialUser)},t}(Gh),$h=function(){function e(){}return e.prototype.initialize=function(e,t){return ue(this,void 0,void 0,(function(){var n=this;return se(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return wh(n.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Ph.bind(null,this.syncEngine),[4,Kf(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.createEventManager=function(e){return new Zf},e.prototype.createDatastore=function(e){var t,n=pf(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new ff(t));return function(e,t,n){return new bf(e,t,n)}(e.credentials,r,n)},e.prototype.createRemoteStore=function(e){var t,n,r,i,o,a=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return wh(a.syncEngine,e,0)},o=sf.yt()?new sf:new uf,new Ef(t,n,r,i,o)},e.prototype.createSyncEngine=function(e,t){return function(e,t,n,r,i,o,a){var u=new ph(e,t,n,r,i,o);return a&&(u.Oo=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)},e.prototype.terminate=function(){return function(e){return ue(this,void 0,void 0,(function(){var t;return se(this,(function(n){switch(n.label){case 0:return t=_o(e),yo("RemoteStore","RemoteStore shutting down."),t.$r.add(5),[4,Sf(t)];case 1:return n.sent(),t.Lr.shutdown(),t.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},e}();var Yh=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},e.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},e}(),Xh=(function(){function e(e,t){var n=this;this.Go=e,this.R=t,this.metadata=new ic,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(e){e&&e.io()?n.metadata.resolve(e.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==e?void 0:e.payload)))}),(function(e){return n.metadata.reject(e)}))}e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return ue(this,void 0,void 0,(function(){return se(this,(function(e){return[2,this.metadata.promise]}))}))},e.prototype.Lo=function(){return ue(this,void 0,void 0,(function(){return se(this,(function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}}))}))},e.prototype.Ho=function(){return ue(this,void 0,void 0,(function(){var e,t,n,r;return se(this,(function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(e=i.sent())?[2,null]:(t=this.zo.decode(e),n=Number(t),isNaN(n)&&this.Yo("length string ("+t+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new ah(JSON.parse(r),e.length+n)]}}))}))},e.prototype.Zo=function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))},e.prototype.Jo=function(){return ue(this,void 0,void 0,(function(){var e,t;return se(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),t=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),t)])}}))}))},e.prototype.Xo=function(e){return ue(this,void 0,void 0,(function(){var t;return se(this,(function(n){switch(n.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return t=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),t)]}}))}))},e.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},e.prototype.tc=function(){return ue(this,void 0,void 0,(function(){var e,t;return se(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(e=n.sent()).done||((t=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t),[2,e.done]}}))}))}}(),function(){function e(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(e){return ue(this,void 0,void 0,(function(){var t,n=this;return se(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new ho(fo.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return ue(this,void 0,void 0,(function(){var n,r,i,o,a,u;return se(this,(function(s){switch(s.label){case 0:return n=_o(e),r=vs(n.R)+"/documents",i={documents:t.map((function(e){return fs(n.R,e)}))},[4,n.Oi("BatchGetDocuments",r,i)];case 1:return o=s.sent(),a=new Map,o.forEach((function(e){var t=function(e,t){return"found"in t?function(e,t){Eo(!!t.found),t.found.name,t.found.updateTime;var n=hs(e,t.found.name),r=ss(t.found.updateTime),i=new ca({mapValue:{fields:t.found.fields}});return fa.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Eo(!!t.missing),Eo(!!t.readTime);var n=hs(e,t.missing),r=ss(t.readTime);return fa.newNoDocument(n,r)}(e,t):wo()}(n.R,e);a.set(t.key.toString(),t)})),u=[],[2,(t.forEach((function(e){var t=a.get(e.toString());Eo(!!t),u.push(t)})),u)]}}))}))}(this.datastore,e)];case 1:return[2,((t=r.sent()).forEach((function(e){return n.recordVersion(e)})),t)]}}))}))},e.prototype.set=function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.update=function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())},e.prototype.delete=function(e){this.write(new xu(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.commit=function(){return ue(this,void 0,void 0,(function(){var e,t=this;return se(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach((function(t){e.delete(t.key.toString())})),e.forEach((function(e,n){var r=$o.fromPath(n);t.mutations.push(new Cu(r,t.precondition(r)))})),[4,function(e,t){return ue(this,void 0,void 0,(function(){var n,r,i;return se(this,(function(o){switch(o.label){case 0:return n=_o(e),r=vs(n.R)+"/documents",i={writes:t.map((function(e){return bs(n.R,e)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},e.prototype.recordVersion=function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw wo();t=No.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new ho(fo.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)},e.prototype.precondition=function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?hu.updateTime(t):hu.none()},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(No.min()))throw new ho(fo.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return hu.updateTime(t)}return hu.exists(!0)},e.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},e.prototype.ensureCommitNotCalled=function(){},e}()),Jh=function(){function e(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new vf(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.nc()},e.prototype.nc=function(){var e=this;this.Zi.ji((function(){return ue(e,void 0,void 0,(function(){var e,t,n=this;return se(this,(function(r){return e=new Xh(this.datastore),(t=this.sc(e))&&t.then((function(t){n.asyncQueue.enqueueAndForget((function(){return e.commit().then((function(){n.deferred.resolve(t)})).catch((function(e){n.ic(e)}))}))})).catch((function(e){n.ic(e)})),[2]}))}))}))},e.prototype.sc=function(e){try{var t=this.updateFunction(e);return!Wo(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}},e.prototype.ic=function(e){var t=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return t.nc(),Promise.resolve()}))):this.deferred.reject(e)},e.prototype.rc=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Du(t)}return!1},e}(),Zh=function(){function e(e,t,n){var r=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=$l.UNAUTHENTICATED,this.clientId=ko.u(),this.credentialListener=function(){},this.receivedInitialUser=new ic,this.credentials.setChangeListener((function(e){yo("FirestoreClient","Received user=",e.uid),r.user=e,r.credentialListener(e),r.receivedInitialUser.resolve()}))}return e.prototype.getConfiguration=function(){return ue(this,void 0,void 0,(function(){return se(this,(function(e){switch(e.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(e.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}}))}))},e.prototype.setCredentialChangeListener=function(e){var t=this;this.credentialListener=e,this.receivedInitialUser.promise.then((function(){return t.credentialListener(t.user)}))},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new ho(fo.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new ic;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return ue(e,void 0,void 0,(function(){var e,n;return se(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return e=r.sent(),n=Qf(e,"Failed to shutdown persistence"),t.reject(n),[3,6];case 6:return[2]}}))}))})),t.promise},e}();function ed(e,t){return ue(this,void 0,void 0,(function(){var n,r,i=this;return se(this,(function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),yo("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=o.sent(),[4,t.initialize(n)];case 2:return o.sent(),r=n.initialUser,e.setCredentialChangeListener((function(n){r.isEqual(n)||(r=n,e.asyncQueue.enqueueRetryable((function(){return ue(i,void 0,void 0,(function(){return se(this,(function(e){switch(e.label){case 0:return[4,Tl(t.localStore,n)];case 1:return e.sent(),[2]}}))}))})))})),t.persistence.setDatabaseDeletedListener((function(){return e.terminate()})),e.offlineComponents=t,[2]}}))}))}function td(e,t){return ue(this,void 0,void 0,(function(){var n,r;return se(this,(function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,nd(e)];case 1:return n=i.sent(),yo("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener((function(n){return e.asyncQueue.enqueueRetryable((function(){return function(e,t){return ue(this,void 0,void 0,(function(){var n,r;return se(this,(function(i){switch(i.label){case 0:return(n=_o(e)).asyncQueue.verifyOperationInProgress(),yo("RemoteStore","RemoteStore received new credentials"),r=Df(n),n.$r.add(3),[4,Sf(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(t)];case 2:return i.sent(),n.$r.delete(3),[4,_f(n)];case 3:return i.sent(),[2]}}))}))}(t.remoteStore,n)}))})),e.onlineComponents=t,[2]}}))}))}function nd(e){return ue(this,void 0,void 0,(function(){return se(this,(function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(yo("FirestoreClient","Using default OfflineComponentProvider"),[4,ed(e,new Wh)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}}))}))}function rd(e){return ue(this,void 0,void 0,(function(){return se(this,(function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(yo("FirestoreClient","Using default OnlineComponentProvider"),[4,td(e,new $h)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}}))}))}function id(e){return nd(e).then((function(e){return e.persistence}))}function od(e){return nd(e).then((function(e){return e.localStore}))}function ad(e){return rd(e).then((function(e){return e.remoteStore}))}function ud(e){return rd(e).then((function(e){return e.syncEngine}))}function sd(e){return ue(this,void 0,void 0,(function(){var t,n;return se(this,(function(r){switch(r.label){case 0:return[4,rd(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=vh.bind(null,t.syncEngine),n.onUnlisten=mh.bind(null,t.syncEngine),n)]}}))}))}function cd(e,t,n){var r=this;void 0===n&&(n={});var i=new ic;return e.asyncQueue.enqueueAndForget((function(){return ue(r,void 0,void 0,(function(){var r;return se(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new Yh({next:function(o){t.enqueueAndForget((function(){return th(e,a)}));var u=o.docs.has(n);!u&&o.fromCache?i.reject(new ho(fo.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&o.fromCache&&r&&"server"===r.source?i.reject(new ho(fo.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),a=new oh(Ra(n.path),o,{includeMetadataChanges:!0,so:!0});return eh(e,a)},[4,sd(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}function ld(e,t,n){var r=this;void 0===n&&(n={});var i=new ic;return e.asyncQueue.enqueueAndForget((function(){return ue(r,void 0,void 0,(function(){var r;return se(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new Yh({next:function(n){t.enqueueAndForget((function(){return th(e,a)})),n.fromCache&&"server"===r.source?i.reject(new ho(fo.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),a=new oh(n,o,{includeMetadataChanges:!0,so:!0});return eh(e,a)},[4,sd(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}var fd=function(e,t,n,r,i,o,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a},hd=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),dd=new Map,pd=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},vd=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e){this.changeListener=e,e($l.UNAUTHENTICATED)},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),yd=function(){function e(e){this.token=e,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e){this.changeListener=e,e(this.token.user)},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),md=function(){function e(e){var t=this;this.oc=null,this.currentUser=$l.UNAUTHENTICATED,this.receivedInitialUser=!1,this.cc=0,this.changeListener=null,this.forceRefresh=!1,this.oc=function(){t.cc++,t.currentUser=t.uc(),t.receivedInitialUser=!0,t.changeListener&&t.changeListener(t.currentUser)},this.cc=0,this.auth=e.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.oc):(this.oc(null),e.get().then((function(e){t.auth=e,t.oc&&t.auth.addAuthTokenListener(t.oc)}),(function(){})))}return e.prototype.getToken=function(){var e=this,t=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.cc!==t?(yo("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Eo("string"==typeof n.accessToken),new pd(n.accessToken,e.currentUser)):null})):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e){this.changeListener=e,this.receivedInitialUser&&e(this.currentUser)},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.oc),this.oc=null,this.changeListener=null},e.prototype.uc=function(){var e=this.auth&&this.auth.getUid();return Eo(null===e||"string"==typeof e),new $l(e)},e}(),gd=function(){function e(e,t,n){this.ac=e,this.hc=t,this.lc=n,this.type="FirstParty",this.user=$l.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.hc},t=this.ac.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.lc&&(e["X-Goog-Iam-Authorization-Token"]=this.lc),e},enumerable:!1,configurable:!0}),e}(),bd=function(){function e(e,t,n){this.ac=e,this.hc=t,this.lc=n}return e.prototype.getToken=function(){return Promise.resolve(new gd(this.ac,this.hc,this.lc))},e.prototype.setChangeListener=function(e){e($l.FIRST_PARTY)},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();function wd(e,t,n){if(!n)throw new ho(fo.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function Ed(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new ho(fo.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function _d(e,t,n,r){if(!0===t&&!0===r)throw new ho(fo.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function Sd(e){if(!$o.isDocumentKey(e))throw new ho(fo.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function kd(e){if($o.isDocumentKey(e))throw new ho(fo.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function Td(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":wo()}function Id(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ho(fo.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Td(e);throw new ho(fo.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function xd(e,t){if(t<=0)throw new ho(fo.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}var Cd=function(){function e(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new ho(fo.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ho(fo.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,_d("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties},e}(),Nd=function(){function e(e,t){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Cd({}),this._settingsFrozen=!1,e instanceof hd?(this._databaseId=e,this._credentials=new vd):(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ho(fo.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hd(e.options.projectId)}(e),this._credentials=new md(t))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new ho(fo.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(e){if(this._settingsFrozen)throw new ho(fo.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Cd(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new vd;switch(e.type){case"gapi":var t=e.client;return Eo(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new bd(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new ho(fo.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return this,(e=dd.get(this))&&(yo("ComponentProvider","Removing Datastore"),dd.delete(this),e.terminate()),Promise.resolve();var e},e}(),Dd=function(){function e(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Od(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),Ad=function(){function e(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),Od=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,Ra(r))||this)._path=r,i.type="collection",i}return oe(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Dd(this.firestore,null,new $o(e))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._path)},t}(Ad);function Pd(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=Ie(e),wd("collection","path",t),e instanceof Nd)return kd(n=Ro.fromString.apply(Ro,fe([t],r))),new Od(e,null,n);if(!(e instanceof Dd||e instanceof Od))throw new ho(fo.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return kd(n=Ro.fromString.apply(Ro,fe([e.path],r)).child(Ro.fromString(t))),new Od(e.firestore,null,n)}function Rd(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=Ie(e),1===arguments.length&&(t=ko.u()),wd("doc","path",t),e instanceof Nd)return Sd(n=Ro.fromString.apply(Ro,fe([t],r))),new Dd(e,null,new $o(n));if(!(e instanceof Dd||e instanceof Od))throw new ho(fo.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Sd(n=e._path.child(Ro.fromString.apply(Ro,fe([t],r)))),new Dd(e.firestore,e instanceof Od?e.converter:null,new $o(n))}function Ld(e,t){return e=Ie(e),t=Ie(t),(e instanceof Dd||e instanceof Od)&&(t instanceof Dd||t instanceof Od)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Md(e,t){return e=Ie(e),t=Ie(t),e instanceof Ad&&t instanceof Ad&&e.firestore===t.firestore&&za(e._query,t._query)&&e.converter===t.converter}var Fd=function(){function e(){var e=this;this.fc=Promise.resolve(),this.dc=[],this.wc=!1,this._c=[],this.mc=null,this.yc=!1,this.gc=[],this.Zi=new vf(this,"async_queue_retry"),this.Ec=function(){var t=df();t&&yo("AsyncQueue","Visibility state changed to "+t.visibilityState),e.Zi.Gi()};var t=df();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ec)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this.wc},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Tc(),this.Ic(e)},e.prototype.enterRestrictedMode=function(){if(!this.wc){this.wc=!0;var e=df();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ec)}},e.prototype.enqueue=function(e){return this.Tc(),this.wc?new Promise((function(e){})):this.Ic(e)},e.prototype.enqueueRetryable=function(e){var t=this;this.enqueueAndForget((function(){return t.dc.push(e),t.Ac()}))},e.prototype.Ac=function(){return ue(this,void 0,void 0,(function(){var e,t=this;return se(this,(function(n){switch(n.label){case 0:if(0===this.dc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.dc[0]()];case 2:return n.sent(),this.dc.shift(),this.Zi.reset(),[3,4];case 3:if(!lc(e=n.sent()))throw e;return yo("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.dc.length>0&&this.Zi.ji((function(){return t.Ac()})),n.label=5;case 5:return[2]}}))}))},e.prototype.Ic=function(e){var t=this,n=this.fc.then((function(){return t.yc=!0,e().catch((function(e){throw t.mc=e,t.yc=!1,mo("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((function(e){return t.yc=!1,e}))}));return this.fc=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.Tc(),this.gc.indexOf(e)>-1&&(t=0);var i=Gf.createAndSchedule(this,e,t,n,(function(e){return r.Rc(e)}));return this._c.push(i),i},e.prototype.Tc=function(){this.mc&&wo()},e.prototype.verifyOperationInProgress=function(){},e.prototype.bc=function(){return ue(this,void 0,void 0,(function(){var e;return se(this,(function(t){switch(t.label){case 0:return[4,e=this.fc];case 1:t.sent(),t.label=2;case 2:if(e!==this.fc)return[3,0];t.label=3;case 3:return[2]}}))}))},e.prototype.vc=function(e){for(var t=0,n=this._c;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},e.prototype.Pc=function(e){var t=this;return this.bc().then((function(){t._c.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));for(var n=0,r=t._c;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==e&&i.timerId===e)break}return t.bc()}))},e.prototype.Vc=function(e){this.gc.push(e)},e.prototype.Rc=function(e){var t=this._c.indexOf(e);this._c.splice(t,1)},e}();function jd(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(e)}!function(){function e(){this._progressObserver={},this._taskCompletionResolver=new ic,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}e.prototype.onProgress=function(e,t,n){this._progressObserver={next:e,error:t,complete:n}},e.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},e.prototype.then=function(e,t){return this._taskCompletionResolver.promise.then(e,t)},e.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},e.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},e.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}();var Ud=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).type="firestore",r._queue=new Fd,r._persistenceKey="name"in t?t.name:"[DEFAULT]",r}return oe(t,e),t.prototype._terminate=function(){return this._firestoreClient||qd(this),this._firestoreClient.terminate()},t}(Nd);function Vd(e){return e._firestoreClient||qd(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function qd(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new fd(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Zh(e._credentials,e._queue,r)}function Bd(e,t,n){var r=this,i=new ic;return e.asyncQueue.enqueue((function(){return ue(r,void 0,void 0,(function(){var r;return se(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,ed(e,n)];case 1:return o.sent(),[4,td(e,t)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(e){return"FirebaseError"===e.name?e.code===fo.FAILED_PRECONDITION||e.code===fo.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function zd(e){if(e._initialized||e._terminated)throw new ho(fo.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Kd=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;++n)if(0===e[n].length)throw new ho(fo.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mo(e)}return e.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},e}(),Hd=function(){function e(e){this._byteString=e}return e.fromBase64String=function(t){try{return new e(jo.fromBase64String(t))}catch(t){throw new ho(fo.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},e.fromUint8Array=function(t){return new e(jo.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},e}(),Wd=function(e){this._methodName=e},Gd=function(){function e(e,t){if(!isFinite(e)||e<-90||e>90)throw new ho(fo.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ho(fo.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(e){return To(this._lat,e._lat)||To(this._long,e._long)},e}(),Qd=/^__.*__$/,$d=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return null!==this.fieldMask?new Eu(e,this.data,this.fieldMask,t,this.fieldTransforms):new wu(e,this.data,t,this.fieldTransforms)},e}(),Yd=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return new Eu(e,this.data,this.fieldMask,t,this.fieldTransforms)},e}();function Xd(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wo()}}var Jd=function(){function e(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Sc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dc",{get:function(){return this.settings.Dc},enumerable:!1,configurable:!0}),e.prototype.Cc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.Nc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Cc({path:n,xc:!1});return r.Fc(e),r},e.prototype.kc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Cc({path:n,xc:!1});return r.Sc(),r},e.prototype.Oc=function(e){return this.Cc({path:void 0,xc:!0})},e.prototype.$c=function(e){return gp(e,this.settings.methodName,this.settings.Mc||!1,this.path,this.settings.Lc)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))},e.prototype.Sc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Fc(this.path.get(e))},e.prototype.Fc=function(e){if(0===e.length)throw this.$c("Document fields must not be empty");if(Xd(this.Dc)&&Qd.test(e))throw this.$c('Document fields cannot begin and end with "__"')},e}(),Zd=function(){function e(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.R=n||pf(e)}return e.prototype.Bc=function(e,t,n,r){return void 0===r&&(r=!1),new Jd({Dc:e,methodName:t,Lc:n,path:Mo.emptyPath(),xc:!1,Mc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function ep(e){var t=e._freezeSettings(),n=pf(e._databaseId);return new Zd(e._databaseId,!!t.ignoreUndefinedProperties,n)}function tp(e,t,n,r,i,o){void 0===o&&(o={});var a=e.Bc(o.merge||o.mergeFields?2:0,t,n,i);pp("Data must be an object, but it was:",a,r);var u,s,c=hp(r,a);if(o.merge)u=new Fo(a.fieldMask),s=a.fieldTransforms;else if(o.mergeFields){for(var l=[],f=0,h=o.mergeFields;f<h.length;f++){var d=vp(t,h[f],n);if(!a.contains(d))throw new ho(fo.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");bp(l,d)||l.push(d)}u=new Fo(l),s=a.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=a.fieldTransforms;return new $d(new ca(c),u,s)}var np=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return oe(t,e),t.prototype._toFieldTransform=function(e){if(2!==e.Dc)throw 1===e.Dc?e.$c(this._methodName+"() can only appear at the top level of your update data"):e.$c(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(Wd);function rp(e,t,n){return new Jd({Dc:3,Lc:t.settings.Lc,methodName:e._methodName,xc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var ip=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return oe(t,e),t.prototype._toFieldTransform=function(e){return new lu(e.path,new nu)},t.prototype.isEqual=function(e){return e instanceof t},t}(Wd),op=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).qc=n,r}return oe(t,e),t.prototype._toFieldTransform=function(e){var t=rp(this,e,!0),n=this.qc.map((function(e){return fp(e,t)})),r=new ru(n);return new lu(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(Wd),ap=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).qc=n,r}return oe(t,e),t.prototype._toFieldTransform=function(e){var t=rp(this,e,!0),n=this.qc.map((function(e){return fp(e,t)})),r=new ou(n);return new lu(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(Wd),up=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Uc=n,r}return oe(t,e),t.prototype._toFieldTransform=function(e){var t=new uu(e.R,Xa(e.R,this.Uc));return new lu(e.path,t)},t.prototype.isEqual=function(e){return this===e},t}(Wd);function sp(e,t,n,r){var i=e.Bc(1,t,n);pp("Data must be an object, but it was:",i,r);var o=[],a=ca.empty();Ao(r,(function(e,r){var u=mp(t,e,n);r=Ie(r);var s=i.kc(u);if(r instanceof np)o.push(u);else{var c=fp(r,s);null!=c&&(o.push(u),a.set(u,c))}}));var u=new Fo(o);return new Yd(a,u,i.fieldTransforms)}function cp(e,t,n,r,i,o){var a=e.Bc(1,t,n),u=[vp(t,r,n)],s=[i];if(o.length%2!=0)throw new ho(fo.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)u.push(vp(t,o[c])),s.push(o[c+1]);for(var l=[],f=ca.empty(),h=u.length-1;h>=0;--h)if(!bp(l,u[h])){var d=u[h],p=s[h];p=Ie(p);var v=a.kc(d);if(p instanceof np)l.push(d);else{var y=fp(p,v);null!=y&&(l.push(d),f.set(d,y))}}var m=new Fo(l);return new Yd(f,m,a.fieldTransforms)}function lp(e,t,n,r){return void 0===r&&(r=!1),fp(n,e.Bc(r?4:3,t))}function fp(e,t){if(dp(e=Ie(e)))return pp("Unsupported field value:",t,e),hp(e,t);if(e instanceof Wd)return function(e,t){if(!Xd(t.Dc))throw t.$c(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.$c(e._methodName+"() is not currently supported inside arrays");var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xc&&4!==t.Dc)throw t.$c("Nested arrays are not supported");return function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=fp(o[i],t.Oc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Ie(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Xa(t.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Co.fromDate(e);return{timestampValue:os(t.R,n)}}if(e instanceof Co)return n=new Co(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:os(t.R,n)};if(e instanceof Gd)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Hd)return{bytesValue:as(t.R,e._byteString)};if(e instanceof Dd){n=t.databaseId;var r=e.firestore._databaseId;if(!r.isEqual(n))throw t.$c("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:cs(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.$c("Unsupported field value: "+Td(e))}(e,t)}function hp(e,t){var n={};return Oo(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ao(e,(function(e,r){var i=fp(r,t.Nc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function dp(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Co||e instanceof Gd||e instanceof Hd||e instanceof Dd||e instanceof Wd)}function pp(e,t,n){if(!dp(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Td(n);throw"an object"===r?t.$c(e+" a custom object"):t.$c(e+" "+r)}}function vp(e,t,n){if((t=Ie(t))instanceof Kd)return t._internalPath;if("string"==typeof t)return mp(e,t);throw gp("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var yp=new RegExp("[~\\*/\\[\\]]");function mp(e,t,n){if(t.search(yp)>=0)throw gp("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return(new(Kd.bind.apply(Kd,fe([void 0],t.split(".")))))._internalPath}catch(u){throw gp("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function gp(e,t,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,u="Function "+t+"() called with invalid data";n&&(u+=" (via `toFirestore()`)");var s="";return(o||a)&&(s+=" (found",o&&(s+=" in field "+r),a&&(s+=" in document "+i),s+=")"),new ho(fo.INVALID_ARGUMENT,(u+=". ")+e+s)}function bp(e,t){return e.some((function(e){return e.isEqual(t)}))}var wp=function(){function e(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Dd(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return null!==this._document},e.prototype.data=function(){if(this._document){if(this._converter){var e=new Ep(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.toProto())}},e.prototype.get=function(e){if(this._document){var t=this._document.data.field(_p("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}},e}(),Ep=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return oe(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(wp);function _p(e,t){return"string"==typeof t?mp(e,t):t instanceof Kd?t._internalPath:t._delegate._internalPath}var Sp=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),kp=function(e){function t(t,n,r,i,o,a){var u=this;return(u=e.call(this,t,n,r,i,a)||this)._firestore=t,u._firestoreImpl=t,u.metadata=o,u}return oe(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var t=new Tp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.toProto(),e.serverTimestamps)}},t.prototype.get=function(e,t){if(void 0===t&&(t={}),this._document){var n=this._document.data.field(_p("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}},t}(wp),Tp=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return oe(t,e),t.prototype.data=function(t){return void 0===t&&(t={}),e.prototype.data.call(this,t)},t}(kp),Ip=function(){function e(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Sp(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Tp(n._firestore,n._userDataWriter,r.key,r,new Sp(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},e.prototype.docChanges=function(e){void 0===e&&(e={});var t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ho(fo.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new Tp(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Sp(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Tp(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Sp(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:xp(t.type),doc:n,oldIndex:i,newIndex:o}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e}();function xp(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wo()}}function Cp(e,t){return e instanceof kp&&t instanceof kp?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Ip&&t instanceof Ip&&e._firestore===t._firestore&&Md(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Np(e){if(Ma(e)&&0===e.explicitOrderBy.length)throw new ho(fo.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Dp=function(){};function Ap(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];e=o._apply(e)}return e}var Op=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Qc=t,i.Kc=n,i.jc=r,i.type="where",i}return oe(t,e),t.prototype._apply=function(e){var t=ep(e.firestore),n=function(e,t,n,r,i,o,a){var u;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new ho(fo.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Up(a,o);for(var s=[],c=0,l=a;c<l.length;c++){var f=l[c];s.push(jp(r,e,f))}u={arrayValue:{values:s}}}else u=jp(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Up(a,o),u=lp(n,"where",a,"in"===o||"not-in"===o);var h=ma.create(i,o,u);return function(e,t){if(t.g()){var n=ja(e);if(null!==n&&!n.isEqual(t.field))throw new ho(fo.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+t.field.toString()+"'");var r=Fa(e);null!==r&&Vp(e,t.field,r)}var i=function(e,t){for(var n=0,r=e.filters;n<r.length;n++){var i=r[n];if(t.indexOf(i.op)>=0)return i.op}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new ho(fo.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new ho(fo.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+i.toString()+"' filters.")}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.Qc,this.Kc,this.jc);return new Ad(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Oa(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))},t}(Dp),Pp=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Qc=t,r.Wc=n,r.type="orderBy",r}return oe(t,e),t.prototype._apply=function(e){var t=function(e,t,n){if(null!==e.startAt)throw new ho(fo.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new ho(fo.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Ca(t,n);return function(e,t){if(null===Fa(e)){var n=ja(e);null!==n&&Vp(e,n,t.field)}}(e,r),r}(e._query,this.Qc,this.Wc);return new Ad(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Oa(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))},t}(Dp),Rp=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Gc=n,i.zc=r,i}return oe(t,e),t.prototype._apply=function(e){return new Ad(e.firestore,e.converter,Ba(e._query,this.Gc,this.zc))},t}(Dp),Lp=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Hc=n,i.Jc=r,i}return oe(t,e),t.prototype._apply=function(e){var t=Fp(e,this.type,this.Hc,this.Jc);return new Ad(e.firestore,e.converter,function(e,t){return new Oa(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))},t}(Dp),Mp=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Hc=n,i.Jc=r,i}return oe(t,e),t.prototype._apply=function(e){var t=Fp(e,this.type,this.Hc,this.Jc);return new Ad(e.firestore,e.converter,function(e,t){return new Oa(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))},t}(Dp);function Fp(e,t,n,r){if(n[0]=Ie(n[0]),n[0]instanceof wp)return function(e,t,n,r,i){if(!r)throw new ho(fo.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,u=Va(e);a<u.length;a++){var s=u[a];if(s.field.isKeyField())o.push(ra(t,r.key));else{var c=r.data.field(s.field);if(zo(c))throw new ho(fo.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new ho(fo.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Ia(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=ep(e.firestore);return function(e,t,n,r,i,o){var a=e.explicitOrderBy;if(i.length>a.length)throw new ho(fo.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var u=[],s=0;s<i.length;s++){var c=i[s];if(a[s].field.isKeyField()){if("string"!=typeof c)throw new ho(fo.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Ua(e)&&-1!==c.indexOf("/"))throw new ho(fo.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=e.path.child(Ro.fromString(c));if(!$o.isDocumentKey(l))throw new ho(fo.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var f=new $o(l);u.push(ra(t,f))}else{var h=lp(n,r,c);u.push(h)}}return new Ia(u,o)}(e._query,e.firestore._databaseId,i,t,n,r)}function jp(e,t,n){if("string"==typeof(n=Ie(n))){if(""===n)throw new ho(fo.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ua(t)&&-1!==n.indexOf("/"))throw new ho(fo.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(Ro.fromString(n));if(!$o.isDocumentKey(r))throw new ho(fo.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return ra(e,new $o(r))}if(n instanceof Dd)return ra(e,n._key);throw new ho(fo.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Td(n)+".")}function Up(e,t){if(!Array.isArray(e)||0===e.length)throw new ho(fo.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new ho(fo.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function Vp(e,t,n){if(!n.isEqual(t))throw new ho(fo.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var qp=function(){function e(){}return e.prototype.convertValue=function(e,t){switch(void 0===t&&(t="none"),Yo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qo(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Bo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw wo()}},e.prototype.convertObject=function(e,t){var n=this,r={};return Ao(e.fields||{},(function(e,i){r[e]=n.convertValue(i,t)})),r},e.prototype.convertGeoPoint=function(e){return new Gd(qo(e.latitude),qo(e.longitude))},e.prototype.convertArray=function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))},e.prototype.convertServerTimestamp=function(e,t){switch(t){case"previous":var n=Ko(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Ho(e));default:return null}},e.prototype.convertTimestamp=function(e){var t=Vo(e);return new Co(t.seconds,t.nanos)},e.prototype.convertDocumentKey=function(e,t){var n=Ro.fromString(e);Eo(Rs(n));var r=new hd(n.get(1),n.get(3)),i=new $o(n.popFirst(5));return r.isEqual(t)||mo("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),i},e}();function Bp(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var zp=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return oe(t,e),t.prototype.convertBytes=function(e){return new Hd(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Dd(this.firestore,null,t)},t}(qp),Kp=function(){function e(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=ep(e)}return e.prototype.set=function(e,t,n){this._verifyNotCommitted();var r=Hp(e,this._firestore),i=Bp(r.converter,t,n),o=tp(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,hu.none())),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,a=Hp(e,this._firestore);return o="string"==typeof(t=Ie(t))||t instanceof Kd?cp(this._dataReader,"WriteBatch.update",a._key,t,n,r):sp(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(o.toMutation(a._key,hu.exists(!0))),this},e.prototype.delete=function(e){this._verifyNotCommitted();var t=Hp(e,this._firestore);return this._mutations=this._mutations.concat(new xu(t._key,hu.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new ho(fo.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();function Hp(e,t){if((e=Ie(e)).firestore!==t)throw new ho(fo.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var Wp=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return oe(t,e),t.prototype.convertBytes=function(e){return new Hd(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Dd(this.firestore,null,t)},t}(qp);function Gp(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=Id(e,Dd);var o=Id(e.firestore,Ud),a=ep(o);return $p(o,[("string"==typeof(t=Ie(t))||t instanceof Kd?cp(a,"updateDoc",e._key,t,n,r):sp(a,"updateDoc",e._key,t)).toMutation(e._key,hu.exists(!0))])}function Qp(e){for(var t,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];e=Ie(e);var a={includeMetadataChanges:!1},u=0;"object"!=typeof i[u]||jd(i[u])||(a=i[u],u++);var s,c,l,f={includeMetadataChanges:a.includeMetadataChanges};if(jd(i[u])){var h=i[u];i[u]=null===(t=h.next)||void 0===t?void 0:t.bind(h),i[u+1]=null===(n=h.error)||void 0===n?void 0:n.bind(h),i[u+2]=null===(r=h.complete)||void 0===r?void 0:r.bind(h)}if(e instanceof Dd)c=Id(e.firestore,Ud),l=Ra(e._key.path),s={next:function(t){i[u]&&i[u](Yp(c,e,t))},error:i[u+1],complete:i[u+2]};else{var d=Id(e,Ad);c=Id(d.firestore,Ud),l=d._query;var p=new Wp(c);s={next:function(e){i[u]&&i[u](new Ip(c,p,d,e))},error:i[u+1],complete:i[u+2]},Np(e._query)}return function(e,t,n,r){var i=this,o=new Yh(r),a=new oh(t,o,n);return e.asyncQueue.enqueueAndForget((function(){return ue(i,void 0,void 0,(function(){var t;return se(this,(function(n){switch(n.label){case 0:return t=eh,[4,sd(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))})),function(){o.Wo(),e.asyncQueue.enqueueAndForget((function(){return ue(i,void 0,void 0,(function(){var t;return se(this,(function(n){switch(n.label){case 0:return t=th,[4,sd(e)];case 1:return[2,t.apply(void 0,[n.sent(),a])]}}))}))}))}}(Vd(c),l,f,s)}function $p(e,t){return function(e,t){var n=this,r=new ic;return e.asyncQueue.enqueueAndForget((function(){return ue(n,void 0,void 0,(function(){var n;return se(this,(function(i){switch(i.label){case 0:return n=gh,[4,ud(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(Vd(e),t)}function Yp(e,t,n){var r=n.docs.get(t._key),i=new Wp(e);return new kp(e,i,t._key,r,new Sp(n.hasPendingWrites,n.fromCache),t.converter)}var Xp=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this)._firestore=t,r}return oe(t,e),t.prototype.get=function(t){var n=this,r=Hp(t,this._firestore),i=new Wp(this._firestore);return e.prototype.get.call(this,t).then((function(e){return new kp(n._firestore,i,r._key,e._document,new Sp(!1,!1),r.converter)}))},t}(function(){function e(e,t){this._firestore=e,this._transaction=t,this._dataReader=ep(e)}return e.prototype.get=function(e){var t=this,n=Hp(e,this._firestore),r=new zp(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return wo();var i=e[0];if(i.isFoundDocument())return new wp(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new wp(t._firestore,r,n._key,null,n.converter);throw wo()}))},e.prototype.set=function(e,t,n){var r=Hp(e,this._firestore),i=Bp(r.converter,t,n),o=tp(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=Hp(e,this._firestore);return o="string"==typeof(t=Ie(t))||t instanceof Kd?cp(this._dataReader,"Transaction.update",a._key,t,n,r):sp(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,o),this},e.prototype.delete=function(e){var t=Hp(e,this._firestore);return this._transaction.delete(t._key),this},e}());function Jp(){if("undefined"==typeof Uint8Array)throw new ho(fo.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Zp(){if("undefined"==typeof atob)throw new ho(fo.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var ev=function(){function e(e){this._delegate=e}return e.fromBase64String=function(t){return Zp(),new e(Hd.fromBase64String(t))},e.fromUint8Array=function(t){return Jp(),new e(Hd.fromUint8Array(t))},e.prototype.toBase64=function(){return Zp(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return Jp(),this._delegate.toUint8Array()},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),tv=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(e,t){return function(e,t){zd(e=Id(e,Ud));var n=Vd(e),r=e._freezeSettings(),i=new $h;return Bd(n,i,new Gh(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})},e.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(e){zd(e=Id(e,Ud));var t=Vd(e),n=e._freezeSettings(),r=new $h;return Bd(t,r,new Qh(r,n.cacheSizeBytes))}(e._delegate)},e.prototype.clearIndexedDbPersistence=function(e){return function(e){var t=this;if(e._initialized&&!e._terminated)throw new ho(fo.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new ic;return e._queue.enqueueAndForgetEvenWhileRestricted((function(){return ue(t,void 0,void 0,(function(){var t;return se(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(e){return ue(this,void 0,void 0,(function(){var t;return se(this,(function(n){switch(n.label){case 0:return uc.yt()?(t=e+"main",[4,uc.delete(t)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(gl(e._databaseId,e._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}}))}))})),n.promise}(e._delegate)},e}(),nv=function(){function e(e,t,n){var r=this;this._delegate=t,this.Yc=n,this.INTERNAL={delete:function(){return r.terminate()}},e instanceof hd||(this.Xc=e)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(e){e.merge&&delete(e=Object.assign(Object.assign({},this._delegate._getSettings()),e)).merge,this._delegate._setSettings(e)},e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),function(e,t,n,r){void 0===r&&(r={});var i=(e=Id(e,Nd))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==t&&go("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},i),{host:t+":"+n,ssl:!1})),r.mockUserToken){var o=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var o=ae({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[de.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),de.encodeString(JSON.stringify(o),!1),""].join(".")}(r.mockUserToken),a=r.mockUserToken.sub||r.mockUserToken.user_id;if(!a)throw new ho(fo.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");e._credentials=new yd(new pd(o,new $l(a)))}}(this._delegate,e,t,n)},e.prototype.enableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return ue(t,void 0,void 0,(function(){var t,n;return se(this,(function(r){switch(r.label){case 0:return[4,id(e)];case 1:return t=r.sent(),[4,ad(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!0),function(e){var t=_o(e);return t.$r.delete(0),_f(t)}(n))]}}))}))}))}(Vd(Id(this._delegate,Ud)))},e.prototype.disableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return ue(t,void 0,void 0,(function(){var t,n;return se(this,(function(r){switch(r.label){case 0:return[4,id(e)];case 1:return t=r.sent(),[4,ad(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!1),function(e){return ue(this,void 0,void 0,(function(){var t;return se(this,(function(n){switch(n.label){case 0:return(t=_o(e)).$r.add(0),[4,Sf(t)];case 1:return n.sent(),t.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Vd(Id(this._delegate,Ud)))},e.prototype.enablePersistence=function(e){var t=!1,n=!1;return e&&_d("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this.Yc.enableMultiTabIndexedDbPersistence(this):this.Yc.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Yc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.Xc&&(this.Xc._removeServiceInstance("firestore"),this.Xc._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(e){var t=this,n=new ic;return e.asyncQueue.enqueueAndForget((function(){return ue(t,void 0,void 0,(function(){var t;return se(this,(function(r){switch(r.label){case 0:return t=kh,[4,ud(e)];case 1:return[2,t.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(Vd(Id(this._delegate,Ud)))},e.prototype.onSnapshotsInSync=function(e){return function(e,t){return function(e,t){var n=this,r=new Yh(t);return e.asyncQueue.enqueueAndForget((function(){return ue(n,void 0,void 0,(function(){var t;return se(this,(function(n){switch(n.label){case 0:return t=function(e,t){_o(e).Gr.add(t),t.next()},[4,sd(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),e.asyncQueue.enqueueAndForget((function(){return ue(n,void 0,void 0,(function(){var t;return se(this,(function(n){switch(n.label){case 0:return t=function(e,t){_o(e).Gr.delete(t)},[4,sd(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))}))}}(Vd(e=Id(e,Ud)),jd(t)?t:{next:t})}(this._delegate,e)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.Xc)throw new ho(fo.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Xc},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new yv(this,Pd(this._delegate,e))}catch(e){throw sv(e,"collection()","Firestore.collection()")}},e.prototype.doc=function(e){try{return new uv(this,Rd(this._delegate,e))}catch(e){throw sv(e,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(e){try{return new dv(this,function(e,t){if(e=Id(e,Nd),wd("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new ho(fo.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Ad(e,null,function(e){return new Oa(Ro.emptyPath(),e)}(t))}(this._delegate,e))}catch(e){throw sv(e,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(e){var t=this;return function(e,t){return function(e,t){var n=this,r=new ic;return e.asyncQueue.enqueueAndForget((function(){return ue(n,void 0,void 0,(function(){var n;return se(this,(function(i){switch(i.label){case 0:return[4,function(e){return rd(e).then((function(e){return e.datastore}))}(e)];case 1:return n=i.sent(),new Jh(e.asyncQueue,n,t,r).run(),[2]}}))}))})),r.promise}(Vd(e),(function(n){return t(new Xp(e,n))}))}(this._delegate,(function(n){return e(new iv(t,n))}))},e.prototype.batch=function(){var e=this;return Vd(this._delegate),new ov(new Kp(this._delegate,(function(t){return $p(e._delegate,t)})))},e.prototype.loadBundle=function(e){throw new ho(fo.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(e){throw new ho(fo.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),rv=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return oe(t,e),t.prototype.convertBytes=function(e){return new ev(new Hd(e))},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return uv.Zc(t,this.firestore,null)},t}(qp);var iv=function(){function e(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new rv(e)}return e.prototype.get=function(e){var t=this,n=mv(e);return this._delegate.get(n).then((function(e){return new fv(t._firestore,new kp(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))},e.prototype.set=function(e,t,n){var r=mv(e);return n?(Ed("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=mv(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,fe([a,t,n],i)),this},e.prototype.delete=function(e){var t=mv(e);return this._delegate.delete(t),this},e}(),ov=function(){function e(e){this._delegate=e}return e.prototype.set=function(e,t,n){var r=mv(e);return n?(Ed("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=mv(e);return 2===arguments.length?this._delegate.update(a,t):(r=this._delegate).update.apply(r,fe([a,t,n],i)),this},e.prototype.delete=function(e){var t=mv(e);return this._delegate.delete(t),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),av=function(){function e(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}return e.prototype.fromFirestore=function(e,t){var n=new Tp(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new hv(this._firestore,n),null!=t?t:{})},e.prototype.toFirestore=function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)},e.tu=function(t,n){var r=e.eu,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new rv(t),n),i.set(n,o)),o},e}();av.eu=new WeakMap;var uv=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new rv(e)}return e.nu=function(t,n,r){if(t.length%2!=0)throw new ho(fo.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new Dd(n._delegate,r,new $o(t)))},e.Zc=function(t,n,r){return new e(n,new Dd(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new yv(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new yv(this.firestore,Pd(this._delegate,e))}catch(e){throw sv(e,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(e){return(e=Ie(e))instanceof Dd&&Ld(this._delegate,e)},e.prototype.set=function(e,t){t=Ed("DocumentReference.set",t);try{return function(e,t,n){e=Id(e,Dd);var r=Id(e.firestore,Ud),i=Bp(e.converter,t,n);return $p(r,[tp(ep(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,hu.none())])}(this._delegate,e,t)}catch(e){throw sv(e,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Gp(this._delegate,e):Gp.apply(void 0,fe([this._delegate,e,t],n))}catch(e){throw sv(e,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return $p(Id((e=this._delegate).firestore,Ud),[new xu(e._key,hu.none())]);var e},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=cv(t),i=lv(t,(function(t){return new fv(e.firestore,new kp(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return Qp(this._delegate,r,i)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=Id(e,Dd);var t=Id(e.firestore,Ud),n=Vd(t),r=new Wp(t);return function(e,t){var n=this,r=new ic;return e.asyncQueue.enqueueAndForget((function(){return ue(n,void 0,void 0,(function(){var n;return se(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return ue(this,void 0,void 0,(function(){var r,i;return se(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(e,t){var n=_o(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Mn.mn(e,t)}))}(e,t)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new ho(fo.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Qf(r,"Failed to get document '"+t+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,od(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._key).then((function(n){return new kp(t,r,e._key,n,new Sp(null!==n&&n.hasLocalMutations,!0),e.converter)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Id(e,Dd);var t=Id(e.firestore,Ud);return cd(Vd(t),e._key,{source:"server"}).then((function(n){return Yp(t,e,n)}))}(this._delegate):function(e){e=Id(e,Dd);var t=Id(e.firestore,Ud);return cd(Vd(t),e._key).then((function(n){return Yp(t,e,n)}))}(this._delegate)).then((function(e){return new fv(t.firestore,new kp(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(av.tu(this.firestore,t)):this._delegate.withConverter(null))},e}();function sv(e,t,n){return e.message=e.message.replace(t,n),e}function cv(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if("object"==typeof r&&!jd(r))return r}return{}}function lv(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=jd(e[0])?e[0]:jd(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var fv=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"ref",{get:function(){return new uv(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(e){return this._delegate.data(e)},e.prototype.get=function(e,t){return this._delegate.get(e,t)},e.prototype.isEqual=function(e){return Cp(this._delegate,e._delegate)},e}(),hv=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return oe(t,e),t.prototype.data=function(e){return this._delegate.data(e)},t}(fv),dv=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new rv(e)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,Ap(this._delegate,function(e,t,n){var r=t,i=_p("where",e);return new Op(i,r,n)}(t,n,r)))}catch(t){throw sv(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Ap(this._delegate,function(e,t){void 0===t&&(t="asc");var n=t,r=_p("orderBy",e);return new Pp(r,n)}(t,n)))}catch(t){throw sv(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Ap(this._delegate,function(e){return xd("limit",e),new Rp("limit",e,"F")}(t)))}catch(t){throw sv(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Ap(this._delegate,function(e){return xd("limitToLast",e),new Rp("limitToLast",e,"L")}(t)))}catch(t){throw sv(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Ap(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Lp("startAt",e,!0)}.apply(void 0,t)))}catch(t){throw sv(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Ap(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Lp("startAfter",e,!1)}.apply(void 0,t)))}catch(t){throw sv(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Ap(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Mp("endBefore",e,!0)}.apply(void 0,t)))}catch(t){throw sv(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Ap(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Mp("endAt",e,!1)}.apply(void 0,t)))}catch(t){throw sv(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(e){return Md(this._delegate,e._delegate)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=Id(e,Ad);var t=Id(e.firestore,Ud),n=Vd(t),r=new Wp(t);return function(e,t){var n=this,r=new ic;return e.asyncQueue.enqueueAndForget((function(){return ue(n,void 0,void 0,(function(){var n;return se(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return ue(this,void 0,void 0,(function(){var r,i,o,a,u;return se(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,Pl(e,t,!0)];case 1:return u=s.sent(),r=new fh(t,u.Bn),i=r._o(u.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=s.sent(),u=Qf(a,"Failed to execute query '"+t+" against cache"),n.reject(u),[3,3];case 3:return[2]}}))}))},[4,od(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._query).then((function(n){return new Ip(t,r,e,n)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Id(e,Ad);var t=Id(e.firestore,Ud),n=Vd(t),r=new Wp(t);return ld(n,e._query,{source:"server"}).then((function(n){return new Ip(t,r,e,n)}))}(this._delegate):function(e){e=Id(e,Ad);var t=Id(e.firestore,Ud),n=Vd(t),r=new Wp(t);return Np(e._query),ld(n,e._query).then((function(n){return new Ip(t,r,e,n)}))}(this._delegate)).then((function(e){return new vv(t.firestore,new Ip(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=cv(t),i=lv(t,(function(t){return new vv(e.firestore,new Ip(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return Qp(this._delegate,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(av.tu(this.firestore,t)):this._delegate.withConverter(null))},e}(),pv=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new hv(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),vv=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"query",{get:function(){return new dv(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map((function(t){return new hv(e._firestore,t)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new pv(t._firestore,e)}))},e.prototype.forEach=function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new hv(n._firestore,r))}))},e.prototype.isEqual=function(e){return Cp(this._delegate,e._delegate)},e}(),yv=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).firestore=t,r._delegate=n,r}return oe(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new uv(this.firestore,e):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){try{return new uv(this.firestore,void 0===e?Rd(this._delegate):Rd(this._delegate,e))}catch(e){throw sv(e,"doc()","CollectionReference.doc()")}},t.prototype.add=function(e){var t=this;return function(e,t){var n=Id(e.firestore,Ud),r=Rd(e),i=Bp(e.converter,t);return $p(n,[tp(ep(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,hu.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new uv(t.firestore,e)}))},t.prototype.isEqual=function(e){return Ld(this._delegate,e._delegate)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(av.tu(this.firestore,e)):this._delegate.withConverter(null))},t}(dv);function mv(e){return Id(e,Dd)}var gv=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._delegate=new(Kd.bind.apply(Kd,fe([void 0],e)))}return e.documentId=function(){return new e(Mo.keyField().canonicalString())},e.prototype.isEqual=function(e){return(e=Ie(e))instanceof Kd&&this._delegate._internalPath.isEqual(e._internalPath)},e}(),bv=function(){function e(e){this._delegate=e}return e.serverTimestamp=function(){var t=new ip("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new np("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new op("arrayUnion",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new ap("arrayRemove",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(e){return new up("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e}();var wv,Ev={Firestore:nv,GeoPoint:Gd,Timestamp:Co,Blob:ev,Transaction:iv,WriteBatch:ov,DocumentReference:uv,DocumentSnapshot:fv,Query:dv,QueryDocumentSnapshot:hv,QuerySnapshot:vv,CollectionReference:yv,FieldPath:gv,FieldValue:bv,setLogLevel:function(e){var t;t=e,po.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new xe("firestore",(function(e){return function(e,t){return new nv(e,new Ud(e,t),new tv)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Ev)))})(wv=nt),wv.registerVersion("@firebase/firestore","2.3.0");nt.initializeApp({apiKey:"AIzaSyBp0GmKUnRjtJG__iTPLV27TfCFlQSZWbg",authDomain:"rocket-kitchen-3f498.firebaseapp.com",projectId:"rocket-kitchen-3f498",storageBucket:"rocket-kitchen-3f498.appspot.com",messagingSenderId:"29279221918",appId:"1:29279221918:web:c32f2e36fe852c83e6238f"});var _v=nt.firestore();var Sv=n.p+"static/media/trashCan.1129c53a10f3c716357028ea030e9d23.svg";function kv(e){var t=e.recipes,n=te().mode;if(0===t.length)return(0,X.jsx)("div",{className:"error",children:"No recipes to load..."});return(0,X.jsx)("div",{className:"recipe-list",children:t.map((function(e){return(0,X.jsxs)("div",{className:"card ".concat(n),children:[(0,X.jsx)("h3",{children:e.title}),(0,X.jsxs)("p",{children:[e.cookingTime," to make."]}),(0,X.jsxs)("div",{children:[e.method.substring(0,100),"..."]}),(0,X.jsx)(G,{to:"/recipes/".concat(e.id),children:"Cook This"}),(0,X.jsx)("img",{alt:"x",className:"delete",src:Sv,onClick:function(){return function(e){_v.collection("recipes").doc(e).delete()}(e.id)}})]},e.id)}))})}function Tv(){var t=o((0,e.useState)(null),2),n=t[0],r=t[1],i=o((0,e.useState)(!1),2),a=i[0],u=i[1],s=o((0,e.useState)(!1),2),c=s[0],l=s[1];return(0,e.useEffect)((function(){u(!0);var e=_v.collection("recipes").onSnapshot((function(e){if(e.empty)l("No recipes to load"),u(!1);else{var t=[];e.docs.forEach((function(e){t.push(Y({id:e.id},e.data()))})),r(t),u(!1)}}),(function(e){l(e.message),u(!1)}));return function(){return e()}}),[]),(0,X.jsxs)("div",{className:"home",children:[c&&(0,X.jsxs)("p",{className:"error",children:[" ",c," "]}),a&&(0,X.jsx)("p",{className:"loading",children:"Loading... "}),n&&(0,X.jsx)(kv,{recipes:n})]})}function Iv(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xv(e,t,n,r,i,o,a){try{var u=e[o](a),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function Cv(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){xv(o,r,i,a,u,"next",e)}function u(e){xv(o,r,i,a,u,"throw",e)}a(void 0)}))}}var Nv=n(757),Dv=n.n(Nv);function Av(){var t=o((0,e.useState)(""),2),n=t[0],r=t[1],i=o((0,e.useState)(""),2),a=i[0],u=i[1],s=o((0,e.useState)(""),2),c=s[0],l=s[1],f=o((0,e.useState)(""),2),h=f[0],d=f[1],p=o((0,e.useState)([]),2),v=p[0],y=p[1],m=(0,e.useRef)(null),g=I(),b=function(){var e=Cv(Dv().mark((function e(t){var r;return Dv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r={title:n,ingredients:v,method:a,cookingTime:c+" minutes"},e.prev=2,e.next=5,_v.collection("recipes").add(r);case 5:g("/"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}();return(0,X.jsxs)("div",{className:"create",children:[(0,X.jsx)("h2",{className:"page-title",children:"Add a New Recipe"}),(0,X.jsxs)("form",{onSubmit:b,children:[(0,X.jsxs)("label",{children:[(0,X.jsx)("span",{children:"Recipe title:"}),(0,X.jsx)("input",{type:"text",onChange:function(e){return r(e.target.value)},value:n,required:!0})]}),(0,X.jsxs)("label",{children:[(0,X.jsx)("span",{children:"Recipe Ingredients:"}),(0,X.jsxs)("div",{className:"ingredients",children:[(0,X.jsx)("input",{type:"text",onChange:function(e){return d(e.target.value)},value:h,ref:m}),(0,X.jsx)("button",{onClick:function(e){e.preventDefault();var t=h.trim();t&&!v.includes(t)&&y((function(e){return[].concat(Iv(e),[h])})),d(""),m.current.focus()},className:"btn",children:"add"})]})]}),(0,X.jsxs)("p",{children:["Current ingredients:"," ",v.map((function(e){return(0,X.jsxs)("em",{children:[e,", "]},e)}))]}),(0,X.jsxs)("label",{children:[(0,X.jsx)("span",{children:"Recipe Method:"}),(0,X.jsx)("textarea",{onChange:function(e){return u(e.target.value)},value:a,required:!0})]}),(0,X.jsxs)("label",{children:[(0,X.jsx)("span",{children:"Cooking time (minutes):"}),(0,X.jsx)("input",{type:"number",onChange:function(e){return l(e.target.value)},value:c,required:!0})]}),(0,X.jsx)("button",{className:"btn",children:"submit"})]})]})}function Ov(){var t=T().search,n=new URLSearchParams(t).get("q"),r=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",r=o((0,e.useState)(null),2),i=r[0],a=r[1],u=o((0,e.useState)(!1),2),s=u[0],c=u[1],l=o((0,e.useState)(null),2),f=l[0],h=l[1],d=o((0,e.useState)(null),2),p=d[0],v=d[1],y=function(e){v({method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})};return(0,e.useEffect)((function(){var e=new AbortController,r=function(){var n=Cv(Dv().mark((function n(r){var i,o;return Dv().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c(!0),n.prev=1,n.next=4,fetch(t,Y(Y({},r),{},{signal:e.signal}));case 4:if((i=n.sent).ok){n.next=7;break}throw new Error(i.statusText);case 7:return n.next=9,i.json();case 9:o=n.sent,c(!1),a(o),h(null),n.next=18;break;case 15:n.prev=15,n.t0=n.catch(1),"AbortError"===n.t0.name?console.log("the fetch was aborted"):(c(!1),h("Could not fetch the data"));case 18:case"end":return n.stop()}}),n,null,[[1,15]])})));return function(e){return n.apply(this,arguments)}}();return"GET"===n&&r(),"POST"===n&&p&&r(p),function(){e.abort()}}),[t,n,p]),{data:i,isPending:s,error:f,postData:y}}("https://my-json-server.typicode.com/shahmaraliyev/db.json-for-Reciper/recipes/?q="+n),i=r.error,a=r.isPending,u=r.data;return(0,X.jsxs)("div",{children:[(0,X.jsxs)("h2",{className:"page-title",children:['Recipes including "',n,'"']}),i&&(0,X.jsx)("p",{className:"error",children:i}),a&&(0,X.jsx)("p",{className:"loading",children:"Loading..."}),u&&(0,X.jsx)(kv,{recipes:u})]})}function Pv(){var t=function(){var t=(0,e.useContext)(g).matches,n=t[t.length-1];return n?n.params:{}}().id,n=te().mode,r=o((0,e.useState)(null),2),i=r[0],a=r[1],u=o((0,e.useState)(!1),2),s=u[0],c=u[1],l=o((0,e.useState)(!1),2),f=l[0],h=l[1];(0,e.useEffect)((function(){c(!0);var e=_v.collection("recipes").doc(t).onSnapshot((function(e){e.exists?(c(!1),a(e.data())):(a(null),c(!1),h("Could not find that recipe"))}));return function(){return e()}}),[t]);return(0,X.jsxs)("div",{className:"recipe ".concat(n),children:[f&&(0,X.jsx)("p",{className:"error",children:f}),s&&(0,X.jsx)("p",{className:"loading",children:"Loading..."}),i&&(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)("h2",{className:"page-title ".concat(n),children:i.title}),(0,X.jsxs)("p",{className:"time ".concat(n),children:["Takes ",i.cookingTime," to cook."]}),(0,X.jsx)("ul",{children:i.ingredients.map((function(e){return(0,X.jsx)("li",{className:"ing ".concat(n),children:e},e)}))}),(0,X.jsx)("p",{className:"method ".concat(n),children:i.method}),(0,X.jsx)("button",{onClick:function(){_v.collection("recipes").doc(t).update({title:"Something  completely different"})},children:"Update me"})]})]})}var Rv=n.p+"static/media/modeIcon.651cf79205ce37eeacd56da0aef056a9.svg",Lv=["#1A1A40","#BF8B67","#950101"];function Mv(){var e=te(),t=e.changeColor,n=e.changeMode,r=e.mode;return console.log(r),(0,X.jsxs)("div",{className:"theme-selector",children:[(0,X.jsx)("div",{className:"mode-toggle",children:(0,X.jsx)("img",{alt:"light-icon",src:Rv,onClick:function(){n("dark"===r?"light":"dark")},style:{filter:"dark"===r?"invert(100%)":"invert(20%)"}})}),(0,X.jsx)("div",{className:"theme-buttons",children:Lv.map((function(e){return(0,X.jsx)("div",{onClick:function(){return t(e)},style:{background:e}},e)}))})]})}var Fv=function(){var e=te().mode;return(0,X.jsx)("div",{className:"App ".concat(e),children:(0,X.jsxs)(W,{children:[(0,X.jsx)(re,{}),(0,X.jsx)(Mv,{}),(0,X.jsxs)(_,{children:[(0,X.jsx)(w,{path:"/",element:(0,X.jsx)(Tv,{})}),(0,X.jsx)(w,{path:"/create",element:(0,X.jsx)(Av,{})}),(0,X.jsx)(w,{path:"/search",element:(0,X.jsx)(Ov,{})}),(0,X.jsx)(w,{path:"/recipes/:id",element:(0,X.jsx)(Pv,{})})]})]})})},jv=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),r(e),i(e),o(e),a(e)}))};t.render((0,X.jsx)(e.StrictMode,{children:(0,X.jsx)(ee,{children:(0,X.jsx)(Fv,{})})}),document.getElementById("root")),jv()}()}();
//# sourceMappingURL=main.664a30a6.js.map